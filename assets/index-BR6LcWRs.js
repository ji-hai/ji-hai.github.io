var M=Object.defineProperty;var G=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var E=(h,e,t)=>e in h?M(h,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[e]=t;var m=(h,e)=>{var t={};for(var a in h)A.call(h,a)&&e.indexOf(a)<0&&(t[a]=h[a]);if(h!=null&&G)for(var a of G(h))e.indexOf(a)<0&&v.call(h,a)&&(t[a]=h[a]);return t};var w=(h,e,t)=>(E(h,typeof e!="symbol"?e+"":e,t),t);import{a as b,b as f,c as x,t as O}from"./index-Cjfam9dp.js";import{C as T}from"./HexagonSpreadMaterialProperty-CggJxjwh.js";class k{constructor(e){w(this,"createAlarmPoint",e=>{let t=1,a=!0;this.viewer.entities.add({position:e.position,point:{show:!0,color:new Cesium.CallbackProperty(function(){return a?(t=t-.05,t<=0&&(a=!1)):(t=t+.05,t>=1&&(a=!0)),Cesium.Color.RED.withAlpha(t)},!1),pixelSize:10,outlineWidth:0}})});w(this,"createAlarmCircle",e=>{let t=1,a=!0;this.viewer.entities.add({position:e.position,ellipse:{semiMinorAxis:e.semiMinorAxis||100,semiMajorAxis:e.semiMajorAxis||100,height:0,material:new Cesium.ColorMaterialProperty(new Cesium.CallbackProperty(function(){return a?(t=t-.05,t<=0&&(a=!1)):(t=t+.05,t>=1&&(a=!0)),Cesium.Color.RED.withAlpha(t)},!1))}})});this.viewer=e}createGraphics(){return new Cesium.Entity}getPointGraphics(l={}){var n=l,{color:e=Cesium.Color.GREEN,pixelSize:t=5,outlineColor:a=Cesium.Color.WHITE,outlineWidth:r=1}=n,s=m(n,["color","pixelSize","outlineColor","outlineWidth"]);return new Cesium.PointGraphics(Object.assign({color:e,pixelSize:t,outlineColor:a,outlineWidth:r},s))}getLineGraphics(l={}){var n=l,{show:e=!0,material:t=Cesium.Color.YELLOW,width:a=1,clampToGround:r=!1}=n,s=m(n,["show","material","width","clampToGround"]);return new Cesium.PolylineGraphics(Object.assign({show:e,material:t,width:a,clampToGround:r},s))}getPolygonGraphics(s={}){var l=s,{material:e=Cesium.Color.RED.withAlpha(.2),clampToGround:t=!1,positions:a=[]}=l,r=m(l,["material","clampToGround","positions"]);return new Cesium.PolygonGraphics(Object.assign({material:e,clampToGround:t,hierarchy:a},r))}getLabelGraphics(d={}){var C=d,{text:e="",font:t="14px sans-serif",fillColor:a=Cesium.Color.GOLD,style:r=Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:s=2,showBackground:l=!1,backgroundColor:n=new Cesium.Color(.165,.165,.165,.8),verticalOrigin:o=Cesium.VerticalOrigin.BOTTOM,pixelOffset:c=new Cesium.Cartesian2(0,-30)}=C,u=m(C,["text","font","fillColor","style","outlineWidth","showBackground","backgroundColor","verticalOrigin","pixelOffset"]);return new Cesium.LabelGraphics(Object.assign({text:e,font:t,fillColor:a,style:r,outlineWidth:s,showBackground:l,backgroundColor:n,verticalOrigin:o,pixelOffset:c},u))}getBillboardGraphics(o={}){var c=o,{width:e=35,height:t=35,clampToGround:a=!0,scale:r=1,pixelOffset:s=new Cesium.Cartesian2(0,-20),scaleByDistance:l=void 0}=c,n=m(c,["width","height","clampToGround","scale","pixelOffset","scaleByDistance"]);return new Cesium.BillboardGraphics(Object.assign({width:e,height:t,clampToGround:a,scale:r,pixelOffset:s,scaleByDistance:l},n))}getPathGraphics(l={}){var n=l,{resolution:e=1,glowPower:t=.1,color:a=Cesium.Color.YELLOW,width:r=30}=n,s=m(n,["resolution","glowPower","color","width"]);return new Cesium.PathGraphics(Object.assign({resolution:e,material:new Cesium.PolylineGlowMaterialProperty({glowPower:t,color:a}),width:r},s))}getModelGraphics(o={}){var c=o,{show:e=!0,uri:t="",scale:a=1,minimumPixelSize:r=1,maximumScale:s=1e4,color:l=Cesium.Color.WHITE}=c,n=m(c,["show","uri","scale","minimumPixelSize","maximumScale","color"]);return new Cesium.ModelGraphics(Object.assign({show:e,uri:t,scale:a,minimumPixelSize:r,maximumScale:s,color:l},n))}getEllipseGraphics(l={}){var n=l,{semiMajorAxis:e=1e6,semiMinorAxis:t=1e6,metarial:a=Cesium.Color.RED.withAlpha(.5),outline:r=!0}=n,s=m(n,["semiMajorAxis","semiMinorAxis","metarial","outline"]);return new Cesium.EllipseGraphics(Object.assign({semiMajorAxis:e,semiMinorAxis:t,metarial:a,outline:r},s))}getEllipsoidGraphics(C={}){var g=C,{radii:e=new Cesium.Cartesian3(300,300,300),innerRadii:t=new Cesium.Cartesian3(100,100,100),minimumClock:a=Cesium.Math.toRadians(0),maximumClock:r=Cesium.Math.toRadians(360),minimumCone:s=Cesium.Math.toRadians(0),maximumCone:l=Cesium.Math.toRadians(180),fill:n=!0,material:o=Cesium.Color.fromCssColorString("rgba(255,0,0,1)"),outline:c=!0,outlineColor:u=Cesium.Color.fromCssColorString("rgba(0,255,0,1)")}=g,d=m(g,["radii","innerRadii","minimumClock","maximumClock","minimumCone","maximumCone","fill","material","outline","outlineColor"]);return new Cesium.EllipsoidGraphics(Object.assign({radii:e,innerRadii:t,minimumClock:a,maximumClock:r,minimumCone:s,material:o,outline:c,maximumCone:l,outlineColor:u,fill:n},d))}getPlaneGraphics(n={}){var o=n,{plane:e=new Cesium.Plane(Cesium.Cartesian3.UNIT_Y,0),dimensions:t=new Cesium.Cartesian2(1e6,1e6),material:a=Cesium.Color.BLUE.withAlpha(.5),outline:r=!0,outlineColor:s=Cesium.Color.YELLOW}=o,l=m(o,["plane","dimensions","material","outline","outlineColor"]);return new Cesium.PlaneGraphics(Object.assign({plane:e,dimensions:t,material:a,outline:r,outlineColor:s},l))}getCylinderGraphics(o={}){var c=o,{HeightReference:e=Cesium.HeightReference.RELATIVE_TO_GROUND,length:t=500,topRadius:a=500,bottomRadius:r=0,material:s=new Cesium.Color(0,1,1,.4),slices:l=128}=c,n=m(c,["HeightReference","length","topRadius","bottomRadius","material","slices"]);return new Cesium.CylinderGraphics(Object.assign({heightReference:e,length:t,topRadius:a,bottomRadius:r,material:s,slices:l},n))}createPointsGraphics({positions:e=[],name:t="",oid:a="point",point:r={},billboard:s={},label:l={}}={}){const n=[];for(const o in e){const c=e[o],u=this.createGraphics();u.name=t,u.oid=a,u.position=c,r&&(u.point=this.getPointGraphics(r)),s&&(u.billboard=this.getBillboardGraphics(s)),l&&(u.label=this.getLabelGraphics(l)),n.push(this.viewer.entities.add(u))}return n}createLineGraphics(s={}){var l=s,{name:e="",oid:t="line",positions:a=[]}=l,r=m(l,["name","oid","positions"]);const n=this.createGraphics();return n.name=e,n.oid=t,n.position=a,n.polyline=this.getLineGraphics(Object.assign({name:e,oid:t,positions:a},r)),this.viewer.entities.add(n)}createPolygonGraphics(a={}){var r=a,{clampToS3M:e=!1}=r,t=m(r,["clampToS3M"]);const s=this.createGraphics();return s.polygon=this.getPolygonGraphics(t),s.clampToS3M=e,this.viewer.entities.add(s)}createModelGraphics({model:e,position:t,orientation:a}){const r=this.createGraphics();return r.model=this.getModelGraphics(e),r.position=t,r.orientation=a,this.viewer.entities.add(r)}craeteCorridorGraphics(l){var n=l,{positions:e,height:t=6,width:a=15,material:r}=n,s=m(n,["positions","height","width","material"]);const o=this.createGraphics();return o.corridor={positions:e,height:t||6,width:a||15,material:r,args:s},this.viewer.entities.add(o)}craeteDynamicPolyLineGraphics(e){if(e&&e.positions){const t=this.createGraphics();return t.polyline={show:!0,positions:[],material:e.material||Cesium.Color.CHARTREUSE,width:e.width||5,clampToGround:e.clampToGround||!1},t.polyline.positions=new Cesium.CallbackProperty(function(){return e.positions},!1),this.viewer.entities.add(t)}}craeteDynamicCylinderGraphics(e){if(e){const t=this.createGraphics({});return t.cylinder=this.getCylinderGraphics(e),t.position=e.position,this.viewer.entities.add(t)}}createFadeCylinderGraphics(e){if(e=e||{},e&&e.position){const t=this.createGraphics();return t.position=e.position,e.material=T({color:e.color||Cesium.Color.fromCssColorString("#02ff00"),duration:e.duration||2e3}),t.cylinder=this.getCylinderGraphics(e),this.viewer.entities.add(t)}}craeteRotateCylinderGraphics(e){if(e&&e.position){const t=this.createGraphics();return t.cylinder={HeightReference:Cesium.HeightReference.RELATIVE_TO_GROUND,length:e.length||500,topRadius:e.topRadius||500,bottomRadius:e.bottomRadius||500,material:e.material||new Cesium.ImageMaterialProperty({image:"src/assets/image/cc2.jpg",transparent:!0,repeat:{x:1,y:-1}}),slices:e.slices||128},t.position=e.position,this.setGraphicsRotate({entity:t,position:b(e.position),rotateAmount:4}),this.viewer.entities.add(t)}}craeteDynamicBlinkCircleGraphics(e){if(e&&e.position){let t=this.createGraphics(),a=e.alp||1,r=e.flog||!0;return t.position=e.position,t.ellipse={semiMinorAxis:e.semiMinorAxis||2e3,semiMajorAxis:e.semiMajorAxis||2e3,height:e.height||10,material:new Cesium.ColorMaterialProperty(new Cesium.CallbackProperty(function(){return r?(a=a-.05,a<=0&&(r=!1)):(a=a+.05,a>=1&&(r=!0)),Cesium.Color.RED.withAlpha(a)},!1))},this.viewer.entities.add(t)}}craeteDynamicCricleGraphics(e){if(e&&e.center){let t=this.createGraphics(),a=e.center,r=e.radius||800,s=e.rotateAmount||.05,l=0,n=e.height||1,o=0,c=0,u=0,d=e.scale||null,C=e.scale2||null,g=e.material||new Cesium.ImageMaterialProperty({image:e.imge||"data/images/Textures/circle_bg.png",transparent:!0});t.position=new Cesium.CallbackProperty(function(){return f(a)},!1),t.orientation=new Cesium.CallbackProperty(function(){return Cesium.Transforms.headingPitchRollQuaternion(f(a),new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(o),Cesium.Math.toRadians(c),Cesium.Math.toRadians(u)))},!1);let y=r,p=!1;const P=()=>{(r>=d||r<=y)&&(p=!p),p?r+=2:r-=2},R=()=>{C>=r?r+=2:r=y};return t.ellipse={material:g,height:n,semiMajorAxis:new Cesium.CallbackProperty(function(){return r},!1),semiMinorAxis:new Cesium.CallbackProperty(function(){return r},!1),stRotation:new Cesium.CallbackProperty(function(){return s>0&&(l+=s,l>=360&&(l=0)),d&&P(),C&&R(),l},!1)},this.viewer.entities.add(t)}}craeteDynamicShadeWallGraphics(e){if(e&&e.positions){let t=e.alp||1,a=e.num||20,r=e.color||Cesium.Color.RED,s=e.speed||.003;const l=this.createGraphics();return l.wall={positions:e.positions,material:new Cesium.ImageMaterialProperty({image:"data/images/Textures/fence.png",transparent:!0,color:new Cesium.CallbackProperty(function(){return a%2===0?t-=s:t+=s,(t<=.1||t>=1)&&a++,r.withAlpha(t)},!1)})},this.viewer.entities.add(l)}}createCustomDefBillboardGraphics(e){if(e&&e.position){let t=function(s){if(!s.image)return;const l=document.createElement("canvas");l.width=s.width||150,l.height=s.height||80;const n=l.getContext("2d");n.drawImage(s.image,0,0);const o=s.text;return n.font="15px bold 宋体",n.fillStyle="#f4fff0",n.fillText(o,55,36),l};const a=this,r=new Image;r.src=e.img||"src/assets/image/div1.png",r.onload=function(){e.image=r;const s=a.viewer.entities.add({name:e.name||null,id:e.id||null,position:e.position,billboard:{image:t(e),scaleByDistance:new Cesium.NearFarScalar(150,.7,15e6,.5),verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:e.pixelOffset||new Cesium.Cartesian2(80,-35),width:140,height:100,scale:e.scale||1.5,disableDepthTestDistance:Number.POSITIVE_INFINITY,imageSubRegion:{x:0,y:0,width:200,height:150}}});typeof e.callback=="function"&&e.callback(s)}}}craeteRotatePlaneGraphics(e){if(e&&e.center&&e.positions){let t=this.createGraphics(),a=0;e.center;let r=e.positions,s=r[0];return t.position=new Cesium.CallbackProperty(function(){return a==0?(s=r[0],a+=1):a<r.length-1?(s=r[a],a+=1):a==r.length-1&&(s=r[a],a=0),s},!1),t.plane={plane:new Cesium.Plane(Cesium.Cartesian3.UNIT_Y,0),dimensions:e.dimensions||new Cesium.Cartesian2(200,150),material:new Cesium.ImageMaterialProperty({image:e.image})},this.viewer.entities.add(t)}}createVideoPlaneGraphics(e){if(e&&e.position){const t=this.createGraphics();return t.position=e.position,t.plane={plane:new Cesium.Plane(e.normal||Cesium.Cartesian3.UNIT_Y,0),dimensions:e.dimensions||new Cesium.Cartesian2(200,150),material:new Cesium.ImageMaterialProperty({image:e.videoElement})},this.viewer.entities.add(t)}}createGifBillboardGraphics(e){if(SuperGif&&e&&e.position){let t=function(n,o){const c=document.createElement("img");c.src=n,c.setAttribute("rel:animated_src",n),c.setAttribute("rel:auto_play","0"),document.body.appendChild(c);const u=new SuperGif({gif:c});return new Promise(d=>{u.load(()=>{for(let C=1;C<=u.get_length();C++)u.move_to(C),o.push(u.get_canvas().toDataURL());d(o)})})},a=[],r=e.url,s=0,l=6;return t(r,a),this.viewer.entities.add({position:e.position,billboard:{verticalOrigin:Cesium.VerticalOrigin.BASELINE,image:new Cesium.CallbackProperty(function(){return a.length?(s<l*(a.length-1)?s++:s=0,a[Math.floor(s/l)]):r},!1),scale:.2}})}}setGraphicsRotate(e){if(e&&e.entity&&e.rotateAmount){const t=e.entity,a=e.rotateAmount,r=e.position;r.heading=0,r.pitch=0,r.roll=0,t.position=new Cesium.CallbackProperty(function(){return f(r)},!1),t.orientation=new Cesium.CallbackProperty(function(){return a>0&&(r.heading+=a,r.heading===360&&(r.heading=0)),Cesium.Transforms.headingPitchRollQuaternion(f(r),new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(r.heading),Cesium.Math.toRadians(r.pitch),Cesium.Math.toRadians(r.roll)))},!1)}}setGraphicsFloat(e){if(e&&e.entity&&e.maxHeiht){let t=e.entity,a=e.minHeiht||5,r=e.maxHeiht||100,s=e.cartesians,l=e.speed||.06,n=a,o=!1;s.length?t.positions=new Cesium.CallbackProperty(function(){const c=x(s);for(const u in c){const d=c[u];(a>=r||a<=n)&&(o=!o),o?a+=l:a-=l,d.alt=a}return O(c)},!1):t.position=new Cesium.CallbackProperty(function(){const c=b(s);return(a>=r||a<=n)&&(o=!o),o?a+=l:a-=l,c.alt=a,f(c)},!1)}}createCanvasGraphics(e){if(e&&e.positions){let t=function(){const a=document.createElement("canvas"),r=a.getContext("2d"),s=new Image;return s.src=e.img||"../../images/ysCesium/logo.png",r.clearRect(0,0,e.cwidth,e.cheight),i<=cwidth?r.drawImage(s,i,0):i=0,i+=3,curCanvas=curCanvas==="c"?"d":"c",a};this.viewer.entities.add({rectangle:{coordinates:e.positions,material:new Cesium.ImageMaterialProperty({image:new Cesium.CallbackProperty(t,!1),transparent:!0})}}),typeof e.callback=="function"&&e.callback()}}}export{k as C};
//# sourceMappingURL=index-BR6LcWRs.js.map
