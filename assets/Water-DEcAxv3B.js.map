{"version":3,"file":"Water-DEcAxv3B.js","sources":["../../src/views/Polygon/Water.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { ContentWrap } from '@/components/ContentWrap'\r\nimport CesiumComponent from '@/components/Cesium/Cesium.component.vue'\r\n\r\nimport { useCesium } from '@/hooks/web/useCesium'\r\nimport * as Cesium from 'cesium'\r\n\r\nconst { mapRegister, mapMethods } = useCesium()\r\n\r\nconst { getMap } = mapMethods\r\n\r\ndefineOptions({\r\n  name: 'Water'\r\n})\r\n\r\nconst cesiumLoadCB = (viewer) => {\r\n  // ====================   将三维球定位到中国   =============================\r\n  // 相机飞行\r\n  viewer.camera.setView({\r\n    destination: Cesium.Cartesian3.fromDegrees(120, 30, 5000),\r\n    orientation: {\r\n      heading: Cesium.Math.toRadians(350.4202942851978),\r\n      pitch: Cesium.Math.toRadians(-89.74026687972041),\r\n      roll: Cesium.Math.toRadians(0.1)\r\n    },\r\n    complete: () => {\r\n      // 定位完成之后的回调函数\r\n      // 聚合\r\n      // addCesiumCluster(earthquakes)\r\n    }\r\n  })\r\n  // ========================================================================\r\n  // 流动水面效果\r\n  viewer.scene.primitives.add(\r\n    new Cesium.Primitive({\r\n      geometryInstances: new Cesium.GeometryInstance({\r\n        geometry: new Cesium.RectangleGeometry({\r\n          rectangle: Cesium.Rectangle.fromDegrees(120, 30, 120.1, 30.10),\r\n          vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT\r\n        })\r\n      }),\r\n      appearance: new Cesium.EllipsoidSurfaceAppearance({\r\n        material: new Cesium.Material({\r\n          fabric: {\r\n            type: 'Water',\r\n            uniforms: {\r\n              baseWaterColor: new Cesium.Color(64 / 255.0, 157 / 255.0, 253 / 255.0, 0.5),\r\n              normalMap: 'src/assets/image/water.jpg',\r\n              frequency: 1000.0,\r\n              animationSpeed: 0.1,\r\n              amplitude: 10,\r\n              specularIntensity: 10\r\n            }\r\n          }\r\n        })\r\n      })\r\n    })\r\n  )\r\n}\r\n</script>\r\n\r\n<template>\r\n  <ContentWrap title=\"Water\">\r\n    <div class=\"h-[calc(100vh-280px)]\">\r\n      <cesium-component\r\n        @register=\"mapRegister\"\r\n        :config=\"{\r\n          // homeButton: true\r\n        }\"\r\n        tiandituTk=\"80cd3c8ae46ae32fa0ac19f6d739d310\"\r\n        :cesiumLoadCB=\"cesiumLoadCB\"\r\n      />\r\n    </div>\r\n  </ContentWrap>\r\n</template>\r\n"],"names":["mapRegister","mapMethods","useCesium","cesiumLoadCB","viewer"],"mappings":"wYAOA,KAAA,CAAA,YAAAA,EAAA,WAAAC,CAAA,EAAAC,EAAA,EAQAC,EAAAC,GAAA,CAGEA,EAAA,OAAA,QAAA,CAAsB,YAAA,OAAA,WAAA,YAAA,IAAA,GAAA,GAAA,EACoC,YAAA,CAC3C,QAAA,OAAA,KAAA,UAAA,iBAAA,EACqC,MAAA,OAAA,KAAA,UAAA,kBAAA,EACD,KAAA,OAAA,KAAA,UAAA,EAAA,CAChB,EACjC,SAAA,IAAA,CACgB,CAIhB,CAAA,EAIFA,EAAA,MAAA,WAAA,IAAwB,IAAA,OAAA,UAAA,CACD,kBAAA,IAAA,OAAA,iBAAA,CAC4B,SAAA,IAAA,OAAA,kBAAA,CACN,UAAA,OAAA,UAAA,YAAA,IAAA,GAAA,MAAA,IAAA,EACwB,aAAA,OAAA,2BAAA,aACb,CAAA,CACjD,CAAA,EACF,WAAA,IAAA,OAAA,2BAAA,CACiD,SAAA,IAAA,OAAA,SAAA,CAClB,OAAA,CACpB,KAAA,QACA,SAAA,CACI,eAAA,IAAA,OAAA,MAAA,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,EAAA,EACkE,UAAA,6BAC/D,UAAA,IACA,eAAA,GACK,UAAA,GACL,kBAAA,EACQ,CACrB,CACF,CAAA,CACD,CAAA,CACF,CAAA,CACF,CACH"}