{"version":3,"file":"VideoProjection-DnQu38Ga.js","sources":["../../src/assets/video/lc.mp4","../../src/views/SceneEffects/VideoProjection.vue"],"sourcesContent":["export default \"__VITE_ASSET__BvlpIF7p__\"","<script setup lang=\"ts\">\r\nimport { ContentWrap } from '@/components/ContentWrap'\r\nimport CesiumComponent from '@/components/Cesium/Cesium.component.vue'\r\nimport { useCesium } from '@/hooks/web/useCesium'\r\nimport { ElLink } from 'element-plus'\r\nimport * as Cesium from 'cesium'\r\n\r\nimport CesiumDraw from '@/components/Cesium/CesiumDraw'\r\n\r\nconst { mapRegister, mapMethods } = useCesium()\r\n\r\nconst { getMap } = mapMethods\r\n\r\ndefineOptions({\r\n  name: 'VideoProjection'\r\n})\r\n\r\nconst cesiumLoadCB = async (viewer) => {\r\n  function videoWall() {\r\n    //获取Video标签\r\n    const videoElement = document.getElementById('myVideo')\r\n    //将视频元素与模拟时钟同步\r\n    let synchronizer = new Cesium.VideoSynchronizer({\r\n      clock: viewer.clock,\r\n      element: videoElement\r\n    })\r\n    //自动播放\r\n    viewer.clock.shouldAnimate = true\r\n    const rectangle = viewer.entities.add({\r\n      // 创建矩形\r\n      // rectangle: {\r\n      //   coordinates: Cesium.Rectangle.fromDegrees(120.0, 30.0, 121.0, 31.0),\r\n      //   material: videoElement\r\n      // },\r\n      // 创建多边形\r\n      // polygon: {\r\n      //   hierarchy: new Cesium.PolygonHierarchy(\r\n      //     Cesium.Cartesian3.fromDegreesArray([\r\n      //       120.39344518569266, 30.525768035404223, 120.3961071839177, 30.52566180691624,\r\n      //       120.3960458511302, 30.524014906984178, 120.39344432117545, 30.52402876336925\r\n      //     ])\r\n      //   ),\r\n      //   classificationType: Cesium.ClassificationType.BOTH,\r\n      //   material: videoElement,\r\n      //   stRotation: -45\r\n      // },\r\n      // 创建wall\r\n      wall: {\r\n        positions: Cesium.Cartesian3.fromDegreesArrayHeights([\r\n          120.391418, 30.524281, 120.0, 120.391918, 30.524281, 120.0\r\n        ]),\r\n        minimumHeights: [90, 90],\r\n        material: videoElement,\r\n        outline: true,\r\n        shadows: Cesium.ShadowMode.ENABLED\r\n      }\r\n    })\r\n    viewer.zoomTo(rectangle)\r\n  }\r\n\r\n  videoWall()\r\n}\r\n</script>\r\n\r\n<template>\r\n  <video id=\"myVideo\" muted=\"true\" autoplay=\"true\" loop=\"true\" style=\"display: none\">\r\n    <source src=\"/src/assets/video/lc.mp4\" type=\"video/mp4\" />\r\n  </video>\r\n  <ContentWrap title=\"视频投影\">\r\n    <div class=\"w-[100%] h-[100%]\">\r\n      <cesium-component\r\n        @register=\"mapRegister\"\r\n        :config=\"{\r\n          // homeButton: true\r\n        }\"\r\n        tiandituTk=\"80cd3c8ae46ae32fa0ac19f6d739d310\"\r\n        :cesiumLoadCB=\"cesiumLoadCB\"\r\n      />\r\n    </div>\r\n  </ContentWrap>\r\n</template>\r\n"],"names":["_imports_0","mapRegister","mapMethods","useCesium","cesiumLoadCB","viewer","__async","videoWall","videoElement","rectangle"],"mappings":"0gBAAA,MAAeA,EAAA,4PCSf,KAAA,CAAA,YAAAC,EAAA,WAAAC,CAAA,EAAAC,EAAA,EAQAC,EAAAC,GAAAC,EAAA,sBACE,SAAAC,GAAA,CAEE,MAAAC,EAAA,SAAA,eAAA,SAAA,EAEA,IAAA,OAAA,kBAAA,CAAgD,MAAAH,EAAA,MAChC,QAAAG,CACL,CAAA,EAGXH,EAAA,MAAA,cAAA,GACA,MAAAI,EAAAJ,EAAA,SAAA,IAAA,CAAsC,KAAA,CAmB9B,UAAA,OAAA,WAAA,wBAAA,CACiD,WACnD,UAAY,IAAW,WAAO,UAAY,GAAW,CAAA,EACtD,eAAA,CAAA,GAAA,EAAA,EACsB,SAAAG,EACb,QAAA,GACD,QAAA,OAAA,WAAA,OACkB,CAC7B,CAAA,EAEFH,EAAA,OAAAI,CAAA,CAAuB,CAGzBF,GAAU"}