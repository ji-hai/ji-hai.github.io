import{_ as g}from"./ContentWrap.vue_vue_type_script_setup_true_lang-cstENLkZ.js";import{_ as h,u as _}from"./useCesium-2Loz9dXe.js";import"./index-D2Lqo6FR.js";import{c as C}from"./element-plus-t0Lc7SBq.js";import{l as R,m as b,S as B,R as i,O as c,u as r,V as k,q as w}from"./vue-chunks-DuYwYYUM.js";/* empty css                  */const v={class:"w-[100%] h-[100%]"},S=R({name:"Screenshot",__name:"Screenshot",setup(L){const{mapRegister:m,mapMethods:l}=_(),{getMap:d}=l,p=e=>{e.render();let o=e.scene.canvas.toDataURL("image/png").replace("image/png","image/octet-stream"),a=document.createElement("a"),s=u(o),n=URL.createObjectURL(s);a.download="scene.png",a.href=n,a.click()},u=e=>{let t=e.split(","),o=t[0].match(/:(.*?);/)[1],a=atob(t[1]),s=a.length,n=new Uint8Array(s);for(;s--;)n[s]=a.charCodeAt(s);return new Blob([n],{type:o})},f=e=>{e.camera.setView({destination:Cesium.Cartesian3.fromDegrees(120.84,30.15,5e3),orientation:{heading:Cesium.Math.toRadians(350.4202942851978),pitch:Cesium.Math.toRadians(-89.74026687972041),roll:Cesium.Math.toRadians(.1)},complete:()=>{}})};return(e,t)=>(b(),B(r(g),{title:"场景截图"},{default:i(()=>[c(r(C),{class:"mb-4",type:"primary",onClick:t[0]||(t[0]=o=>p(r(d)()))},{default:i(()=>[k("导出场景")]),_:1}),w("div",v,[c(h,{onRegister:r(m),config:{},tiandituTk:"80cd3c8ae46ae32fa0ac19f6d739d310",cesiumLoadCB:f},null,8,["onRegister"])])]),_:1}))}});export{S as default};
//# sourceMappingURL=Screenshot-aZfktDQm.js.map
