import{_ as V}from"./ContentWrap.vue_vue_type_script_setup_true_lang-ytEdI6w6.js";import{_ as W,u as q}from"./useCesium-BXhUlb7Q.js";import{l as G,m as Z,S as $,R as j,q as Y,O as H,u as k}from"./vue-chunks-DuYwYYUM.js";import"./index-C3b06j3A.js";import"./element-plus-t0Lc7SBq.js";/* empty css                  */const J=c=>{const u=c.scene;Cesium.Math.setRandomNumberSeed(315);const s=Cesium.Transforms.eastNorthUpToFixedFrame(Cesium.Cartesian3.fromDegrees(120.84,30.15)),a=new Cesium.Cartesian3(0,0,100);let t;function h(){if(!Cesium.defined(t)){t=document.createElement("canvas"),t.width=20,t.height=20;const e=t.getContext("2d");e.beginPath(),e.arc(8,8,8,0,Cesium.Math.TWO_PI,!0),e.closePath(),e.fillStyle="rgb(255, 255, 255)",e.fill()}return t}const l=30,M=100,S=new Cesium.Cartesian2(7,7),x=400,w=10,B=20,z=new Cesium.Matrix4;function b(e,n,f){const p=Cesium.Cartesian3.add(a,e,new Cesium.Cartesian3),o=Cesium.Matrix4.fromTranslation(p,z),m=Cesium.Matrix4.multiply(s,o,new Cesium.Matrix4),r=Cesium.Matrix4.inverseTransformation(m,m),i=Cesium.Math.randomBetween(l,M),L=new Cesium.Cartesian3,v=function(T){const U=Cesium.Matrix4.multiplyByPoint(r,T.position,L);Cesium.Cartesian3.magnitudeSquared(U)>=i*i&&Cesium.Cartesian3.clone(Cesium.Cartesian3.ZERO,T.velocity)},D=(i-l)/(M-l),R=.3,A=D*(1-R)+R;u.primitives.add(new Cesium.ParticleSystem({image:h(),startColor:n,endColor:n.withAlpha(0),particleLife:A,speed:100,imageSize:S,emissionRate:0,emitter:new Cesium.SphereEmitter(.1),bursts:f,lifetime:w,updateCallback:v,modelMatrix:s,emitterModelMatrix:o}))}const y=-100,P=100,F=-80,O=100,E=-50,I=50,_=[{minimumRed:.75,green:0,minimumBlue:.8,alpha:1},{red:0,minimumGreen:.75,minimumBlue:.8,alpha:1},{red:0,green:0,minimumBlue:.8,alpha:1},{minimumRed:.75,minimumGreen:.75,blue:0,alpha:1}];for(let e=0;e<B;++e){const n=Cesium.Math.randomBetween(y,P),f=Cesium.Math.randomBetween(F,O),p=Cesium.Math.randomBetween(E,I),o=new Cesium.Cartesian3(n,f,p),m=Cesium.Color.fromRandom(_[e%_.length]),r=[];for(let i=0;i<3;++i)r.push(new Cesium.ParticleBurst({time:Cesium.Math.nextRandomNumber()*w,minimum:x,maximum:x}));b(o,m,r)}const C=c.scene.camera,g=new Cesium.Cartesian3(-300,0,0);C.lookAtTransform(s,g),C.lookAtTransform(Cesium.Matrix4.IDENTITY);const d=Cesium.Cartesian3.subtract(a,g,new Cesium.Cartesian3);Cesium.Cartesian3.normalize(d,d);const N=Cesium.Math.PI_OVER_TWO-Math.acos(Cesium.Cartesian3.dot(d,Cesium.Cartesian3.UNIT_Z));C.lookUp(N)},K={class:"w-[100%] h-[100%]"},ne=G({name:"Fireworks",__name:"Fireworks",setup(c){const{mapRegister:u,mapMethods:s}=q(),a=t=>{t.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(120.84,30.15,5e3),orientation:{heading:Cesium.Math.toRadians(350.4202942851978),pitch:Cesium.Math.toRadians(-89.74026687972041),roll:Cesium.Math.toRadians(.1)},complete:()=>{}}),J(t)};return(t,h)=>(Z(),$(k(V),{title:"Fireworks"},{default:j(()=>[Y("div",K,[H(W,{onRegister:k(u),config:{},tiandituTk:"80cd3c8ae46ae32fa0ac19f6d739d310",cesiumLoadCB:a},null,8,["onRegister"])])]),_:1}))}});export{ne as default};
//# sourceMappingURL=Fireworks-BclOAMcZ.js.map
