var u=(C,l,r)=>new Promise((p,i)=>{var f=t=>{try{e(r.next(t))}catch(s){i(s)}},d=t=>{try{e(r.throw(t))}catch(s){i(s)}},e=t=>t.done?p(t.value):Promise.resolve(t.value).then(f,d);e((r=r.apply(C,l)).next())});import{_ as R}from"./ContentWrap.vue_vue_type_script_setup_true_lang-ytEdI6w6.js";import{_ as b,u as w}from"./useCesium-BXhUlb7Q.js";import"./HexagonSpreadMaterialProperty-CggJxjwh.js";import{S as g}from"./index-C3b06j3A.js";import{l as N,m as T,S as y,R as E,q as M,O as S,u as _}from"./vue-chunks-DuYwYYUM.js";/* empty css                  */import"./element-plus-t0Lc7SBq.js";const k={class:"w-[100%] h-[100%]"},x=N({name:"Test",__name:"Test",setup(C){const{mapRegister:l,mapMethods:r}=w(),p=e=>{e=Number(e)/1e3,e=e/2;for(var t=0,s=360,m=e/3,a=[],o=t;o<=s;o++){var c=Cesium.Math.toRadians(o);a.push(new Cesium.Cartesian2(e*Math.cos(c),e*Math.sin(c)))}for(var o=s;o>=t;o--){var n=Cesium.Math.toRadians(o);a.push(new Cesium.Cartesian2((e-m)*Math.cos(n),(e-m)*Math.sin(n)))}return a},i=(e=2)=>u(this,null,function*(){return yield g.post({url:"http://42.192.73.101:7933/api/sewage/SewageMapScreen/outWellSiteList",headers:{"Content-Type":"application/json"},data:{outWellType:e},params:{token:"0263563941e58bfa562f22e1776ffbd6"}})}),f=(e=2)=>u(this,null,function*(){return yield g.post({url:"http://42.192.73.101:7933/api/sewage/SewageMapScreen/netWorkSiteList",headers:{"Content-Type":"application/json"},data:{pipeNetworkType:e},params:{token:"0263563941e58bfa562f22e1776ffbd6"}})}),d=e=>u(this,null,function*(){e.camera.setView({destination:Cesium.Cartesian3.fromDegrees(119.858963,30.801224,5e3)});const t=yield i(2),s=yield i(1),m=yield f();t.data.forEach(a=>{e.entities.add({position:Cesium.Cartesian3.fromDegrees(Number(a.lon),Number(a.lat),0),cylinder:{length:20,topRadius:10,bottomRadius:10,material:Cesium.Color.BLUE,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND,outline:!1,outlineColor:Cesium.Color.WHITE,numberOfVerticalLines:1}})}),s.data.forEach(a=>{e.entities.add({position:Cesium.Cartesian3.fromDegrees(Number(a.lon),Number(a.lat),0),cylinder:{length:20,topRadius:10,bottomRadius:10,material:Cesium.Color.GREEN,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND,outline:!1,outlineColor:Cesium.Color.WHITE,numberOfVerticalLines:1}})}),m.data.forEach(a=>{fetch(decodeURIComponent(a.pipeNetworkUrl).replace(new RegExp("&amp;","g"),"&"),{method:"get"}).then(o=>o.json()).then(o=>{o.features.forEach(c=>{let n=[];c.geometry.coordinates[0].forEach(h=>{n.push(Cesium.Cartesian3.fromDegrees(h[0],h[1],0))}),e.entities.add({polylineVolume:{positions:n,cornerType:Cesium.CornerType.ROUNDED,shape:p(1e4),material:Cesium.Color.fromCssColorString("#0bbabb")}})})})})});return(e,t)=>(T(),y(_(R),{title:"Test"},{default:E(()=>[M("div",k,[S(b,{onRegister:_(l),config:{animation:!1,timeline:!1},tiandituTk:"80cd3c8ae46ae32fa0ac19f6d739d310",cesiumLoadCB:d},null,8,["onRegister"])])]),_:1}))}});export{x as default};
//# sourceMappingURL=Test-D0jWH-oL.js.map
