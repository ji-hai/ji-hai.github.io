{"version":3,"file":"Layout-CQawoC6n.js","sources":["../../src/components/Backtop/src/Backtop.vue","../../src/components/Setting/src/components/ColorRadioPicker.vue","../../src/components/Setting/src/components/InterfaceDisplay.vue","../../src/components/Setting/src/components/LayoutRadioPicker.vue","../../src/components/Setting/src/Setting.vue","../../src/utils/tree.ts","../../src/components/Menu/src/helper.ts","../../src/components/Menu/src/components/useRenderMenuTitle.tsx","../../src/components/Menu/src/components/useRenderMenuItem.tsx","../../src/components/Menu/src/Menu.vue","../../src/components/TabMenu/src/helper.ts","../../src/components/TabMenu/src/TabMenu.vue","../../src/components/TagsView/src/helper.ts","../../src/components/ContextMenu/src/ContextMenu.vue","../../src/hooks/event/useScrollTo.ts","../../src/hooks/web/useTagsView.ts","../../src/components/TagsView/src/TagsView.vue","../../src/components/Logo/src/Logo.vue","../../src/components/Footer/src/Footer.vue","../../src/layout/components/AppView.vue","../../src/components/Collapse/src/Collapse.vue","../../src/components/SizeDropdown/src/SizeDropdown.vue","../../src/assets/imgs/avatar.jpg","../../src/components/Dialog/src/Dialog.vue","../../src/store/modules/lock.ts","../../src/components/UserInfo/src/components/LockDialog.vue","../../src/utils/dateUtil.ts","../../src/hooks/web/useNow.ts","../../src/components/UserInfo/src/components/LockPage.vue","../../src/components/UserInfo/src/UserInfo.vue","../../src/components/Screenfull/src/Screenfull.vue","../../src/components/Breadcrumb/src/helper.ts","../../src/components/Breadcrumb/src/Breadcrumb.vue","../../src/layout/components/ToolHeader.vue","../../src/layout/components/useRenderLayout.tsx","../../src/layout/Layout.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { ElBacktop } from 'element-plus'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls, variables } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('backtop')\r\n</script>\r\n\r\n<template>\r\n  <ElBacktop\r\n    :class=\"`${prefixCls}-backtop`\"\r\n    :target=\"`.${variables.namespace}-layout-content-scrollbar .${variables.elNamespace}-scrollbar__wrap`\"\r\n  />\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { PropType, watch, unref, ref } from 'vue'\r\nimport { propTypes } from '@/utils/propTypes'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('color-radio-picker')\r\n\r\nconst props = defineProps({\r\n  schema: {\r\n    type: Array as PropType<string[]>,\r\n    default: () => []\r\n  },\r\n  modelValue: propTypes.string.def('')\r\n})\r\n\r\nconst emit = defineEmits(['update:modelValue', 'change'])\r\n\r\nconst colorVal = ref(props.modelValue)\r\n\r\nwatch(\r\n  () => props.modelValue,\r\n  (val: string) => {\r\n    if (val === unref(colorVal)) return\r\n    colorVal.value = val\r\n  }\r\n)\r\n\r\n// 监听\r\nwatch(\r\n  () => colorVal.value,\r\n  (val: string) => {\r\n    emit('update:modelValue', val)\r\n    emit('change', val)\r\n  }\r\n)\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"prefixCls\" class=\"flex flex-wrap space-x-14px\">\r\n    <span\r\n      v-for=\"(item, i) in schema\"\r\n      :key=\"`radio-${i}`\"\r\n      class=\"w-20px h-20px cursor-pointer rounded-2px border-solid border-gray-300 border-2px text-center leading-20px mb-5px\"\r\n      :class=\"{ 'is-active': colorVal === item }\"\r\n      :style=\"{\r\n        background: item\r\n      }\"\r\n      @click=\"colorVal = item\"\r\n    >\r\n      <Icon v-if=\"colorVal === item\" color=\"#fff\" icon=\"ep:check\" :size=\"16\" />\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-color-radio-picker';\r\n\r\n.@{prefix-cls} {\r\n  .is-active {\r\n    border-color: var(--el-color-primary);\r\n  }\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport { ElSwitch, ElMessage } from 'element-plus'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { computed, ref, watch } from 'vue'\r\nimport { setCssVar } from '@/utils'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('interface-display')\r\n\r\nconst appStore = useAppStore()\r\n\r\nconst { t } = useI18n()\r\n\r\n// 面包屑\r\nconst breadcrumb = ref(appStore.getBreadcrumb)\r\n\r\nconst breadcrumbChange = (show: boolean) => {\r\n  appStore.setBreadcrumb(show)\r\n}\r\n\r\n// 面包屑图标\r\nconst breadcrumbIcon = ref(appStore.getBreadcrumbIcon)\r\n\r\nconst breadcrumbIconChange = (show: boolean) => {\r\n  appStore.setBreadcrumbIcon(show)\r\n}\r\n\r\n// 折叠图标\r\nconst hamburger = ref(appStore.getHamburger)\r\n\r\nconst hamburgerChange = (show: boolean) => {\r\n  appStore.setHamburger(show)\r\n}\r\n\r\n// 全屏图标\r\nconst screenfull = ref(appStore.getScreenfull)\r\n\r\nconst screenfullChange = (show: boolean) => {\r\n  appStore.setScreenfull(show)\r\n}\r\n\r\n// 尺寸图标\r\nconst size = ref(appStore.getSize)\r\n\r\nconst sizeChange = (show: boolean) => {\r\n  appStore.setSize(show)\r\n}\r\n\r\n// 多语言图标\r\nconst locale = ref(appStore.getLocale)\r\n\r\nconst localeChange = (show: boolean) => {\r\n  appStore.setLocale(show)\r\n}\r\n\r\n// 标签页\r\nconst tagsView = ref(appStore.getTagsView)\r\n\r\nconst tagsViewChange = (show: boolean) => {\r\n  // 切换标签栏显示时，同步切换标签栏的高度\r\n  setCssVar('--tags-view-height', show ? '35px' : '0px')\r\n  appStore.setTagsView(show)\r\n}\r\n\r\n// 标签页图标\r\nconst tagsViewIcon = ref(appStore.getTagsViewIcon)\r\n\r\nconst tagsViewIconChange = (show: boolean) => {\r\n  appStore.setTagsViewIcon(show)\r\n}\r\n\r\n// logo\r\nconst logo = ref(appStore.getLogo)\r\n\r\nconst logoChange = (show: boolean) => {\r\n  appStore.setLogo(show)\r\n}\r\n\r\n// 菜单手风琴\r\nconst uniqueOpened = ref(appStore.getUniqueOpened)\r\n\r\nconst uniqueOpenedChange = (uniqueOpened: boolean) => {\r\n  appStore.setUniqueOpened(uniqueOpened)\r\n}\r\n\r\n// 固定头部\r\nconst fixedHeader = ref(appStore.getFixedHeader)\r\n\r\nconst fixedHeaderChange = (show: boolean) => {\r\n  appStore.setFixedHeader(show)\r\n}\r\n\r\n// 页脚\r\nconst footer = ref(appStore.getFooter)\r\n\r\nconst footerChange = (show: boolean) => {\r\n  appStore.setFooter(show)\r\n}\r\n\r\n// 灰色模式\r\nconst greyMode = ref(appStore.getGreyMode)\r\n\r\nconst greyModeChange = (show: boolean) => {\r\n  appStore.setGreyMode(show)\r\n}\r\n\r\n// 动态路由\r\nconst dynamicRouter = ref(!!appStore.getDynamicRouter)\r\n\r\nconst dynamicRouterChange = (show: boolean) => {\r\n  ElMessage.info(t('setting.reExperienced'))\r\n  appStore.setDynamicRouter(show)\r\n}\r\n\r\n// 服务端动态路由\r\nconst serverDynamicRouter = ref(appStore.getServerDynamicRouter)\r\n\r\nconst serverDynamicRouterChange = (show: boolean) => {\r\n  ElMessage.info(t('setting.reExperienced'))\r\n  appStore.setServerDynamicRouter(show)\r\n}\r\n\r\n// 固定菜单\r\nconst fixedMenu = ref(appStore.getFixedMenu)\r\n\r\nconst fixedMenuChange = (show: boolean) => {\r\n  appStore.setFixedMenu(show)\r\n}\r\n\r\nconst layout = computed(() => appStore.getLayout)\r\n\r\nwatch(\r\n  () => layout.value,\r\n  (n) => {\r\n    if (n === 'top') {\r\n      appStore.setCollapse(false)\r\n    }\r\n  }\r\n)\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"prefixCls\">\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.breadcrumb') }}</span>\r\n      <ElSwitch v-model=\"breadcrumb\" @change=\"breadcrumbChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.breadcrumbIcon') }}</span>\r\n      <ElSwitch v-model=\"breadcrumbIcon\" @change=\"breadcrumbIconChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.hamburgerIcon') }}</span>\r\n      <ElSwitch v-model=\"hamburger\" @change=\"hamburgerChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.screenfullIcon') }}</span>\r\n      <ElSwitch v-model=\"screenfull\" @change=\"screenfullChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.sizeIcon') }}</span>\r\n      <ElSwitch v-model=\"size\" @change=\"sizeChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.localeIcon') }}</span>\r\n      <ElSwitch v-model=\"locale\" @change=\"localeChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.tagsView') }}</span>\r\n      <ElSwitch v-model=\"tagsView\" @change=\"tagsViewChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.tagsViewIcon') }}</span>\r\n      <ElSwitch v-model=\"tagsViewIcon\" @change=\"tagsViewIconChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.logo') }}</span>\r\n      <ElSwitch v-model=\"logo\" @change=\"logoChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.uniqueOpened') }}</span>\r\n      <ElSwitch v-model=\"uniqueOpened\" @change=\"uniqueOpenedChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.fixedHeader') }}</span>\r\n      <ElSwitch v-model=\"fixedHeader\" @change=\"fixedHeaderChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.footer') }}</span>\r\n      <ElSwitch v-model=\"footer\" @change=\"footerChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.greyMode') }}</span>\r\n      <ElSwitch v-model=\"greyMode\" @change=\"greyModeChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.dynamicRouter') }}</span>\r\n      <ElSwitch v-model=\"dynamicRouter\" @change=\"dynamicRouterChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.serverDynamicRouter') }}</span>\r\n      <ElSwitch v-model=\"serverDynamicRouter\" @change=\"serverDynamicRouterChange\" />\r\n    </div>\r\n\r\n    <div class=\"flex justify-between items-center\">\r\n      <span class=\"text-14px\">{{ t('setting.fixedMenu') }}</span>\r\n      <ElSwitch v-model=\"fixedMenu\" @change=\"fixedMenuChange\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { computed } from 'vue'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('layout-radio-picker')\r\n\r\nconst appStore = useAppStore()\r\n\r\nconst layout = computed(() => appStore.getLayout)\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"prefixCls\" class=\"flex flex-wrap space-x-14px\">\r\n    <div\r\n      :class=\"[\r\n        `${prefixCls}__classic`,\r\n        'relative w-56px h-48px cursor-pointer bg-gray-300',\r\n        {\r\n          'is-acitve': layout === 'classic'\r\n        }\r\n      ]\"\r\n      @click=\"appStore.setLayout('classic')\"\r\n    ></div>\r\n    <div\r\n      :class=\"[\r\n        `${prefixCls}__top-left`,\r\n        'relative w-56px h-48px cursor-pointer bg-gray-300',\r\n        {\r\n          'is-acitve': layout === 'topLeft'\r\n        }\r\n      ]\"\r\n      @click=\"appStore.setLayout('topLeft')\"\r\n    ></div>\r\n    <div\r\n      :class=\"[\r\n        `${prefixCls}__top`,\r\n        'relative w-56px h-48px cursor-pointer bg-gray-300',\r\n        {\r\n          'is-acitve': layout === 'top'\r\n        }\r\n      ]\"\r\n      @click=\"appStore.setLayout('top')\"\r\n    ></div>\r\n    <div\r\n      :class=\"[\r\n        `${prefixCls}__cut-menu`,\r\n        'relative w-56px h-48px cursor-pointer bg-gray-300',\r\n        {\r\n          'is-acitve': layout === 'cutMenu'\r\n        }\r\n      ]\"\r\n      @click=\"appStore.setLayout('cutMenu')\"\r\n    >\r\n      <div class=\"absolute h-full w-[33%] top-0 left-[10%] bg-gray-200\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-layout-radio-picker';\r\n\r\n.@{prefix-cls} {\r\n  &__classic {\r\n    border: 2px solid #e5e7eb;\r\n    border-radius: 4px;\r\n\r\n    &::before {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 1;\r\n      width: 33%;\r\n      height: 100%;\r\n      background-color: #273352;\r\n      border-radius: 4px 0 0 4px;\r\n      content: '';\r\n    }\r\n\r\n    &::after {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 25%;\r\n      background-color: #fff;\r\n      border-radius: 4px 4px 0;\r\n      content: '';\r\n    }\r\n  }\r\n\r\n  &__top-left {\r\n    border: 2px solid #e5e7eb;\r\n    border-radius: 4px;\r\n\r\n    &::before {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 1;\r\n      width: 100%;\r\n      height: 33%;\r\n      background-color: #273352;\r\n      border-radius: 4px 4px 0 0;\r\n      content: '';\r\n    }\r\n\r\n    &::after {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 33%;\r\n      height: 100%;\r\n      background-color: #fff;\r\n      border-radius: 4px 0 0 4px;\r\n      content: '';\r\n    }\r\n  }\r\n\r\n  &__top {\r\n    border: 2px solid #e5e7eb;\r\n    border-radius: 4px;\r\n\r\n    &::before {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 1;\r\n      width: 100%;\r\n      height: 33%;\r\n      background-color: #273352;\r\n      border-radius: 4px 4px 0 0;\r\n      content: '';\r\n    }\r\n  }\r\n\r\n  &__cut-menu {\r\n    border: 2px solid #e5e7eb;\r\n    border-radius: 4px;\r\n\r\n    &::before {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 1;\r\n      width: 100%;\r\n      height: 33%;\r\n      background-color: #273352;\r\n      border-radius: 4px 4px 0 0;\r\n      content: '';\r\n    }\r\n\r\n    &::after {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 10%;\r\n      height: 100%;\r\n      background-color: #fff;\r\n      border-radius: 4px 0 0 4px;\r\n      content: '';\r\n    }\r\n  }\r\n\r\n  .is-acitve {\r\n    border-color: var(--el-color-primary);\r\n  }\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport { ElDrawer, ElDivider, ElMessage } from 'element-plus'\r\nimport { ref, unref } from 'vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { ThemeSwitch } from '@/components/ThemeSwitch'\r\nimport { useCssVar } from '@vueuse/core'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { trim, setCssVar, getCssVar } from '@/utils'\r\nimport ColorRadioPicker from './components/ColorRadioPicker.vue'\r\nimport InterfaceDisplay from './components/InterfaceDisplay.vue'\r\nimport LayoutRadioPicker from './components/LayoutRadioPicker.vue'\r\nimport { useStorage } from '@/hooks/web/useStorage'\r\nimport { useClipboard } from '@vueuse/core'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { clear: storageClear } = useStorage('localStorage')\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('setting')\r\n\r\nconst appStore = useAppStore()\r\n\r\nconst { t } = useI18n()\r\n\r\nconst drawer = ref(false)\r\n\r\n// 主题色相关\r\nconst systemTheme = ref(appStore.getTheme.elColorPrimary)\r\n\r\nconst setSystemTheme = (color: string) => {\r\n  setCssVar('--el-color-primary', color)\r\n  appStore.setTheme({ elColorPrimary: color })\r\n  const leftMenuBgColor = useCssVar('--left-menu-bg-color', document.documentElement)\r\n  setMenuTheme(trim(unref(leftMenuBgColor)))\r\n}\r\n\r\n// 头部主题相关\r\nconst headerTheme = ref(appStore.getTheme.topHeaderBgColor || '')\r\n\r\nconst setHeaderTheme = (color: string) => {\r\n  appStore.setHeaderTheme(color)\r\n}\r\n\r\n// 菜单主题相关\r\nconst menuTheme = ref(appStore.getTheme.leftMenuBgColor || '')\r\n\r\nconst setMenuTheme = (color: string) => {\r\n  appStore.setMenuTheme(color)\r\n}\r\n\r\n// 监听layout变化，重置一些主题色\r\n// watch(\r\n//   () => layout.value,\r\n//   (n) => {\r\n//     if (n === 'top' && !appStore.getIsDark) {\r\n//       headerTheme.value = '#fff'\r\n//       setHeaderTheme('#fff')\r\n//     } else {\r\n//       setMenuTheme(unref(menuTheme))\r\n//     }\r\n//   }\r\n// )\r\n\r\n// 拷贝\r\nconst copyConfig = async () => {\r\n  const { copy, copied, isSupported } = useClipboard({\r\n    source: `\r\n      // 面包屑\r\n      breadcrumb: ${appStore.getBreadcrumb},\r\n      // 面包屑图标\r\n      breadcrumbIcon: ${appStore.getBreadcrumbIcon},\r\n      // 折叠图标\r\n      hamburger: ${appStore.getHamburger},\r\n      // 全屏图标\r\n      screenfull: ${appStore.getScreenfull},\r\n      // 尺寸图标\r\n      size: ${appStore.getSize},\r\n      // 多语言图标\r\n      locale: ${appStore.getLocale},\r\n      // 标签页\r\n      tagsView: ${appStore.getTagsView},\r\n      // 标签页图标\r\n      getTagsViewIcon: ${appStore.getTagsViewIcon},\r\n      // logo\r\n      logo: ${appStore.getLogo},\r\n      // 菜单手风琴\r\n      uniqueOpened: ${appStore.getUniqueOpened},\r\n      // 固定header\r\n      fixedHeader: ${appStore.getFixedHeader},\r\n      // 页脚\r\n      footer: ${appStore.getFooter},\r\n      // 灰色模式\r\n      greyMode: ${appStore.getGreyMode},\r\n      // layout布局\r\n      layout: '${appStore.getLayout}',\r\n      // 暗黑模式\r\n      isDark: ${appStore.getIsDark},\r\n      // 组件尺寸\r\n      currentSize: '${appStore.getCurrentSize}',\r\n      // 主题相关\r\n      theme: {\r\n        // 主题色\r\n        elColorPrimary: '${appStore.getTheme.elColorPrimary}',\r\n        // 左侧菜单边框颜色\r\n        leftMenuBorderColor: '${appStore.getTheme.leftMenuBorderColor}',\r\n        // 左侧菜单背景颜色\r\n        leftMenuBgColor: '${appStore.getTheme.leftMenuBgColor}',\r\n        // 左侧菜单浅色背景颜色\r\n        leftMenuBgLightColor: '${appStore.getTheme.leftMenuBgLightColor}',\r\n        // 左侧菜单选中背景颜色\r\n        leftMenuBgActiveColor: '${appStore.getTheme.leftMenuBgActiveColor}',\r\n        // 左侧菜单收起选中背景颜色\r\n        leftMenuCollapseBgActiveColor: '${appStore.getTheme.leftMenuCollapseBgActiveColor}',\r\n        // 左侧菜单字体颜色\r\n        leftMenuTextColor: '${appStore.getTheme.leftMenuTextColor}',\r\n        // 左侧菜单选中字体颜色\r\n        leftMenuTextActiveColor: '${appStore.getTheme.leftMenuTextActiveColor}',\r\n        // logo字体颜色\r\n        logoTitleTextColor: '${appStore.getTheme.logoTitleTextColor}',\r\n        // logo边框颜色\r\n        logoBorderColor: '${appStore.getTheme.logoBorderColor}',\r\n        // 头部背景颜色\r\n        topHeaderBgColor: '${appStore.getTheme.topHeaderBgColor}',\r\n        // 头部字体颜色\r\n        topHeaderTextColor: '${appStore.getTheme.topHeaderTextColor}',\r\n        // 头部悬停颜色\r\n        topHeaderHoverColor: '${appStore.getTheme.topHeaderHoverColor}',\r\n        // 头部边框颜色\r\n        topToolBorderColor: '${appStore.getTheme.topToolBorderColor}'\r\n      }\r\n    `,\r\n    legacy: true\r\n  })\r\n  if (!isSupported) {\r\n    ElMessage.error(t('setting.copyFailed'))\r\n  } else {\r\n    await copy()\r\n    if (unref(copied)) {\r\n      ElMessage.success(t('setting.copySuccess'))\r\n    }\r\n  }\r\n}\r\n\r\n// 清空缓存\r\nconst clear = () => {\r\n  storageClear()\r\n  window.location.reload()\r\n}\r\n\r\nconst themeChange = () => {\r\n  const color = getCssVar('--el-bg-color')\r\n  setMenuTheme(color)\r\n  setHeaderTheme(color)\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    :class=\"prefixCls\"\r\n    class=\"fixed top-[45%] right-0 w-40px h-40px flex items-center justify-center bg-[var(--el-color-primary)] cursor-pointer z-10\"\r\n    @click=\"drawer = true\"\r\n  >\r\n    <Icon icon=\"ant-design:setting-outlined\" color=\"#fff\" />\r\n  </div>\r\n\r\n  <ElDrawer v-model=\"drawer\" direction=\"rtl\" size=\"350px\" :z-index=\"4000\">\r\n    <template #header>\r\n      <span class=\"text-16px font-700\">{{ t('setting.projectSetting') }}</span>\r\n    </template>\r\n\r\n    <div class=\"text-center\">\r\n      <!-- 主题 -->\r\n      <ElDivider>{{ t('setting.theme') }}</ElDivider>\r\n      <ThemeSwitch @change=\"themeChange\" />\r\n\r\n      <!-- 布局 -->\r\n      <ElDivider>{{ t('setting.layout') }}</ElDivider>\r\n      <LayoutRadioPicker />\r\n\r\n      <!-- 系统主题 -->\r\n      <ElDivider>{{ t('setting.systemTheme') }}</ElDivider>\r\n      <ColorRadioPicker\r\n        v-model=\"systemTheme\"\r\n        :schema=\"[\r\n          '#409eff',\r\n          '#009688',\r\n          '#536dfe',\r\n          '#ff5c93',\r\n          '#ee4f12',\r\n          '#0096c7',\r\n          '#9c27b0',\r\n          '#ff9800'\r\n        ]\"\r\n        @change=\"setSystemTheme\"\r\n      />\r\n\r\n      <!-- 头部主题 -->\r\n      <ElDivider>{{ t('setting.headerTheme') }}</ElDivider>\r\n      <ColorRadioPicker\r\n        v-model=\"headerTheme\"\r\n        :schema=\"[\r\n          '#fff',\r\n          '#151515',\r\n          '#5172dc',\r\n          '#e74c3c',\r\n          '#24292e',\r\n          '#394664',\r\n          '#009688',\r\n          '#383f45'\r\n        ]\"\r\n        @change=\"setHeaderTheme\"\r\n      />\r\n\r\n      <!-- 菜单主题 -->\r\n      <ElDivider>{{ t('setting.menuTheme') }}</ElDivider>\r\n      <ColorRadioPicker\r\n        v-model=\"menuTheme\"\r\n        :schema=\"[\r\n          '#fff',\r\n          '#001529',\r\n          '#212121',\r\n          '#273352',\r\n          '#191b24',\r\n          '#383f45',\r\n          '#001628',\r\n          '#344058'\r\n        ]\"\r\n        @change=\"setMenuTheme\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 界面显示 -->\r\n    <ElDivider>{{ t('setting.interfaceDisplay') }}</ElDivider>\r\n    <InterfaceDisplay />\r\n\r\n    <ElDivider />\r\n    <div>\r\n      <BaseButton type=\"primary\" class=\"w-full\" @click=\"copyConfig\">{{\r\n        t('setting.copy')\r\n      }}</BaseButton>\r\n    </div>\r\n    <div class=\"mt-5px\">\r\n      <BaseButton type=\"danger\" class=\"w-full\" @click=\"clear\">\r\n        {{ t('setting.clearAndReset') }}\r\n      </BaseButton>\r\n    </div>\r\n  </ElDrawer>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-setting';\r\n\r\n.@{prefix-cls} {\r\n  border-radius: 6px 0 0 6px;\r\n}\r\n</style>\r\n","interface TreeHelperConfig {\r\n  id: string\r\n  children: string\r\n  pid: string\r\n}\r\nconst DEFAULT_CONFIG: TreeHelperConfig = {\r\n  id: 'id',\r\n  children: 'children',\r\n  pid: 'pid'\r\n}\r\n\r\nconst getConfig = (config: Partial<TreeHelperConfig>) => Object.assign({}, DEFAULT_CONFIG, config)\r\n\r\n// tree from list\r\nexport const listToTree = <T = any>(list: any[], config: Partial<TreeHelperConfig> = {}): T[] => {\r\n  const conf = getConfig(config) as TreeHelperConfig\r\n  const nodeMap = new Map()\r\n  const result: T[] = []\r\n  const { id, children, pid } = conf\r\n\r\n  for (const node of list) {\r\n    node[children] = node[children] || []\r\n    nodeMap.set(node[id], node)\r\n  }\r\n  for (const node of list) {\r\n    const parent = nodeMap.get(node[pid])\r\n    ;(parent ? parent.children : result).push(node)\r\n  }\r\n  return result\r\n}\r\n\r\nexport const treeToList = <T = any>(tree: any, config: Partial<TreeHelperConfig> = {}): T => {\r\n  config = getConfig(config)\r\n  const { children } = config\r\n  const result: any = [...tree]\r\n  for (let i = 0; i < result.length; i++) {\r\n    if (!result[i][children!]) continue\r\n    result.splice(i + 1, 0, ...result[i][children!])\r\n  }\r\n  return result\r\n}\r\n\r\nexport const findNode = <T = any>(\r\n  tree: any,\r\n  func: Fn,\r\n  config: Partial<TreeHelperConfig> = {}\r\n): T | null => {\r\n  config = getConfig(config)\r\n  const { children } = config\r\n  const list = [...tree]\r\n  for (const node of list) {\r\n    if (func(node)) return node\r\n    node[children!] && list.push(...node[children!])\r\n  }\r\n  return null\r\n}\r\n\r\nexport const findNodeAll = <T = any>(\r\n  tree: any,\r\n  func: Fn,\r\n  config: Partial<TreeHelperConfig> = {}\r\n): T[] => {\r\n  config = getConfig(config)\r\n  const { children } = config\r\n  const list = [...tree]\r\n  const result: T[] = []\r\n  for (const node of list) {\r\n    func(node) && result.push(node)\r\n    node[children!] && list.push(...node[children!])\r\n  }\r\n  return result\r\n}\r\n\r\nexport const findPath = <T = any>(\r\n  tree: any,\r\n  func: Fn,\r\n  config: Partial<TreeHelperConfig> = {}\r\n): T | T[] | null => {\r\n  config = getConfig(config)\r\n  const path: T[] = []\r\n  const list = [...tree]\r\n  const visitedSet = new Set()\r\n  const { children } = config\r\n  while (list.length) {\r\n    const node = list[0]\r\n    if (visitedSet.has(node)) {\r\n      path.pop()\r\n      list.shift()\r\n    } else {\r\n      visitedSet.add(node)\r\n      node[children!] && list.unshift(...node[children!])\r\n      path.push(node)\r\n      if (func(node)) {\r\n        return path\r\n      }\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\nexport const findPathAll = (tree: any, func: Fn, config: Partial<TreeHelperConfig> = {}) => {\r\n  config = getConfig(config)\r\n  const path: any[] = []\r\n  const list = [...tree]\r\n  const result: any[] = []\r\n  const visitedSet = new Set(),\r\n    { children } = config\r\n  while (list.length) {\r\n    const node = list[0]\r\n    if (visitedSet.has(node)) {\r\n      path.pop()\r\n      list.shift()\r\n    } else {\r\n      visitedSet.add(node)\r\n      node[children!] && list.unshift(...node[children!])\r\n      path.push(node)\r\n      func(node) && result.push([...path])\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\nexport const filter = <T = any>(\r\n  tree: T[],\r\n  func: (n: T) => boolean,\r\n  config: Partial<TreeHelperConfig> = {}\r\n): T[] => {\r\n  config = getConfig(config)\r\n  const children = config.children as string\r\n  function listFilter(list: T[]) {\r\n    return list\r\n      .map((node: any) => ({ ...node }))\r\n      .filter((node) => {\r\n        node[children] = node[children] && listFilter(node[children])\r\n        return func(node) || (node[children] && node[children].length)\r\n      })\r\n  }\r\n  return listFilter(tree)\r\n}\r\n\r\nexport const forEach = <T = any>(\r\n  tree: T[],\r\n  func: (n: T) => any,\r\n  config: Partial<TreeHelperConfig> = {}\r\n): void => {\r\n  config = getConfig(config)\r\n  const list: any[] = [...tree]\r\n  const { children } = config\r\n  for (let i = 0; i < list.length; i++) {\r\n    // func 返回true就终止遍历，避免大量节点场景下无意义循环，引起浏览器卡顿\r\n    if (func(list[i])) {\r\n      return\r\n    }\r\n    children && list[i][children] && list.splice(i + 1, 0, ...list[i][children])\r\n  }\r\n}\r\n\r\n/**\r\n * @description: Extract tree specified structure\r\n */\r\nexport const treeMap = <T = any>(\r\n  treeData: T[],\r\n  opt: { children?: string; conversion: Fn }\r\n): T[] => {\r\n  return treeData.map((item) => treeMapEach(item, opt))\r\n}\r\n\r\n/**\r\n * @description: Extract tree specified structure\r\n */\r\nexport const treeMapEach = (\r\n  data: any,\r\n  { children = 'children', conversion }: { children?: string; conversion: Fn }\r\n) => {\r\n  const haveChildren = Array.isArray(data[children]) && data[children].length > 0\r\n  const conversionData = conversion(data) || {}\r\n  if (haveChildren) {\r\n    return {\r\n      ...conversionData,\r\n      [children]: data[children].map((i: number) =>\r\n        treeMapEach(i, {\r\n          children,\r\n          conversion\r\n        })\r\n      )\r\n    }\r\n  } else {\r\n    return {\r\n      ...conversionData\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 递归遍历树结构\r\n * @param treeDatas 树\r\n * @param callBack 回调\r\n * @param parentNode 父节点\r\n */\r\nexport const eachTree = (treeDatas: any[], callBack: Fn, parentNode = {}) => {\r\n  treeDatas.forEach((element) => {\r\n    const newNode = callBack(element, parentNode) || element\r\n    if (element.children) {\r\n      eachTree(element.children, callBack, newNode)\r\n    }\r\n  })\r\n}\r\n","import { ref, unref } from 'vue'\r\nimport { findPath } from '@/utils/tree'\r\n\r\ntype OnlyOneChildType = AppRouteRecordRaw & { noShowingChildren?: boolean }\r\n\r\ninterface HasOneShowingChild {\r\n  oneShowingChild?: boolean\r\n  onlyOneChild?: OnlyOneChildType\r\n}\r\n\r\nexport const getAllParentPath = <T = Recordable>(treeData: T[], path: string) => {\r\n  const menuList = findPath(treeData, (n) => n.path === path) as AppRouteRecordRaw[]\r\n  return (menuList || []).map((item) => item.path)\r\n}\r\n\r\nexport const hasOneShowingChild = (\r\n  children: AppRouteRecordRaw[] = [],\r\n  parent: AppRouteRecordRaw\r\n): HasOneShowingChild => {\r\n  const onlyOneChild = ref<OnlyOneChildType>()\r\n\r\n  const showingChildren = children.filter((v) => {\r\n    const meta = v.meta ?? {}\r\n    if (meta.hidden) {\r\n      return false\r\n    } else {\r\n      // Temp set(will be used if only has one showing child)\r\n      onlyOneChild.value = v\r\n      return true\r\n    }\r\n  })\r\n\r\n  // When there is only one child router, the child router is displayed by default\r\n  if (showingChildren.length === 1) {\r\n    return {\r\n      oneShowingChild: true,\r\n      onlyOneChild: unref(onlyOneChild)\r\n    }\r\n  }\r\n\r\n  // Show parent if there are no child router to display\r\n  if (!showingChildren.length) {\r\n    onlyOneChild.value = { ...parent, path: '', noShowingChildren: true }\r\n    return {\r\n      oneShowingChild: true,\r\n      onlyOneChild: unref(onlyOneChild)\r\n    }\r\n  }\r\n\r\n  return {\r\n    oneShowingChild: false,\r\n    onlyOneChild: unref(onlyOneChild)\r\n  }\r\n}\r\n","import type { RouteMeta } from 'vue-router'\r\nimport { Icon } from '@/components/Icon'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nexport const useRenderMenuTitle = () => {\r\n  const renderMenuTitle = (meta: RouteMeta) => {\r\n    const { t } = useI18n()\r\n    const { title = 'Please set title', icon } = meta\r\n\r\n    return icon ? (\r\n      <>\r\n        <Icon icon={meta.icon}></Icon>\r\n        <span class=\"v-menu__title overflow-hidden overflow-ellipsis whitespace-nowrap\">\r\n          {t(title as string)}\r\n        </span>\r\n      </>\r\n    ) : (\r\n      <span class=\"v-menu__title overflow-hidden overflow-ellipsis whitespace-nowrap\">\r\n        {t(title as string)}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  return {\r\n    renderMenuTitle\r\n  }\r\n}\r\n","import { ElSubMenu, ElMenuItem } from 'element-plus'\r\nimport { hasOneShowingChild } from '../helper'\r\nimport { isUrl } from '@/utils/is'\r\nimport { useRenderMenuTitle } from './useRenderMenuTitle'\r\nimport { pathResolve } from '@/utils/routerHelper'\r\n\r\nconst { renderMenuTitle } = useRenderMenuTitle()\r\n\r\nexport const useRenderMenuItem = () =>\r\n  // allRouters: AppRouteRecordRaw[] = [],\r\n  {\r\n    const renderMenuItem = (routers: AppRouteRecordRaw[], parentPath = '/') => {\r\n      return routers\r\n        .filter((v) => !v.meta?.hidden)\r\n        .map((v) => {\r\n          const meta = v.meta ?? {}\r\n          const { oneShowingChild, onlyOneChild } = hasOneShowingChild(v.children, v)\r\n          const fullPath = isUrl(v.path) ? v.path : pathResolve(parentPath, v.path) // getAllParentPath<AppRouteRecordRaw>(allRouters, v.path).join('/')\r\n\r\n          if (\r\n            oneShowingChild &&\r\n            (!onlyOneChild?.children || onlyOneChild?.noShowingChildren) &&\r\n            !meta?.alwaysShow\r\n          ) {\r\n            return (\r\n              <ElMenuItem\r\n                index={onlyOneChild ? pathResolve(fullPath, onlyOneChild.path) : fullPath}\r\n              >\r\n                {{\r\n                  default: () => renderMenuTitle(onlyOneChild ? onlyOneChild?.meta : meta)\r\n                }}\r\n              </ElMenuItem>\r\n            )\r\n          } else {\r\n            return (\r\n              <ElSubMenu index={fullPath}>\r\n                {{\r\n                  title: () => renderMenuTitle(meta),\r\n                  default: () => renderMenuItem(v.children!, fullPath)\r\n                }}\r\n              </ElSubMenu>\r\n            )\r\n          }\r\n        })\r\n    }\r\n\r\n    return {\r\n      renderMenuItem\r\n    }\r\n  }\r\n","<script lang=\"tsx\">\r\nimport { computed, defineComponent, unref, PropType } from 'vue'\r\nimport { ElMenu, ElScrollbar } from 'element-plus'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { usePermissionStore } from '@/store/modules/permission'\r\nimport { useRenderMenuItem } from './components/useRenderMenuItem'\r\nimport { useRouter } from 'vue-router'\r\nimport { isUrl } from '@/utils/is'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('menu')\r\n\r\nexport default defineComponent({\r\n  name: 'Menu',\r\n  props: {\r\n    menuSelect: {\r\n      type: Function as PropType<(index: string) => void>,\r\n      default: undefined\r\n    }\r\n  },\r\n  setup(props) {\r\n    const appStore = useAppStore()\r\n\r\n    const layout = computed(() => appStore.getLayout)\r\n\r\n    const { push, currentRoute } = useRouter()\r\n\r\n    const permissionStore = usePermissionStore()\r\n\r\n    const menuMode = computed((): 'vertical' | 'horizontal' => {\r\n      // 竖\r\n      const vertical: LayoutType[] = ['classic', 'topLeft', 'cutMenu']\r\n\r\n      if (vertical.includes(unref(layout))) {\r\n        return 'vertical'\r\n      } else {\r\n        return 'horizontal'\r\n      }\r\n    })\r\n\r\n    const routers = computed(() =>\r\n      unref(layout) === 'cutMenu' ? permissionStore.getMenuTabRouters : permissionStore.getRouters\r\n    )\r\n\r\n    const collapse = computed(() => appStore.getCollapse)\r\n\r\n    const uniqueOpened = computed(() => appStore.getUniqueOpened)\r\n\r\n    const activeMenu = computed(() => {\r\n      const { meta, path } = unref(currentRoute)\r\n      // if set path, the sidebar will highlight the path you set\r\n      if (meta.activeMenu) {\r\n        return meta.activeMenu as string\r\n      }\r\n      return path\r\n    })\r\n\r\n    const menuSelect = (index: string) => {\r\n      if (props.menuSelect) {\r\n        props.menuSelect(index)\r\n      }\r\n      // 自定义事件\r\n      if (isUrl(index)) {\r\n        window.open(index)\r\n      } else {\r\n        push(index)\r\n      }\r\n    }\r\n\r\n    const renderMenuWrap = () => {\r\n      if (unref(layout) === 'top') {\r\n        return renderMenu()\r\n      } else {\r\n        return <ElScrollbar>{renderMenu()}</ElScrollbar>\r\n      }\r\n    }\r\n\r\n    const renderMenu = () => {\r\n      return (\r\n        <ElMenu\r\n          defaultActive={unref(activeMenu)}\r\n          mode={unref(menuMode)}\r\n          collapse={\r\n            unref(layout) === 'top' || unref(layout) === 'cutMenu' ? false : unref(collapse)\r\n          }\r\n          uniqueOpened={unref(layout) === 'top' ? false : unref(uniqueOpened)}\r\n          backgroundColor=\"var(--left-menu-bg-color)\"\r\n          textColor=\"var(--left-menu-text-color)\"\r\n          activeTextColor=\"var(--left-menu-text-active-color)\"\r\n          popperClass={\r\n            unref(menuMode) === 'vertical'\r\n              ? `${prefixCls}-popper--vertical`\r\n              : `${prefixCls}-popper--horizontal`\r\n          }\r\n          onSelect={menuSelect}\r\n        >\r\n          {{\r\n            default: () => {\r\n              const { renderMenuItem } = useRenderMenuItem()\r\n              return renderMenuItem(unref(routers))\r\n            }\r\n          }}\r\n        </ElMenu>\r\n      )\r\n    }\r\n\r\n    return () => (\r\n      <div\r\n        id={prefixCls}\r\n        class={[\r\n          `${prefixCls} ${prefixCls}__${unref(menuMode)}`,\r\n          'h-[100%] overflow-hidden flex-col bg-[var(--left-menu-bg-color)]',\r\n          {\r\n            'w-[var(--left-menu-min-width)]': unref(collapse) && unref(layout) !== 'cutMenu',\r\n            'w-[var(--left-menu-max-width)]': !unref(collapse) && unref(layout) !== 'cutMenu'\r\n          }\r\n        ]}\r\n      >\r\n        {renderMenuWrap()}\r\n      </div>\r\n    )\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-menu';\r\n\r\n.@{prefix-cls} {\r\n  position: relative;\r\n  transition: width var(--transition-time-02);\r\n\r\n  :deep(.@{elNamespace}-menu) {\r\n    width: 100% !important;\r\n    border-right: none;\r\n\r\n    // 设置选中时子标题的颜色\r\n    .is-active {\r\n      & > .@{elNamespace}-sub-menu__title {\r\n        color: var(--left-menu-text-active-color) !important;\r\n      }\r\n    }\r\n\r\n    // 设置子菜单悬停的高亮和背景色\r\n    .@{elNamespace}-sub-menu__title,\r\n    .@{elNamespace}-menu-item {\r\n      &:hover {\r\n        color: var(--left-menu-text-active-color) !important;\r\n        background-color: var(--left-menu-bg-color) !important;\r\n      }\r\n    }\r\n\r\n    // 设置选中时的高亮背景和高亮颜色\r\n    .@{elNamespace}-menu-item.is-active {\r\n      color: var(--left-menu-text-active-color) !important;\r\n      background-color: var(--left-menu-bg-active-color) !important;\r\n\r\n      &:hover {\r\n        background-color: var(--left-menu-bg-active-color) !important;\r\n      }\r\n    }\r\n\r\n    .@{elNamespace}-menu-item.is-active {\r\n      position: relative;\r\n    }\r\n\r\n    // 设置子菜单的背景颜色\r\n    .@{elNamespace}-menu {\r\n      .@{elNamespace}-sub-menu__title,\r\n      .@{elNamespace}-menu-item:not(.is-active) {\r\n        background-color: var(--left-menu-bg-light-color) !important;\r\n      }\r\n    }\r\n  }\r\n\r\n  // 折叠时的最小宽度\r\n  :deep(.@{elNamespace}-menu--collapse) {\r\n    width: var(--left-menu-min-width);\r\n\r\n    & > .is-active,\r\n    & > .is-active > .@{elNamespace}-sub-menu__title {\r\n      position: relative;\r\n      background-color: var(--left-menu-collapse-bg-active-color) !important;\r\n    }\r\n  }\r\n\r\n  // 折叠动画的时候，就需要把文字给隐藏掉\r\n  :deep(.horizontal-collapse-transition) {\r\n    .@{prefix-cls}__title {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  // 水平菜单\r\n  &__horizontal {\r\n    height: calc(~'var(--top-tool-height)') !important;\r\n\r\n    :deep(.@{elNamespace}-menu--horizontal) {\r\n      height: calc(~'var(--top-tool-height)');\r\n      border-bottom: none;\r\n      // 重新设置底部高亮颜色\r\n      & > .@{elNamespace}-sub-menu.is-active {\r\n        .@{elNamespace}-sub-menu__title {\r\n          border-bottom-color: var(--el-color-primary) !important;\r\n        }\r\n      }\r\n\r\n      .@{elNamespace}-menu-item.is-active {\r\n        position: relative;\r\n\r\n        &::after {\r\n          display: none !important;\r\n        }\r\n      }\r\n\r\n      .@{prefix-cls}__title {\r\n        /* stylelint-disable-next-line */\r\n        max-height: calc(~'var(--top-tool-height) - 2px') !important;\r\n        /* stylelint-disable-next-line */\r\n        line-height: calc(~'var(--top-tool-height) - 2px');\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"less\">\r\n@prefix-cls: ~'@{namespace}-menu-popper';\r\n\r\n.@{prefix-cls}--vertical,\r\n.@{prefix-cls}--horizontal {\r\n  // 设置选中时子标题的颜色\r\n  .is-active {\r\n    & > .el-sub-menu__title {\r\n      color: var(--left-menu-text-active-color) !important;\r\n    }\r\n  }\r\n\r\n  // 设置子菜单悬停的高亮和背景色\r\n  .el-sub-menu__title,\r\n  .el-menu-item {\r\n    &:hover {\r\n      color: var(--left-menu-text-active-color) !important;\r\n      background-color: var(--left-menu-bg-color) !important;\r\n    }\r\n  }\r\n\r\n  // 设置选中时的高亮背景\r\n  .el-menu-item.is-active {\r\n    position: relative;\r\n    background-color: var(--left-menu-bg-active-color) !important;\r\n\r\n    &:hover {\r\n      background-color: var(--left-menu-bg-active-color) !important;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { getAllParentPath } from '@/components/Menu/src/helper'\r\nimport type { RouteMeta } from 'vue-router'\r\nimport { isUrl } from '@/utils/is'\r\nimport { cloneDeep } from 'lodash-es'\r\nimport { reactive } from 'vue'\r\n\r\nexport type TabMapTypes = {\r\n  [key: string]: string[]\r\n}\r\n\r\nexport const tabPathMap = reactive<TabMapTypes>({})\r\n\r\nexport const initTabMap = (routes: AppRouteRecordRaw[]) => {\r\n  for (const v of routes) {\r\n    const meta = (v.meta ?? {}) as RouteMeta\r\n    if (!meta?.hidden) {\r\n      tabPathMap[v.path] = []\r\n    }\r\n  }\r\n}\r\n\r\nexport const filterMenusPath = (\r\n  routes: AppRouteRecordRaw[],\r\n  allRoutes: AppRouteRecordRaw[]\r\n): AppRouteRecordRaw[] => {\r\n  const res: AppRouteRecordRaw[] = []\r\n  for (const v of routes) {\r\n    let data: Nullable<AppRouteRecordRaw> = null\r\n    const meta = (v.meta ?? {}) as RouteMeta\r\n    if (!meta.hidden || meta.canTo) {\r\n      const allParentPath = getAllParentPath<AppRouteRecordRaw>(allRoutes, v.path)\r\n\r\n      const fullPath = isUrl(v.path) ? v.path : allParentPath.join('/')\r\n\r\n      data = cloneDeep(v)\r\n      data.path = fullPath\r\n      if (v.children && data) {\r\n        data.children = filterMenusPath(v.children, allRoutes)\r\n      }\r\n\r\n      if (data) {\r\n        res.push(data)\r\n      }\r\n\r\n      if (allParentPath.length && Reflect.has(tabPathMap, allParentPath[0])) {\r\n        tabPathMap[allParentPath[0]].push(fullPath)\r\n      }\r\n    }\r\n  }\r\n\r\n  return res\r\n}\r\n","<script lang=\"tsx\">\r\nimport { usePermissionStore } from '@/store/modules/permission'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { computed, unref, defineComponent, watch, ref, onMounted } from 'vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { ElScrollbar } from 'element-plus'\r\nimport { Icon } from '@/components/Icon'\r\nimport { Menu } from '@/components/Menu'\r\nimport { useRouter } from 'vue-router'\r\nimport { pathResolve } from '@/utils/routerHelper'\r\nimport { cloneDeep } from 'lodash-es'\r\nimport { filterMenusPath, initTabMap, tabPathMap } from './helper'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\nimport { isUrl } from '@/utils/is'\r\n\r\nconst { getPrefixCls, variables } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('tab-menu')\r\n\r\nexport default defineComponent({\r\n  name: 'TabMenu',\r\n  setup() {\r\n    const { push, currentRoute } = useRouter()\r\n\r\n    const { t } = useI18n()\r\n\r\n    const appStore = useAppStore()\r\n\r\n    const collapse = computed(() => appStore.getCollapse)\r\n\r\n    const fixedMenu = computed(() => appStore.getFixedMenu)\r\n\r\n    const permissionStore = usePermissionStore()\r\n\r\n    const routers = computed(() => permissionStore.getRouters)\r\n\r\n    const tabRouters = computed(() => unref(routers).filter((v) => !v?.meta?.hidden))\r\n\r\n    const setCollapse = () => {\r\n      appStore.setCollapse(!unref(collapse))\r\n    }\r\n\r\n    onMounted(() => {\r\n      if (unref(fixedMenu)) {\r\n        const path = `/${unref(currentRoute).path.split('/')[1]}`\r\n        const children = unref(tabRouters).find(\r\n          (v) =>\r\n            (v.meta?.alwaysShow || (v?.children?.length && v?.children?.length > 1)) &&\r\n            v.path === path\r\n        )?.children\r\n\r\n        tabActive.value = path\r\n        if (children) {\r\n          permissionStore.setMenuTabRouters(\r\n            cloneDeep(children).map((v) => {\r\n              v.path = pathResolve(unref(tabActive), v.path)\r\n              return v\r\n            })\r\n          )\r\n        }\r\n      }\r\n    })\r\n\r\n    watch(\r\n      () => routers.value,\r\n      (routers: AppRouteRecordRaw[]) => {\r\n        initTabMap(routers)\r\n        filterMenusPath(routers, routers)\r\n      },\r\n      {\r\n        immediate: true,\r\n        deep: true\r\n      }\r\n    )\r\n\r\n    const showTitle = ref(true)\r\n\r\n    watch(\r\n      () => collapse.value,\r\n      (collapse: boolean) => {\r\n        if (!collapse) {\r\n          setTimeout(() => {\r\n            showTitle.value = !collapse\r\n          }, 200)\r\n        } else {\r\n          showTitle.value = !collapse\r\n        }\r\n      },\r\n      {\r\n        immediate: true\r\n      }\r\n    )\r\n\r\n    // 是否显示菜单\r\n    const showMenu = ref(unref(fixedMenu) ? true : false)\r\n\r\n    // tab高亮\r\n    const tabActive = ref('')\r\n\r\n    // tab点击事件\r\n    const tabClick = (item: AppRouteRecordRaw) => {\r\n      if (isUrl(item.path)) {\r\n        window.open(item.path)\r\n        return\r\n      }\r\n      const newPath = item.children ? item.path : item.path.split('/')[0]\r\n      const oldPath = unref(tabActive)\r\n      tabActive.value = item.children ? item.path : item.path.split('/')[0]\r\n      if (item.children) {\r\n        if (newPath === oldPath || !unref(showMenu)) {\r\n          showMenu.value = unref(fixedMenu) ? true : !unref(showMenu)\r\n        }\r\n        if (unref(showMenu)) {\r\n          permissionStore.setMenuTabRouters(\r\n            cloneDeep(item.children).map((v) => {\r\n              v.path = pathResolve(unref(tabActive), v.path)\r\n              return v\r\n            })\r\n          )\r\n        }\r\n      } else {\r\n        push(item.path)\r\n        permissionStore.setMenuTabRouters([])\r\n        showMenu.value = false\r\n      }\r\n    }\r\n\r\n    // 设置高亮\r\n    const isActive = (currentPath: string) => {\r\n      const { path } = unref(currentRoute)\r\n      if (tabPathMap[currentPath].includes(path)) {\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n\r\n    const mouseleave = () => {\r\n      if (!unref(showMenu) || unref(fixedMenu)) return\r\n      showMenu.value = false\r\n    }\r\n\r\n    return () => (\r\n      <div\r\n        id={`${variables.namespace}-menu`}\r\n        class={[\r\n          prefixCls,\r\n          'relative bg-[var(--left-menu-bg-color)] top-1px z-3000 layout-border__right',\r\n          {\r\n            'w-[var(--tab-menu-max-width)]': !unref(collapse),\r\n            'w-[var(--tab-menu-min-width)]': unref(collapse)\r\n          }\r\n        ]}\r\n        onMouseleave={mouseleave}\r\n      >\r\n        <ElScrollbar class=\"!h-[calc(100%-var(--tab-menu-collapse-height)-1px)]\">\r\n          <div>\r\n            {() => {\r\n              return unref(tabRouters).map((v) => {\r\n                const item = (\r\n                  v.meta?.alwaysShow || (v?.children?.length && v?.children?.length > 1)\r\n                    ? v\r\n                    : {\r\n                        ...(v?.children && v?.children[0]),\r\n                        path: pathResolve(v.path, (v?.children && v?.children[0])?.path as string)\r\n                      }\r\n                ) as AppRouteRecordRaw\r\n                return (\r\n                  <div\r\n                    class={[\r\n                      `${prefixCls}__item`,\r\n                      'text-center text-12px relative py-12px cursor-pointer',\r\n                      {\r\n                        'is-active': isActive(v.path)\r\n                      }\r\n                    ]}\r\n                    onClick={() => {\r\n                      tabClick(item)\r\n                    }}\r\n                  >\r\n                    <div>\r\n                      <Icon icon={item?.meta?.icon}></Icon>\r\n                    </div>\r\n                    {!unref(showTitle) ? undefined : (\r\n                      <p class=\"break-words mt-5px px-2px\">{t(item.meta?.title)}</p>\r\n                    )}\r\n                  </div>\r\n                )\r\n              })\r\n            }}\r\n          </div>\r\n        </ElScrollbar>\r\n        <div\r\n          class={[\r\n            `${prefixCls}--collapse`,\r\n            'text-center h-[var(--tab-menu-collapse-height)] leading-[var(--tab-menu-collapse-height)] cursor-pointer'\r\n          ]}\r\n          onClick={setCollapse}\r\n        >\r\n          <Icon icon={unref(collapse) ? 'ep:d-arrow-right' : 'ep:d-arrow-left'}></Icon>\r\n        </div>\r\n        <Menu\r\n          class={[\r\n            '!absolute top-0 z-3000',\r\n            {\r\n              '!left-[var(--tab-menu-min-width)]': unref(collapse),\r\n              '!left-[var(--tab-menu-max-width)]': !unref(collapse),\r\n              '!w-[var(--left-menu-max-width)] border-r-1 border-r-solid border-[var(--el-border-color)]':\r\n                unref(showMenu) || unref(fixedMenu),\r\n              '!w-0': !unref(showMenu) && !unref(fixedMenu)\r\n            }\r\n          ]}\r\n          style=\"transition: width var(--transition-time-02), left var(--transition-time-02);\"\r\n        ></Menu>\r\n      </div>\r\n    )\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-tab-menu';\r\n\r\n.@{prefix-cls} {\r\n  transition: all var(--transition-time-02);\r\n\r\n  &__item {\r\n    color: var(--left-menu-text-color);\r\n    transition: all var(--transition-time-02);\r\n\r\n    &:hover {\r\n      color: var(--left-menu-text-active-color);\r\n      // background-color: var(--left-menu-bg-active-color);\r\n    }\r\n  }\r\n\r\n  &--collapse {\r\n    color: var(--left-menu-text-color);\r\n    background-color: var(--left-menu-bg-light-color);\r\n  }\r\n\r\n  .is-active {\r\n    color: var(--left-menu-text-active-color);\r\n    background-color: var(--left-menu-bg-active-color);\r\n  }\r\n}\r\n</style>\r\n","import type { RouteMeta, RouteLocationNormalizedLoaded } from 'vue-router'\r\nimport { pathResolve } from '@/utils/routerHelper'\r\n\r\nexport const filterAffixTags = (routes: AppRouteRecordRaw[], parentPath = '') => {\r\n  let tags: RouteLocationNormalizedLoaded[] = []\r\n  routes.forEach((route) => {\r\n    const meta = route.meta as RouteMeta\r\n    const tagPath = pathResolve(parentPath, route.path)\r\n    if (meta?.affix) {\r\n      tags.push({ ...route, path: tagPath, fullPath: tagPath } as RouteLocationNormalizedLoaded)\r\n    }\r\n    if (route.children) {\r\n      const tempTags: RouteLocationNormalizedLoaded[] = filterAffixTags(route.children, tagPath)\r\n      if (tempTags.length >= 1) {\r\n        tags = [...tags, ...tempTags]\r\n      }\r\n    }\r\n  })\r\n\r\n  return tags\r\n}\r\n","<script setup lang=\"ts\">\r\nimport { ElDropdown, ElDropdownMenu, ElDropdownItem } from 'element-plus'\r\nimport { PropType, ref } from 'vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\nimport type { RouteLocationNormalizedLoaded } from 'vue-router'\r\nimport { ContextMenuSchema } from './types'\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('context-menu')\r\n\r\nconst { t } = useI18n()\r\n\r\nconst emit = defineEmits(['visibleChange'])\r\n\r\nconst props = defineProps({\r\n  schema: {\r\n    type: Array as PropType<ContextMenuSchema[]>,\r\n    default: () => []\r\n  },\r\n  trigger: {\r\n    type: String as PropType<'click' | 'hover' | 'focus' | 'contextmenu'>,\r\n    default: 'contextmenu'\r\n  },\r\n  tagItem: {\r\n    type: Object as PropType<RouteLocationNormalizedLoaded>,\r\n    default: () => ({})\r\n  }\r\n})\r\n\r\nconst command = (item: ContextMenuSchema) => {\r\n  item.command && item.command(item)\r\n}\r\n\r\nconst visibleChange = (visible: boolean) => {\r\n  emit('visibleChange', visible, props.tagItem)\r\n}\r\n\r\nconst elDropdownMenuRef = ref<ComponentRef<typeof ElDropdown>>()\r\n\r\ndefineExpose({\r\n  elDropdownMenuRef,\r\n  tagItem: props.tagItem\r\n})\r\n</script>\r\n\r\n<template>\r\n  <ElDropdown\r\n    ref=\"elDropdownMenuRef\"\r\n    :class=\"prefixCls\"\r\n    :trigger=\"trigger\"\r\n    placement=\"bottom-start\"\r\n    @command=\"command\"\r\n    @visible-change=\"visibleChange\"\r\n    popper-class=\"v-context-menu-popper\"\r\n  >\r\n    <slot></slot>\r\n    <template #dropdown>\r\n      <ElDropdownMenu>\r\n        <ElDropdownItem\r\n          v-for=\"(item, index) in schema\"\r\n          :key=\"`dropdown${index}`\"\r\n          :divided=\"item.divided\"\r\n          :disabled=\"item.disabled\"\r\n          :command=\"item\"\r\n        >\r\n          <Icon :icon=\"item.icon\" /> {{ t(item.label) }}\r\n        </ElDropdownItem>\r\n      </ElDropdownMenu>\r\n    </template>\r\n  </ElDropdown>\r\n</template>\r\n","import { ref, unref } from 'vue'\r\n\r\nexport interface ScrollToParams {\r\n  el: HTMLElement\r\n  to: number\r\n  position: string\r\n  duration?: number\r\n  callback?: () => void\r\n}\r\n\r\nconst easeInOutQuad = (t: number, b: number, c: number, d: number) => {\r\n  t /= d / 2\r\n  if (t < 1) {\r\n    return (c / 2) * t * t + b\r\n  }\r\n  t--\r\n  return (-c / 2) * (t * (t - 2) - 1) + b\r\n}\r\nconst move = (el: HTMLElement, position: string, amount: number) => {\r\n  el[position] = amount\r\n}\r\n\r\nexport function useScrollTo({\r\n  el,\r\n  position = 'scrollLeft',\r\n  to,\r\n  duration = 500,\r\n  callback\r\n}: ScrollToParams) {\r\n  const isActiveRef = ref(false)\r\n  const start = el[position]\r\n  const change = to - start\r\n  const increment = 20\r\n  let currentTime = 0\r\n\r\n  function animateScroll() {\r\n    if (!unref(isActiveRef)) {\r\n      return\r\n    }\r\n    currentTime += increment\r\n    const val = easeInOutQuad(currentTime, start, change, duration)\r\n    move(el, position, val)\r\n    if (currentTime < duration && unref(isActiveRef)) {\r\n      requestAnimationFrame(animateScroll)\r\n    } else {\r\n      if (callback) {\r\n        callback()\r\n      }\r\n    }\r\n  }\r\n\r\n  function run() {\r\n    isActiveRef.value = true\r\n    animateScroll()\r\n  }\r\n\r\n  function stop() {\r\n    isActiveRef.value = false\r\n  }\r\n\r\n  return { start: run, stop }\r\n}\r\n","import { useTagsViewStoreWithOut } from '@/store/modules/tagsView'\r\nimport { RouteLocationNormalizedLoaded, useRouter } from 'vue-router'\r\nimport { computed, nextTick, unref } from 'vue'\r\n\r\nexport const useTagsView = () => {\r\n  const tagsViewStore = useTagsViewStoreWithOut()\r\n\r\n  const { replace, currentRoute } = useRouter()\r\n\r\n  const selectedTag = computed(() => tagsViewStore.getSelectedTag)\r\n\r\n  const closeAll = (callback?: Fn) => {\r\n    tagsViewStore.delAllViews()\r\n    callback?.()\r\n  }\r\n\r\n  const closeLeft = (callback?: Fn) => {\r\n    tagsViewStore.delLeftViews(unref(selectedTag) as RouteLocationNormalizedLoaded)\r\n    callback?.()\r\n  }\r\n\r\n  const closeRight = (callback?: Fn) => {\r\n    tagsViewStore.delRightViews(unref(selectedTag) as RouteLocationNormalizedLoaded)\r\n    callback?.()\r\n  }\r\n\r\n  const closeOther = (callback?: Fn) => {\r\n    tagsViewStore.delOthersViews(unref(selectedTag) as RouteLocationNormalizedLoaded)\r\n    callback?.()\r\n  }\r\n\r\n  const closeCurrent = (view?: RouteLocationNormalizedLoaded, callback?: Fn) => {\r\n    if (view?.meta?.affix) return\r\n    tagsViewStore.delView(view || unref(currentRoute))\r\n\r\n    callback?.()\r\n  }\r\n\r\n  const refreshPage = async (view?: RouteLocationNormalizedLoaded, callback?: Fn) => {\r\n    tagsViewStore.delCachedView()\r\n    const { path, query } = view || unref(currentRoute)\r\n    await nextTick()\r\n    replace({\r\n      path: '/redirect' + path,\r\n      query: query\r\n    })\r\n    callback?.()\r\n  }\r\n\r\n  const setTitle = (title: string, path?: string) => {\r\n    tagsViewStore.setTitle(title, path)\r\n  }\r\n\r\n  return {\r\n    closeAll,\r\n    closeLeft,\r\n    closeRight,\r\n    closeOther,\r\n    closeCurrent,\r\n    refreshPage,\r\n    setTitle\r\n  }\r\n}\r\n","<script setup lang=\"ts\">\r\nimport { onMounted, watch, computed, unref, ref, nextTick } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport type { RouteLocationNormalizedLoaded, RouterLinkProps } from 'vue-router'\r\nimport { usePermissionStore } from '@/store/modules/permission'\r\nimport { useTagsViewStore } from '@/store/modules/tagsView'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { filterAffixTags } from './helper'\r\nimport { ContextMenu, ContextMenuExpose } from '@/components/ContextMenu'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\nimport { useTemplateRefsList } from '@vueuse/core'\r\nimport { ElScrollbar } from 'element-plus'\r\nimport { useScrollTo } from '@/hooks/event/useScrollTo'\r\nimport { useTagsView } from '@/hooks/web/useTagsView'\r\nimport { cloneDeep } from 'lodash-es'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('tags-view')\r\n\r\nconst { t } = useI18n()\r\n\r\nconst { currentRoute, push } = useRouter()\r\n\r\nconst { closeAll, closeLeft, closeRight, closeOther, closeCurrent, refreshPage } = useTagsView()\r\n\r\nconst permissionStore = usePermissionStore()\r\n\r\nconst routers = computed(() => permissionStore.getRouters)\r\n\r\nconst tagsViewStore = useTagsViewStore()\r\n\r\nconst visitedViews = computed(() => tagsViewStore.getVisitedViews)\r\n\r\nconst affixTagArr = ref<RouteLocationNormalizedLoaded[]>([])\r\n\r\nconst selectedTag = computed(() => tagsViewStore.getSelectedTag)\r\n\r\nconst setSelectTag = tagsViewStore.setSelectedTag\r\n\r\nconst appStore = useAppStore()\r\n\r\nconst tagsViewIcon = computed(() => appStore.getTagsViewIcon)\r\n\r\nconst isDark = computed(() => appStore.getIsDark)\r\n\r\n// 初始化tag\r\nconst initTags = () => {\r\n  affixTagArr.value = filterAffixTags(unref(routers))\r\n  for (const tag of unref(affixTagArr)) {\r\n    // Must have tag name\r\n    if (tag.name) {\r\n      tagsViewStore.addVisitedView(cloneDeep(tag))\r\n    }\r\n  }\r\n}\r\n\r\n// 新增tag\r\nconst addTags = () => {\r\n  const { name } = unref(currentRoute)\r\n  if (name) {\r\n    setSelectTag(unref(currentRoute))\r\n    tagsViewStore.addView(unref(currentRoute))\r\n  }\r\n}\r\n\r\n// 关闭选中的tag\r\nconst closeSelectedTag = (view: RouteLocationNormalizedLoaded) => {\r\n  closeCurrent(view, () => {\r\n    if (isActive(view)) {\r\n      toLastView()\r\n    }\r\n  })\r\n}\r\n\r\n// 去最后一个\r\nconst toLastView = () => {\r\n  const visitedViews = tagsViewStore.getVisitedViews\r\n  const latestView = visitedViews.slice(-1)[0]\r\n  if (latestView) {\r\n    push(latestView)\r\n  } else {\r\n    if (\r\n      unref(currentRoute).path === permissionStore.getAddRouters[0].path ||\r\n      unref(currentRoute).path === permissionStore.getAddRouters[0].redirect\r\n    ) {\r\n      addTags()\r\n      return\r\n    }\r\n    // You can set another route\r\n    push(permissionStore.getAddRouters[0].path)\r\n  }\r\n}\r\n\r\n// 关闭全部\r\nconst closeAllTags = () => {\r\n  closeAll(() => {\r\n    toLastView()\r\n  })\r\n}\r\n\r\n// 关闭其它\r\nconst closeOthersTags = () => {\r\n  closeOther()\r\n}\r\n\r\n// 重新加载\r\nconst refreshSelectedTag = async (view?: RouteLocationNormalizedLoaded) => {\r\n  refreshPage(view)\r\n}\r\n\r\n// 关闭左侧\r\nconst closeLeftTags = () => {\r\n  closeLeft()\r\n}\r\n\r\n// 关闭右侧\r\nconst closeRightTags = () => {\r\n  closeRight()\r\n}\r\n\r\n// 滚动到选中的tag\r\nconst moveToCurrentTag = async () => {\r\n  await nextTick()\r\n  for (const v of unref(visitedViews)) {\r\n    if (v.fullPath === unref(currentRoute).path) {\r\n      moveToTarget(v)\r\n      if (v.fullPath !== unref(currentRoute).fullPath) {\r\n        tagsViewStore.updateVisitedView(unref(currentRoute))\r\n      }\r\n\r\n      break\r\n    }\r\n  }\r\n}\r\n\r\nconst tagLinksRefs = useTemplateRefsList<RouterLinkProps>()\r\n\r\nconst moveToTarget = (currentTag: RouteLocationNormalizedLoaded) => {\r\n  const wrap$ = unref(scrollbarRef)?.wrapRef\r\n  let firstTag: Nullable<RouterLinkProps> = null\r\n  let lastTag: Nullable<RouterLinkProps> = null\r\n\r\n  const tagList = unref(tagLinksRefs)\r\n  // find first tag and last tag\r\n  if (tagList.length > 0) {\r\n    firstTag = tagList[0]\r\n    lastTag = tagList[tagList.length - 1]\r\n  }\r\n  if ((firstTag?.to as RouteLocationNormalizedLoaded).fullPath === currentTag.fullPath) {\r\n    // 直接滚动到0的位置\r\n    const { start } = useScrollTo({\r\n      el: wrap$!,\r\n      position: 'scrollLeft',\r\n      to: 0,\r\n      duration: 500\r\n    })\r\n    start()\r\n  } else if ((lastTag?.to as RouteLocationNormalizedLoaded).fullPath === currentTag.fullPath) {\r\n    // 滚动到最后的位置\r\n    const { start } = useScrollTo({\r\n      el: wrap$!,\r\n      position: 'scrollLeft',\r\n      to: wrap$!.scrollWidth - wrap$!.offsetWidth,\r\n      duration: 500\r\n    })\r\n    start()\r\n  } else {\r\n    // find preTag and nextTag\r\n    const currentIndex: number = tagList.findIndex(\r\n      (item) => (item?.to as RouteLocationNormalizedLoaded).fullPath === currentTag.fullPath\r\n    )\r\n    const tgsRefs = document.getElementsByClassName(`${prefixCls}__item`)\r\n\r\n    const prevTag = tgsRefs[currentIndex - 1] as HTMLElement\r\n    const nextTag = tgsRefs[currentIndex + 1] as HTMLElement\r\n\r\n    // the tag's offsetLeft after of nextTag\r\n    const afterNextTagOffsetLeft = nextTag.offsetLeft + nextTag.offsetWidth + 4\r\n\r\n    // the tag's offsetLeft before of prevTag\r\n    const beforePrevTagOffsetLeft = prevTag.offsetLeft - 4\r\n\r\n    if (afterNextTagOffsetLeft > unref(scrollLeftNumber) + wrap$!.offsetWidth) {\r\n      const { start } = useScrollTo({\r\n        el: wrap$!,\r\n        position: 'scrollLeft',\r\n        to: afterNextTagOffsetLeft - wrap$!.offsetWidth,\r\n        duration: 500\r\n      })\r\n      start()\r\n    } else if (beforePrevTagOffsetLeft < unref(scrollLeftNumber)) {\r\n      const { start } = useScrollTo({\r\n        el: wrap$!,\r\n        position: 'scrollLeft',\r\n        to: beforePrevTagOffsetLeft,\r\n        duration: 500\r\n      })\r\n      start()\r\n    }\r\n  }\r\n}\r\n\r\n// 是否是当前tag\r\nconst isActive = (route: RouteLocationNormalizedLoaded): boolean => {\r\n  return route.path === unref(currentRoute).path\r\n}\r\n\r\n// 所有右键菜单组件的元素\r\nconst itemRefs = useTemplateRefsList<ComponentRef<typeof ContextMenu & ContextMenuExpose>>()\r\n\r\n// 右键菜单状态改变的时候\r\nconst visibleChange = (visible: boolean, tagItem: RouteLocationNormalizedLoaded) => {\r\n  if (visible) {\r\n    for (const v of unref(itemRefs)) {\r\n      const elDropdownMenuRef = v.elDropdownMenuRef\r\n      if (tagItem.fullPath !== v.tagItem.fullPath) {\r\n        elDropdownMenuRef?.handleClose()\r\n        setSelectTag(tagItem)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// elscroll 实例\r\nconst scrollbarRef = ref<ComponentRef<typeof ElScrollbar>>()\r\n\r\n// 保存滚动位置\r\nconst scrollLeftNumber = ref(0)\r\n\r\nconst scroll = ({ scrollLeft }) => {\r\n  scrollLeftNumber.value = scrollLeft as number\r\n}\r\n\r\n// 移动到某个位置\r\nconst move = (to: number) => {\r\n  const wrap$ = unref(scrollbarRef)?.wrapRef\r\n  const { start } = useScrollTo({\r\n    el: wrap$!,\r\n    position: 'scrollLeft',\r\n    to: unref(scrollLeftNumber) + to,\r\n    duration: 500\r\n  })\r\n  start()\r\n}\r\n\r\nonMounted(() => {\r\n  initTags()\r\n  addTags()\r\n})\r\n\r\nwatch(\r\n  () => currentRoute.value,\r\n  () => {\r\n    addTags()\r\n    moveToCurrentTag()\r\n  }\r\n)\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    :id=\"prefixCls\"\r\n    :class=\"prefixCls\"\r\n    class=\"flex w-full relative bg-[#fff] dark:bg-[var(--el-bg-color)]\"\r\n  >\r\n    <span\r\n      :class=\"`${prefixCls}__tool ${prefixCls}__tool--first`\"\r\n      class=\"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer\"\r\n      @click=\"move(-200)\"\r\n    >\r\n      <Icon\r\n        icon=\"ep:d-arrow-left\"\r\n        color=\"var(--el-text-color-placeholder)\"\r\n        :hover-color=\"isDark ? '#fff' : 'var(--el-color-black)'\"\r\n      />\r\n    </span>\r\n    <div class=\"overflow-hidden flex-1\">\r\n      <ElScrollbar ref=\"scrollbarRef\" class=\"h-full\" @scroll=\"scroll\">\r\n        <div class=\"flex h-full\">\r\n          <ContextMenu\r\n            :ref=\"itemRefs.set\"\r\n            :schema=\"[\r\n              {\r\n                icon: 'ant-design:sync-outlined',\r\n                label: t('common.reload'),\r\n                disabled: selectedTag?.fullPath !== item.fullPath,\r\n                command: () => {\r\n                  refreshSelectedTag(item)\r\n                }\r\n              },\r\n              {\r\n                icon: 'ant-design:close-outlined',\r\n                label: t('common.closeTab'),\r\n                disabled: !!visitedViews?.length && selectedTag?.meta.affix,\r\n                command: () => {\r\n                  closeSelectedTag(item)\r\n                }\r\n              },\r\n              {\r\n                divided: true,\r\n                icon: 'ant-design:vertical-right-outlined',\r\n                label: t('common.closeTheLeftTab'),\r\n                disabled:\r\n                  !!visitedViews?.length &&\r\n                  (item.fullPath === visitedViews[0].fullPath ||\r\n                    selectedTag?.fullPath !== item.fullPath),\r\n                command: () => {\r\n                  closeLeftTags()\r\n                }\r\n              },\r\n              {\r\n                icon: 'ant-design:vertical-left-outlined',\r\n                label: t('common.closeTheRightTab'),\r\n                disabled:\r\n                  !!visitedViews?.length &&\r\n                  (item.fullPath === visitedViews[visitedViews.length - 1].fullPath ||\r\n                    selectedTag?.fullPath !== item.fullPath),\r\n                command: () => {\r\n                  closeRightTags()\r\n                }\r\n              },\r\n              {\r\n                divided: true,\r\n                icon: 'ant-design:tag-outlined',\r\n                label: t('common.closeOther'),\r\n                disabled: selectedTag?.fullPath !== item.fullPath,\r\n                command: () => {\r\n                  closeOthersTags()\r\n                }\r\n              },\r\n              {\r\n                icon: 'ant-design:line-outlined',\r\n                label: t('common.closeAll'),\r\n                command: () => {\r\n                  closeAllTags()\r\n                }\r\n              }\r\n            ]\"\r\n            v-for=\"item in visitedViews\"\r\n            :key=\"item.fullPath\"\r\n            :tag-item=\"item\"\r\n            :class=\"[\r\n              `${prefixCls}__item`,\r\n              item?.meta?.affix ? `${prefixCls}__item--affix` : '',\r\n              {\r\n                'is-active': isActive(item)\r\n              }\r\n            ]\"\r\n            @visible-change=\"visibleChange\"\r\n          >\r\n            <div>\r\n              <router-link :ref=\"tagLinksRefs.set\" :to=\"{ ...item }\" custom v-slot=\"{ navigate }\">\r\n                <div\r\n                  @click=\"navigate\"\r\n                  class=\"h-full flex justify-center items-center whitespace-nowrap pl-15px\"\r\n                >\r\n                  <Icon\r\n                    v-if=\"\r\n                      item?.matched &&\r\n                      item?.matched[1] &&\r\n                      item?.matched[1]?.meta?.icon &&\r\n                      tagsViewIcon\r\n                    \"\r\n                    :icon=\"item?.matched[1]?.meta?.icon\"\r\n                    :size=\"12\"\r\n                    class=\"mr-5px\"\r\n                  />\r\n                  {{ t(item?.meta?.title as string) }}\r\n                  <Icon\r\n                    :class=\"`${prefixCls}__item--close`\"\r\n                    color=\"#333\"\r\n                    icon=\"ant-design:close-outlined\"\r\n                    :size=\"12\"\r\n                    @click.prevent.stop=\"closeSelectedTag(item)\"\r\n                  />\r\n                </div>\r\n              </router-link>\r\n            </div>\r\n          </ContextMenu>\r\n        </div>\r\n      </ElScrollbar>\r\n    </div>\r\n    <span\r\n      :class=\"`${prefixCls}__tool`\"\r\n      class=\"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer\"\r\n      @click=\"move(200)\"\r\n    >\r\n      <Icon\r\n        icon=\"ep:d-arrow-right\"\r\n        color=\"var(--el-text-color-placeholder)\"\r\n        :hover-color=\"isDark ? '#fff' : 'var(--el-color-black)'\"\r\n      />\r\n    </span>\r\n    <span\r\n      :class=\"`${prefixCls}__tool`\"\r\n      class=\"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer\"\r\n      @click=\"refreshSelectedTag(selectedTag)\"\r\n    >\r\n      <Icon\r\n        icon=\"ant-design:reload-outlined\"\r\n        color=\"var(--el-text-color-placeholder)\"\r\n        :hover-color=\"isDark ? '#fff' : 'var(--el-color-black)'\"\r\n      />\r\n    </span>\r\n    <ContextMenu\r\n      trigger=\"click\"\r\n      :schema=\"[\r\n        {\r\n          icon: 'ant-design:sync-outlined',\r\n          label: t('common.reload'),\r\n          command: () => {\r\n            refreshSelectedTag(selectedTag)\r\n          }\r\n        },\r\n        {\r\n          icon: 'ant-design:close-outlined',\r\n          label: t('common.closeTab'),\r\n          disabled: !!visitedViews?.length && selectedTag?.meta.affix,\r\n          command: () => {\r\n            closeSelectedTag(selectedTag!)\r\n          }\r\n        },\r\n        {\r\n          divided: true,\r\n          icon: 'ant-design:vertical-right-outlined',\r\n          label: t('common.closeTheLeftTab'),\r\n          disabled: !!visitedViews?.length && selectedTag?.fullPath === visitedViews[0].fullPath,\r\n          command: () => {\r\n            closeLeftTags()\r\n          }\r\n        },\r\n        {\r\n          icon: 'ant-design:vertical-left-outlined',\r\n          label: t('common.closeTheRightTab'),\r\n          disabled:\r\n            !!visitedViews?.length &&\r\n            selectedTag?.fullPath === visitedViews[visitedViews.length - 1].fullPath,\r\n          command: () => {\r\n            closeRightTags()\r\n          }\r\n        },\r\n        {\r\n          divided: true,\r\n          icon: 'ant-design:tag-outlined',\r\n          label: t('common.closeOther'),\r\n          command: () => {\r\n            closeOthersTags()\r\n          }\r\n        },\r\n        {\r\n          icon: 'ant-design:line-outlined',\r\n          label: t('common.closeAll'),\r\n          command: () => {\r\n            closeAllTags()\r\n          }\r\n        }\r\n      ]\"\r\n    >\r\n      <span\r\n        :class=\"`${prefixCls}__tool`\"\r\n        class=\"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer block\"\r\n      >\r\n        <Icon\r\n          icon=\"ant-design:setting-outlined\"\r\n          color=\"var(--el-text-color-placeholder)\"\r\n          :hover-color=\"isDark ? '#fff' : 'var(--el-color-black)'\"\r\n        />\r\n      </span>\r\n    </ContextMenu>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-tags-view';\r\n\r\n.@{prefix-cls} {\r\n  :deep(.@{elNamespace}-scrollbar__view) {\r\n    height: 100%;\r\n  }\r\n\r\n  &__tool {\r\n    position: relative;\r\n\r\n    &::before {\r\n      position: absolute;\r\n      top: 1px;\r\n      left: 0;\r\n      width: 100%;\r\n      height: calc(~'100% - 1px');\r\n      border-left: 1px solid var(--el-border-color);\r\n      content: '';\r\n    }\r\n\r\n    &--first {\r\n      &::before {\r\n        position: absolute;\r\n        top: 1px;\r\n        left: 0;\r\n        width: 100%;\r\n        height: calc(~'100% - 1px');\r\n        border-right: 1px solid var(--el-border-color);\r\n        border-left: none;\r\n        content: '';\r\n      }\r\n    }\r\n  }\r\n\r\n  &__item {\r\n    position: relative;\r\n    top: 2px;\r\n    height: calc(~'100% - 6px');\r\n    padding-right: 25px;\r\n    margin-left: 4px;\r\n    font-size: 12px;\r\n    cursor: pointer;\r\n    border: 1px solid #d9d9d9;\r\n    border-radius: 2px;\r\n\r\n    &--close {\r\n      position: absolute;\r\n      top: 50%;\r\n      right: 5px;\r\n      display: none;\r\n      transform: translate(0, -50%);\r\n    }\r\n    &:not(.@{prefix-cls}__item--affix):hover {\r\n      .@{prefix-cls}__item--close {\r\n        display: block;\r\n      }\r\n    }\r\n  }\r\n\r\n  &__item:not(.is-active) {\r\n    &:hover {\r\n      color: var(--el-color-primary);\r\n    }\r\n  }\r\n\r\n  &__item.is-active {\r\n    color: var(--el-color-white);\r\n    background-color: var(--el-color-primary);\r\n    border: 1px solid var(--el-color-primary);\r\n    .@{prefix-cls}__item--close {\r\n      :deep(svg) {\r\n        color: var(--el-color-white) !important;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.dark {\r\n  .@{prefix-cls} {\r\n    &__tool {\r\n      &--first {\r\n        &::after {\r\n          display: none;\r\n        }\r\n      }\r\n    }\r\n\r\n    &__item {\r\n      border: 1px solid var(--el-border-color);\r\n    }\r\n\r\n    &__item:not(.is-active) {\r\n      &:hover {\r\n        color: var(--el-color-primary);\r\n      }\r\n    }\r\n\r\n    &__item.is-active {\r\n      color: var(--el-color-white);\r\n      background-color: var(--el-color-primary);\r\n      border: 1px solid var(--el-color-primary);\r\n      .@{prefix-cls}__item--close {\r\n        :deep(svg) {\r\n          color: var(--el-color-white) !important;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport { ref, watch, computed, onMounted, unref } from 'vue'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('logo')\r\n\r\nconst appStore = useAppStore()\r\n\r\nconst show = ref(true)\r\n\r\nconst title = computed(() => appStore.getTitle)\r\n\r\nconst layout = computed(() => appStore.getLayout)\r\n\r\nconst collapse = computed(() => appStore.getCollapse)\r\n\r\nonMounted(() => {\r\n  if (unref(collapse)) show.value = false\r\n})\r\n\r\nwatch(\r\n  () => collapse.value,\r\n  (collapse: boolean) => {\r\n    if (unref(layout) === 'topLeft' || unref(layout) === 'cutMenu') {\r\n      show.value = true\r\n      return\r\n    }\r\n    if (!collapse) {\r\n      setTimeout(() => {\r\n        show.value = !collapse\r\n      }, 400)\r\n    } else {\r\n      show.value = !collapse\r\n    }\r\n  }\r\n)\r\n\r\nwatch(\r\n  () => layout.value,\r\n  (layout) => {\r\n    if (layout === 'top' || layout === 'cutMenu') {\r\n      show.value = true\r\n    } else {\r\n      if (unref(collapse)) {\r\n        show.value = false\r\n      } else {\r\n        show.value = true\r\n      }\r\n    }\r\n  }\r\n)\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <router-link\r\n      :class=\"[\r\n        prefixCls,\r\n        layout !== 'classic' ? `${prefixCls}__Top` : '',\r\n        'flex !h-[var(--logo-height)] items-center cursor-pointer pl-8px relative decoration-none overflow-hidden'\r\n      ]\"\r\n      to=\"/\"\r\n    >\r\n      <img\r\n        src=\"@/assets/imgs/logo.png\"\r\n        class=\"w-[calc(var(--logo-height)-10px)] h-[calc(var(--logo-height)-10px)]\"\r\n      />\r\n      <div\r\n        v-if=\"show\"\r\n        :class=\"[\r\n          'ml-10px text-16px font-700',\r\n          {\r\n            'text-[var(--logo-title-text-color)]': layout === 'classic',\r\n            'text-[var(--top-header-text-color)]':\r\n              layout === 'topLeft' || layout === 'top' || layout === 'cutMenu'\r\n          }\r\n        ]\"\r\n      >\r\n        {{ title }}\r\n      </div>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { computed } from 'vue'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('footer')\r\n\r\nconst appStore = useAppStore()\r\n\r\nconst title = computed(() => appStore.getTitle)\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    :class=\"prefixCls\"\r\n    class=\"shrink-0 text-center text-[var(--el-text-color-placeholder)] bg-[var(--app-content-bg-color)] h-[var(--app-footer-height)] leading-[var(--app-footer-height)] dark:bg-[var(--el-bg-color)]\"\r\n  >\r\n    Copyright ©2024-present {{ title }}\r\n  </div>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { useTagsViewStore } from '@/store/modules/tagsView'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { Footer } from '@/components/Footer'\r\nimport { computed } from 'vue'\r\n\r\nconst appStore = useAppStore()\r\n\r\nconst footer = computed(() => appStore.getFooter)\r\n\r\nconst tagsViewStore = useTagsViewStore()\r\n\r\nconst getCaches = computed((): string[] => {\r\n  return tagsViewStore.getCachedViews\r\n})\r\n</script>\r\n\r\n<template>\r\n  <section\r\n    :class=\"[\r\n      'flex-1 p-[var(--app-content-padding)] w-[calc(100%-var(--app-content-padding)-var(--app-content-padding))] bg-[var(--app-content-bg-color)] dark:bg-[var(--el-bg-color)]'\r\n    ]\"\r\n  >\r\n    <router-view>\r\n      <template #default=\"{ Component, route }\">\r\n        <keep-alive :include=\"getCaches\">\r\n          <component :is=\"Component\" :key=\"route.fullPath\" />\r\n        </keep-alive>\r\n      </template>\r\n    </router-view>\r\n  </section>\r\n  <Footer v-if=\"footer\" />\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { computed, unref } from 'vue'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { propTypes } from '@/utils/propTypes'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('collapse')\r\n\r\ndefineProps({\r\n  color: propTypes.string.def('')\r\n})\r\n\r\nconst appStore = useAppStore()\r\n\r\nconst collapse = computed(() => appStore.getCollapse)\r\n\r\nconst toggleCollapse = () => {\r\n  const collapsed = unref(collapse)\r\n  appStore.setCollapse(!collapsed)\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"prefixCls\" @click=\"toggleCollapse\">\r\n    <Icon\r\n      :size=\"18\"\r\n      :icon=\"collapse ? 'ant-design:menu-unfold-outlined' : 'ant-design:menu-fold-outlined'\"\r\n      :color=\"color\"\r\n      class=\"cursor-pointer\"\r\n    />\r\n  </div>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { ElDropdown, ElDropdownMenu, ElDropdownItem, ComponentSize } from 'element-plus'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { propTypes } from '@/utils/propTypes'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('size-dropdown')\r\n\r\ndefineProps({\r\n  color: propTypes.string.def('')\r\n})\r\n\r\nconst { t } = useI18n()\r\n\r\nconst appStore = useAppStore()\r\n\r\nconst sizeMap = computed(() => appStore.sizeMap)\r\n\r\nconst setCurrentSize = (size: ComponentSize) => {\r\n  appStore.setCurrentSize(size)\r\n}\r\n</script>\r\n\r\n<template>\r\n  <ElDropdown :class=\"prefixCls\" trigger=\"click\" @command=\"setCurrentSize\">\r\n    <Icon :size=\"18\" icon=\"mdi:format-size\" :color=\"color\" class=\"cursor-pointer\" />\r\n    <template #dropdown>\r\n      <ElDropdownMenu>\r\n        <ElDropdownItem v-for=\"item in sizeMap\" :key=\"item\" :command=\"item\">\r\n          {{ t(`size.${item}`) }}\r\n        </ElDropdownItem>\r\n      </ElDropdownMenu>\r\n    </template>\r\n  </ElDropdown>\r\n</template>\r\n","export default \"__VITE_ASSET__D2izZNu3__\"","<script setup lang=\"ts\">\r\nimport { ElDialog, ElScrollbar } from 'element-plus'\r\nimport { propTypes } from '@/utils/propTypes'\r\nimport { computed, useAttrs, ref, unref, useSlots, watch, nextTick } from 'vue'\r\nimport { isNumber } from '@/utils/is'\r\n\r\nconst slots = useSlots()\r\n\r\nconst props = defineProps({\r\n  modelValue: propTypes.bool.def(false),\r\n  title: propTypes.string.def('Dialog'),\r\n  fullscreen: propTypes.bool.def(true),\r\n  maxHeight: propTypes.oneOfType([String, Number]).def('400px')\r\n})\r\n\r\nconst getBindValue = computed(() => {\r\n  const delArr: string[] = ['fullscreen', 'title', 'maxHeight']\r\n  const attrs = useAttrs()\r\n  const obj = { ...attrs, ...props }\r\n  for (const key in obj) {\r\n    if (delArr.indexOf(key) !== -1) {\r\n      delete obj[key]\r\n    }\r\n  }\r\n  return obj\r\n})\r\n\r\nconst isFullscreen = ref(false)\r\n\r\nconst toggleFull = () => {\r\n  isFullscreen.value = !unref(isFullscreen)\r\n}\r\n\r\nconst dialogHeight = ref(isNumber(props.maxHeight) ? `${props.maxHeight}px` : props.maxHeight)\r\n\r\nwatch(\r\n  () => isFullscreen.value,\r\n  async (val: boolean) => {\r\n    await nextTick()\r\n    if (val) {\r\n      const windowHeight = document.documentElement.offsetHeight\r\n      dialogHeight.value = `${windowHeight - 55 - 60 - (slots.footer ? 63 : 0)}px`\r\n    } else {\r\n      dialogHeight.value = isNumber(props.maxHeight) ? `${props.maxHeight}px` : props.maxHeight\r\n    }\r\n  },\r\n  {\r\n    immediate: true\r\n  }\r\n)\r\n\r\nconst dialogStyle = computed(() => {\r\n  return {\r\n    height: unref(dialogHeight)\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <ElDialog\r\n    v-bind=\"getBindValue\"\r\n    :fullscreen=\"isFullscreen\"\r\n    destroy-on-close\r\n    lock-scroll\r\n    draggable\r\n    top=\"0\"\r\n    :close-on-click-modal=\"false\"\r\n    :show-close=\"false\"\r\n  >\r\n    <template #header=\"{ close }\">\r\n      <div class=\"flex justify-between items-center h-54px pl-15px pr-15px relative\">\r\n        <slot name=\"title\">\r\n          {{ title }}\r\n        </slot>\r\n        <div\r\n          class=\"h-54px flex justify-between items-center absolute top-[50%] right-15px translate-y-[-50%]\"\r\n        >\r\n          <Icon\r\n            v-if=\"fullscreen\"\r\n            class=\"cursor-pointer is-hover !h-54px mr-10px\"\r\n            :icon=\"isFullscreen ? 'radix-icons:exit-full-screen' : 'radix-icons:enter-full-screen'\"\r\n            color=\"var(--el-color-info)\"\r\n            hover-color=\"var(--el-color-primary)\"\r\n            @click=\"toggleFull\"\r\n          />\r\n          <Icon\r\n            class=\"cursor-pointer is-hover !h-54px\"\r\n            icon=\"ep:close\"\r\n            hover-color=\"var(--el-color-primary)\"\r\n            color=\"var(--el-color-info)\"\r\n            @click=\"close\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <ElScrollbar :style=\"dialogStyle\">\r\n      <slot></slot>\r\n    </ElScrollbar>\r\n\r\n    <template v-if=\"slots.footer\" #footer>\r\n      <slot name=\"footer\"></slot>\r\n    </template>\r\n  </ElDialog>\r\n</template>\r\n\r\n<style lang=\"less\">\r\n.@{elNamespace}-overlay-dialog {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.@{elNamespace}-dialog {\r\n  margin: 0 !important;\r\n  &__header {\r\n    margin-right: 0 !important;\r\n    border-bottom: 1px solid var(--el-border-color);\r\n    padding: 0;\r\n    height: 54px;\r\n  }\r\n  &__body {\r\n    padding: 15px !important;\r\n  }\r\n  &__footer {\r\n    border-top: 1px solid var(--el-border-color);\r\n  }\r\n  &__headerbtn {\r\n    top: 0;\r\n  }\r\n}\r\n</style>\r\n","import { defineStore } from 'pinia'\r\nimport { store } from '../index'\r\n\r\ninterface lockInfo {\r\n  isLock?: boolean\r\n  password?: string\r\n}\r\n\r\ninterface LockState {\r\n  lockInfo: lockInfo\r\n}\r\n\r\nexport const useLockStore = defineStore('lock', {\r\n  state: (): LockState => {\r\n    return {\r\n      lockInfo: {\r\n        // isLock: false, // 是否锁定屏幕\r\n        // password: '' // 锁屏密码\r\n      }\r\n    }\r\n  },\r\n  getters: {\r\n    getLockInfo(): lockInfo {\r\n      return this.lockInfo\r\n    }\r\n  },\r\n  actions: {\r\n    setLockInfo(lockInfo: lockInfo) {\r\n      this.lockInfo = lockInfo\r\n    },\r\n    resetLockInfo() {\r\n      this.lockInfo = {}\r\n    },\r\n    unLock(password: string) {\r\n      if (this.lockInfo?.password === password) {\r\n        this.resetLockInfo()\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n  },\r\n  persist: true\r\n})\r\n\r\nexport const useLockStoreWithOut = () => {\r\n  return useLockStore(store)\r\n}\r\n","<script setup lang=\"ts\">\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { ref } from 'vue'\r\nimport { Dialog } from '@/components/Dialog'\r\nimport { Form } from '@/components/Form'\r\nimport { useForm } from '@/hooks/web/useForm'\r\nimport { reactive, computed } from 'vue'\r\nimport { useValidator } from '@/hooks/web/useValidator'\r\nimport { FormSchema } from '@/components/Form'\r\nimport { ElButton } from 'element-plus'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\nimport { useLockStore } from '@/store/modules/lock'\r\nimport { useUserStore } from '@/store/modules/user'\r\n\r\nconst useUser = useUserStore()\r\n\r\nconst { getPrefixCls } = useDesign()\r\nconst prefixCls = getPrefixCls('lock-dialog')\r\n\r\nconst { required } = useValidator()\r\n\r\nconst { t } = useI18n()\r\n\r\nconst lockStore = useLockStore()\r\n\r\nconst props = defineProps({\r\n  modelValue: {\r\n    type: Boolean\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:modelValue'])\r\n\r\nconst dialogVisible = computed({\r\n  get: () => props.modelValue,\r\n  set: (val) => {\r\n    console.log('set: ', val)\r\n    emit('update:modelValue', val)\r\n  }\r\n})\r\n\r\nconst dialogTitle = ref(t('lock.lockScreen'))\r\n\r\nconst rules = reactive({\r\n  password: [required()]\r\n})\r\n\r\nconst schema: FormSchema[] = reactive([\r\n  {\r\n    label: t('lock.lockPassword'),\r\n    field: 'password',\r\n    component: 'Input',\r\n    componentProps: {\r\n      type: 'password',\r\n      showPassword: true\r\n    }\r\n  }\r\n])\r\n\r\nconst { formRegister, formMethods } = useForm()\r\n\r\nconst { getFormData, getElFormExpose } = formMethods\r\n\r\nconst handleLock = async () => {\r\n  const formExpose = await getElFormExpose()\r\n  formExpose?.validate(async (valid) => {\r\n    if (valid) {\r\n      dialogVisible.value = false\r\n      const formData = await getFormData()\r\n      lockStore.setLockInfo({\r\n        isLock: true,\r\n        ...formData\r\n      })\r\n    }\r\n  })\r\n}\r\n</script>\r\n\r\n<template>\r\n  <Dialog\r\n    v-model=\"dialogVisible\"\r\n    width=\"500px\"\r\n    max-height=\"170px\"\r\n    :class=\"prefixCls\"\r\n    :title=\"dialogTitle\"\r\n  >\r\n    <div class=\"flex flex-col items-center\">\r\n      <img src=\"@/assets/imgs/avatar.jpg\" alt=\"\" class=\"w-70px h-70px rounded-[50%]\" />\r\n      <span class=\"text-14px my-10px text-[var(--top-header-text-color)]\">{{ useUser?.getLoginInfo?.username }}</span>\r\n    </div>\r\n    <Form :is-col=\"false\" :schema=\"schema\" :rules=\"rules\" @register=\"formRegister\" />\r\n    <template #footer>\r\n      <ElButton type=\"primary\" @click=\"handleLock\">{{ t('lock.lock') }}</ElButton>\r\n    </template>\r\n  </Dialog>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n:global(.v-lock-dialog) {\r\n  @media (max-width: 767px) {\r\n    max-width: calc(100vw - 16px);\r\n  }\r\n}\r\n</style>\r\n","/**\r\n * Independent time operation tool to facilitate subsequent switch to dayjs\r\n */\r\nimport dayjs from 'dayjs'\r\n\r\nconst DATE_TIME_FORMAT = 'YYYY-MM-DD HH:mm:ss'\r\nconst DATE_FORMAT = 'YYYY-MM-DD'\r\n\r\nexport function formatToDateTime(date?: dayjs.ConfigType, format = DATE_TIME_FORMAT): string {\r\n  return dayjs(date).format(format)\r\n}\r\n\r\nexport function formatToDate(date?: dayjs.ConfigType, format = DATE_FORMAT): string {\r\n  return dayjs(date).format(format)\r\n}\r\n\r\nexport const dateUtil = dayjs\r\n","import { dateUtil } from '@/utils/dateUtil'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { tryOnMounted, tryOnUnmounted } from '@vueuse/core'\r\n\r\nexport const useNow = (immediate = true) => {\r\n  let timer: IntervalHandle\r\n\r\n  const state = reactive({\r\n    year: 0,\r\n    month: 0,\r\n    week: '',\r\n    day: 0,\r\n    hour: '',\r\n    minute: '',\r\n    second: 0,\r\n    meridiem: ''\r\n  })\r\n\r\n  const update = () => {\r\n    const now = dateUtil()\r\n\r\n    const h = now.format('HH')\r\n    const m = now.format('mm')\r\n    const s = now.get('s')\r\n\r\n    state.year = now.get('y')\r\n    state.month = now.get('M') + 1\r\n    state.week = '星期' + ['日', '一', '二', '三', '四', '五', '六'][now.day()]\r\n    state.day = now.get('date')\r\n    state.hour = h\r\n    state.minute = m\r\n    state.second = s\r\n\r\n    state.meridiem = now.format('A')\r\n  }\r\n\r\n  function start() {\r\n    update()\r\n    clearInterval(timer)\r\n    timer = setInterval(() => update(), 1000)\r\n  }\r\n\r\n  function stop() {\r\n    clearInterval(timer)\r\n  }\r\n\r\n  tryOnMounted(() => {\r\n    immediate && start()\r\n  })\r\n\r\n  tryOnUnmounted(() => {\r\n    stop()\r\n  })\r\n\r\n  return {\r\n    ...toRefs(state),\r\n    start,\r\n    stop\r\n  }\r\n}\r\n","<script lang=\"ts\" setup>\r\nimport { ref } from 'vue'\r\nimport { ElInput, ElButton } from 'element-plus'\r\nimport { resetRouter } from '@/router'\r\nimport { useRouter } from 'vue-router'\r\nimport { useStorage } from '@/hooks/web/useStorage'\r\nimport { useLockStore } from '@/store/modules/lock'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { useNow } from '@/hooks/web/useNow'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\nimport { Icon } from '@/components/Icon'\r\nimport { loginOutApi } from '@/api/login'\r\nimport { useTagsViewStore } from '@/store/modules/tagsView'\r\nimport { useUserStore } from '@/store/modules/user'\r\n\r\nconst useUser = useUserStore()\r\nconst tagsViewStore = useTagsViewStore()\r\n\r\nconst { clear } = useStorage()\r\n\r\nconst { replace } = useRouter()\r\n\r\nconst password = ref('')\r\nconst loading = ref(false)\r\nconst errMsg = ref(false)\r\nconst showDate = ref(true)\r\n\r\nconst { getPrefixCls } = useDesign()\r\nconst prefixCls = getPrefixCls('lock-page')\r\n\r\nconst lockStore = useLockStore()\r\n\r\nconst { hour, month, minute, meridiem, year, day, week } = useNow(true)\r\n\r\nconst { t } = useI18n()\r\n\r\n// 解锁\r\nasync function unLock() {\r\n  if (!password.value) {\r\n    return\r\n  }\r\n  let pwd = password.value\r\n  try {\r\n    loading.value = true\r\n    const res = await lockStore.unLock(pwd)\r\n    errMsg.value = !res\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 返回登录\r\nasync function goLogin() {\r\n  const res = await loginOutApi().catch(() => {})\r\n  if (res) {\r\n    clear()\r\n    tagsViewStore.delAllViews()\r\n    resetRouter() // 重置静态路由表\r\n    lockStore.resetLockInfo()\r\n    replace('/login')\r\n  }\r\n}\r\n\r\nfunction handleShowForm(show = false) {\r\n  showDate.value = show\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    :class=\"prefixCls\"\r\n    class=\"fixed inset-0 flex h-screen w-screen bg-black items-center justify-center\"\r\n  >\r\n    <div\r\n      :class=\"`${prefixCls}__unlock`\"\r\n      class=\"absolute top-0 left-1/2 flex pt-5 h-16 items-center justify-center sm:text-md xl:text-xl text-white flex-col cursor-pointer transform translate-x-1/2\"\r\n      @click=\"handleShowForm(false)\"\r\n      v-show=\"showDate\"\r\n    >\r\n      <Icon icon=\"ep:lock\" />\r\n      <span>{{ t('lock.unlock') }}</span>\r\n    </div>\r\n\r\n    <div class=\"flex w-screen h-screen justify-center items-center\">\r\n      <div :class=\"`${prefixCls}__hour`\" class=\"relative mr-5 md:mr-20 w-2/5 h-2/5 md:h-4/5\">\r\n        <span>{{ hour }}</span>\r\n        <span class=\"meridiem absolute left-5 top-5 text-md xl:text-xl\" v-show=\"showDate\">\r\n          {{ meridiem }}\r\n        </span>\r\n      </div>\r\n      <div :class=\"`${prefixCls}__minute w-2/5 h-2/5 md:h-4/5 `\">\r\n        <span> {{ minute }}</span>\r\n      </div>\r\n    </div>\r\n    <transition name=\"fade-slide\">\r\n      <div :class=\"`${prefixCls}-entry`\" v-show=\"!showDate\">\r\n        <div :class=\"`${prefixCls}-entry-content`\">\r\n          <div class=\"flex flex-col items-center\">\r\n            <img src=\"@/assets/imgs/avatar.jpg\" alt=\"\" class=\"w-70px h-70px rounded-[50%]\" />\r\n            <span class=\"text-14px my-10px text-[var(--logo-title-text-color)]\">{{ useUser.getLoginInfo?.username }}</span>\r\n          </div>\r\n          <ElInput\r\n            type=\"password\"\r\n            :placeholder=\"t('lock.placeholder')\"\r\n            class=\"enter-x\"\r\n            v-model=\"password\"\r\n          />\r\n          <span :class=\"`text-14px ${prefixCls}-entry__err-msg enter-x`\" v-if=\"errMsg\">\r\n            {{ t('lock.message') }}\r\n          </span>\r\n          <div :class=\"`${prefixCls}-entry__footer enter-x`\">\r\n            <ElButton\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              class=\"mt-2 mr-2 enter-x\"\r\n              link\r\n              :disabled=\"loading\"\r\n              @click=\"handleShowForm(true)\"\r\n            >\r\n              {{ t('common.back') }}\r\n            </ElButton>\r\n            <ElButton\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              class=\"mt-2 mr-2 enter-x\"\r\n              link\r\n              :disabled=\"loading\"\r\n              @click=\"goLogin\"\r\n            >\r\n              {{ t('lock.backToLogin') }}\r\n            </ElButton>\r\n            <ElButton\r\n              type=\"primary\"\r\n              class=\"mt-2\"\r\n              size=\"small\"\r\n              link\r\n              @click=\"unLock()\"\r\n              :disabled=\"loading\"\r\n            >\r\n              {{ t('lock.entrySystem') }}\r\n            </ElButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <div class=\"absolute bottom-5 w-full text-gray-300 xl:text-xl 2xl:text-3xl text-center enter-y\">\r\n      <div class=\"text-5xl mb-4 enter-x\" v-show=\"!showDate\">\r\n        {{ hour }}:{{ minute }} <span class=\"text-3xl\">{{ meridiem }}</span>\r\n      </div>\r\n      <div class=\"text-2xl\">{{ year }}/{{ month }}/{{ day }} {{ week }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-lock-page';\r\n\r\n// Small screen / tablet\r\n@screen-sm: 576px;\r\n\r\n// Medium screen / desktop\r\n@screen-md: 768px;\r\n\r\n// Large screen / wide desktop\r\n@screen-lg: 992px;\r\n\r\n// Extra large screen / full hd\r\n@screen-xl: 1200px;\r\n\r\n// Extra extra large screen / large desktop\r\n@screen-2xl: 1600px;\r\n\r\n@error-color: #ed6f6f;\r\n\r\n.@{prefix-cls} {\r\n  z-index: 3000;\r\n\r\n  &__unlock {\r\n    transform: translate(-50%, 0);\r\n  }\r\n\r\n  &__hour,\r\n  &__minute {\r\n    display: flex;\r\n    font-weight: 700;\r\n    color: #bababa;\r\n    background-color: #141313;\r\n    border-radius: 30px;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    @media screen and (max-width: @screen-md) {\r\n      span:not(.meridiem) {\r\n        font-size: 160px;\r\n      }\r\n    }\r\n\r\n    @media screen and (min-width: @screen-md) {\r\n      span:not(.meridiem) {\r\n        font-size: 160px;\r\n      }\r\n    }\r\n\r\n    @media screen and (max-width: @screen-sm) {\r\n      span:not(.meridiem) {\r\n        font-size: 90px;\r\n      }\r\n    }\r\n    @media screen and (min-width: @screen-lg) {\r\n      span:not(.meridiem) {\r\n        font-size: 220px;\r\n      }\r\n    }\r\n\r\n    @media screen and (min-width: @screen-xl) {\r\n      span:not(.meridiem) {\r\n        font-size: 260px;\r\n      }\r\n    }\r\n    @media screen and (min-width: @screen-2xl) {\r\n      span:not(.meridiem) {\r\n        font-size: 320px;\r\n      }\r\n    }\r\n  }\r\n\r\n  &-entry {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgb(0 0 0 / 50%);\r\n    backdrop-filter: blur(8px);\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    &-content {\r\n      width: 260px;\r\n    }\r\n\r\n    &__header {\r\n      text-align: center;\r\n\r\n      &-img {\r\n        width: 70px;\r\n        margin: 0 auto;\r\n        border-radius: 50%;\r\n      }\r\n\r\n      &-name {\r\n        margin-top: 5px;\r\n        font-weight: 500;\r\n        color: #bababa;\r\n      }\r\n    }\r\n\r\n    &__err-msg {\r\n      display: inline-block;\r\n      margin-top: 10px;\r\n      color: @error-color;\r\n    }\r\n\r\n    &__footer {\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport { ElDropdown, ElDropdownMenu, ElDropdownItem } from 'element-plus'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\nimport LockDialog from './components/LockDialog.vue'\r\nimport { ref, computed } from 'vue'\r\nimport LockPage from './components/LockPage.vue'\r\nimport { useLockStore } from '@/store/modules/lock'\r\nimport { useUserStore } from '@/store/modules/user'\r\n\r\nconst userStore = useUserStore()\r\n\r\nconst lockStore = useLockStore()\r\n\r\nconst getIsLock = computed(() => lockStore.getLockInfo?.isLock ?? false)\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('user-info')\r\n\r\nconst { t } = useI18n()\r\n\r\nconst loginOut = () => {\r\n  userStore.logoutConfirm()\r\n}\r\n\r\nconst dialogVisible = ref<boolean>(false)\r\n\r\n// 锁定屏幕\r\nconst lockScreen = () => {\r\n  dialogVisible.value = true\r\n}\r\n\r\nconst toDocument = () => {\r\n  window.open('https://element-plus-admin-doc.cn/')\r\n}\r\n</script>\r\n\r\n<template>\r\n  <ElDropdown class=\"custom-hover\" :class=\"prefixCls\" trigger=\"click\">\r\n    <div class=\"flex items-center\">\r\n      <img\r\n        src=\"@/assets/imgs/avatar.jpg\"\r\n        alt=\"\"\r\n        class=\"w-[calc(var(--logo-height)-25px)] rounded-[50%]\"\r\n      />\r\n      <span class=\"<lg:hidden text-14px pl-[5px] text-[var(--top-header-text-color)]\">{{\r\n        userStore.getUserInfo?.username\r\n      }}</span>\r\n    </div>\r\n    <template #dropdown>\r\n      <ElDropdownMenu>\r\n        <!-- <ElDropdownItem>\r\n          <div @click=\"toDocument\">{{ t('common.document') }}</div>\r\n        </ElDropdownItem> -->\r\n        <ElDropdownItem>\r\n          <div @click=\"lockScreen\">{{ t('lock.lockScreen') }}</div>\r\n        </ElDropdownItem>\r\n        <ElDropdownItem divided>\r\n          <div @click=\"loginOut\">{{ t('common.loginOut') }}</div>\r\n        </ElDropdownItem>\r\n      </ElDropdownMenu>\r\n    </template>\r\n  </ElDropdown>\r\n\r\n  <LockDialog v-if=\"dialogVisible\" v-model=\"dialogVisible\" />\r\n  <teleport to=\"body\">\r\n    <transition name=\"fade-bottom\" mode=\"out-in\">\r\n      <LockPage v-if=\"getIsLock\" />\r\n    </transition>\r\n  </teleport>\r\n</template>\r\n\r\n<style scoped lang=\"less\">\r\n.fade-bottom-enter-active,\r\n.fade-bottom-leave-active {\r\n  transition:\r\n    opacity 0.25s,\r\n    transform 0.3s;\r\n}\r\n\r\n.fade-bottom-enter-from {\r\n  opacity: 0;\r\n  transform: translateY(-10%);\r\n}\r\n\r\n.fade-bottom-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(10%);\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport { Icon } from '@/components/Icon'\r\nimport { useFullscreen } from '@vueuse/core'\r\nimport { propTypes } from '@/utils/propTypes'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('screenfull')\r\n\r\ndefineProps({\r\n  color: propTypes.string.def('')\r\n})\r\n\r\nconst { toggle, isFullscreen } = useFullscreen()\r\n\r\nconst toggleFullscreen = () => {\r\n  toggle()\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"prefixCls\" @click=\"toggleFullscreen\">\r\n    <Icon\r\n      :size=\"18\"\r\n      :icon=\"isFullscreen ? 'zmdi:fullscreen-exit' : 'zmdi:fullscreen'\"\r\n      :color=\"color\"\r\n    />\r\n  </div>\r\n</template>\r\n","import { pathResolve } from '@/utils/routerHelper'\r\nimport type { RouteMeta } from 'vue-router'\r\n\r\nexport const filterBreadcrumb = (\r\n  routes: AppRouteRecordRaw[],\r\n  parentPath = ''\r\n): AppRouteRecordRaw[] => {\r\n  const res: AppRouteRecordRaw[] = []\r\n\r\n  for (const route of routes) {\r\n    const meta = route?.meta as RouteMeta\r\n    if (meta.hidden && !meta.canTo) {\r\n      continue\r\n    }\r\n\r\n    const data: AppRouteRecordRaw =\r\n      !meta.alwaysShow && route.children?.length === 1\r\n        ? { ...route.children[0], path: pathResolve(route.path, route.children[0].path) }\r\n        : { ...route }\r\n\r\n    data.path = pathResolve(parentPath, data.path)\r\n\r\n    if (data.children) {\r\n      data.children = filterBreadcrumb(data.children, data.path)\r\n    }\r\n    if (data) {\r\n      res.push(data)\r\n    }\r\n  }\r\n  return res\r\n}\r\n","<script lang=\"tsx\">\r\nimport { ElBreadcrumb, ElBreadcrumbItem } from 'element-plus'\r\nimport { ref, watch, computed, unref, defineComponent, TransitionGroup } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { usePermissionStore } from '@/store/modules/permission'\r\nimport { filterBreadcrumb } from './helper'\r\nimport { filter, treeToList } from '@/utils/tree'\r\nimport type { RouteLocationNormalizedLoaded, RouteMeta } from 'vue-router'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { Icon } from '@/components/Icon'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('breadcrumb')\r\n\r\nconst appStore = useAppStore()\r\n\r\n// 面包屑图标\r\nconst breadcrumbIcon = computed(() => appStore.getBreadcrumbIcon)\r\n\r\nexport default defineComponent({\r\n  name: 'Breadcrumb',\r\n  setup() {\r\n    const { currentRoute } = useRouter()\r\n\r\n    const { t } = useI18n()\r\n\r\n    const levelList = ref<AppRouteRecordRaw[]>([])\r\n\r\n    const permissionStore = usePermissionStore()\r\n\r\n    const menuRouters = computed(() => {\r\n      const routers = permissionStore.getRouters\r\n      return filterBreadcrumb(routers)\r\n    })\r\n\r\n    const getBreadcrumb = () => {\r\n      const currentPath = currentRoute.value.matched.slice(-1)[0].path\r\n      levelList.value = filter<AppRouteRecordRaw>(unref(menuRouters), (node: AppRouteRecordRaw) => {\r\n        return node.path === currentPath\r\n      })\r\n    }\r\n\r\n    const renderBreadcrumb = () => {\r\n      const breadcrumbList = treeToList<AppRouteRecordRaw[]>(unref(levelList))\r\n      return breadcrumbList.map((v) => {\r\n        const disabled = !v.redirect || v.redirect === 'noredirect'\r\n        const meta = v.meta as RouteMeta\r\n        return (\r\n          <ElBreadcrumbItem to={{ path: disabled ? '' : v.path }} key={v.name}>\r\n            {meta?.icon && breadcrumbIcon.value ? (\r\n              <>\r\n                <Icon icon={meta.icon} class=\"mr-[5px]\"></Icon> {t(v?.meta?.title)}\r\n              </>\r\n            ) : (\r\n              t(v?.meta?.title)\r\n            )}\r\n          </ElBreadcrumbItem>\r\n        )\r\n      })\r\n    }\r\n\r\n    watch(\r\n      () => currentRoute.value,\r\n      (route: RouteLocationNormalizedLoaded) => {\r\n        if (route.path.startsWith('/redirect/')) {\r\n          return\r\n        }\r\n        getBreadcrumb()\r\n      },\r\n      {\r\n        immediate: true\r\n      }\r\n    )\r\n\r\n    return () => (\r\n      <ElBreadcrumb separator=\"/\" class={`${prefixCls} flex items-center h-full ml-[10px]`}>\r\n        <TransitionGroup appear enter-active-class=\"animate__animated animate__fadeInRight\">\r\n          {renderBreadcrumb()}\r\n        </TransitionGroup>\r\n      </ElBreadcrumb>\r\n    )\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{elNamespace}-breadcrumb';\r\n\r\n.@{prefix-cls} {\r\n  :deep(&__item) {\r\n    display: flex;\r\n    .@{prefix-cls}__inner {\r\n      display: flex;\r\n      align-items: center;\r\n      color: var(--top-header-text-color);\r\n\r\n      &:hover {\r\n        color: var(--el-color-primary);\r\n      }\r\n    }\r\n  }\r\n\r\n  :deep(&__item):not(:last-child) {\r\n    .@{prefix-cls}__inner {\r\n      color: var(--top-header-text-color);\r\n\r\n      &:hover {\r\n        color: var(--el-color-primary);\r\n      }\r\n    }\r\n  }\r\n\r\n  :deep(&__item):last-child {\r\n    .@{prefix-cls}__inner {\r\n      color: var(--el-text-color-placeholder);\r\n\r\n      &:hover {\r\n        color: var(--el-text-color-placeholder);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script lang=\"tsx\">\r\nimport { defineComponent, computed } from 'vue'\r\nimport { Collapse } from '@/components/Collapse'\r\nimport { LocaleDropdown } from '@/components/LocaleDropdown'\r\nimport { SizeDropdown } from '@/components/SizeDropdown'\r\nimport { UserInfo } from '@/components/UserInfo'\r\nimport { Screenfull } from '@/components/Screenfull'\r\nimport { Breadcrumb } from '@/components/Breadcrumb'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls, variables } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('tool-header')\r\n\r\nconst appStore = useAppStore()\r\n\r\n// 面包屑\r\nconst breadcrumb = computed(() => appStore.getBreadcrumb)\r\n\r\n// 折叠图标\r\nconst hamburger = computed(() => appStore.getHamburger)\r\n\r\n// 全屏图标\r\nconst screenfull = computed(() => appStore.getScreenfull)\r\n\r\n// 尺寸图标\r\nconst size = computed(() => appStore.getSize)\r\n\r\n// 布局\r\nconst layout = computed(() => appStore.getLayout)\r\n\r\n// 多语言图标\r\nconst locale = computed(() => appStore.getLocale)\r\n\r\nexport default defineComponent({\r\n  name: 'ToolHeader',\r\n  setup() {\r\n    return () => (\r\n      <div\r\n        id={`${variables.namespace}-tool-header`}\r\n        class={[\r\n          prefixCls,\r\n          'h-[var(--top-tool-height)] relative px-[var(--top-tool-p-x)] flex items-center justify-between'\r\n        ]}\r\n      >\r\n        {layout.value !== 'top' ? (\r\n          <div class=\"h-full flex items-center\">\r\n            {hamburger.value && layout.value !== 'cutMenu' ? (\r\n              <Collapse class=\"custom-hover\" color=\"var(--top-header-text-color)\"></Collapse>\r\n            ) : undefined}\r\n            {breadcrumb.value ? <Breadcrumb class=\"<md:hidden\"></Breadcrumb> : undefined}\r\n          </div>\r\n        ) : undefined}\r\n        <div class=\"h-full flex items-center\">\r\n          {screenfull.value ? (\r\n            <Screenfull class=\"custom-hover\" color=\"var(--top-header-text-color)\"></Screenfull>\r\n          ) : undefined}\r\n          {size.value ? (\r\n            <SizeDropdown class=\"custom-hover\" color=\"var(--top-header-text-color)\"></SizeDropdown>\r\n          ) : undefined}\r\n          {locale.value ? (\r\n            <LocaleDropdown\r\n              class=\"custom-hover\"\r\n              color=\"var(--top-header-text-color)\"\r\n            ></LocaleDropdown>\r\n          ) : undefined}\r\n          <UserInfo></UserInfo>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-tool-header';\r\n\r\n.@{prefix-cls} {\r\n  transition: left var(--transition-time-02);\r\n}\r\n</style>\r\n","import { computed } from 'vue'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { Menu } from '@/components/Menu'\r\nimport { TabMenu } from '@/components/TabMenu'\r\nimport { TagsView } from '@/components/TagsView'\r\nimport { Logo } from '@/components/Logo'\r\nimport AppView from './AppView.vue'\r\nimport ToolHeader from './ToolHeader.vue'\r\nimport { ElScrollbar } from 'element-plus'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('layout')\r\n\r\nconst appStore = useAppStore()\r\n\r\nconst pageLoading = computed(() => appStore.getPageLoading)\r\n\r\n// 标签页\r\nconst tagsView = computed(() => appStore.getTagsView)\r\n\r\n// 菜单折叠\r\nconst collapse = computed(() => appStore.getCollapse)\r\n\r\n// logo\r\nconst logo = computed(() => appStore.logo)\r\n\r\n// 固定头部\r\nconst fixedHeader = computed(() => appStore.getFixedHeader)\r\n\r\n// 是否是移动端\r\nconst mobile = computed(() => appStore.getMobile)\r\n\r\n// 固定菜单\r\nconst fixedMenu = computed(() => appStore.getFixedMenu)\r\n\r\nexport const useRenderLayout = () => {\r\n  const renderClassic = () => {\r\n    return (\r\n      <>\r\n        <div\r\n          class={[\r\n            'absolute top-0 left-0 h-full layout-border__right',\r\n            { '!fixed z-3000': mobile.value }\r\n          ]}\r\n        >\r\n          {logo.value ? (\r\n            <Logo\r\n              class={[\r\n                'bg-[var(--left-menu-bg-color)] relative',\r\n                {\r\n                  '!pl-0': mobile.value && collapse.value,\r\n                  'w-[var(--left-menu-min-width)]': appStore.getCollapse,\r\n                  'w-[var(--left-menu-max-width)]': !appStore.getCollapse\r\n                }\r\n              ]}\r\n              style=\"transition: all var(--transition-time-02);\"\r\n            ></Logo>\r\n          ) : undefined}\r\n          <Menu class={[{ '!h-[calc(100%-var(--logo-height))]': logo.value }]}></Menu>\r\n        </div>\r\n        <div\r\n          class={[\r\n            `${prefixCls}-content`,\r\n            'absolute top-0 h-[100%]',\r\n            {\r\n              'w-[calc(100%-var(--left-menu-min-width))] left-[var(--left-menu-min-width)]':\r\n                collapse.value && !mobile.value && !mobile.value,\r\n              'w-[calc(100%-var(--left-menu-max-width))] left-[var(--left-menu-max-width)]':\r\n                !collapse.value && !mobile.value && !mobile.value,\r\n              'fixed !w-full !left-0': mobile.value\r\n            }\r\n          ]}\r\n          style=\"transition: all var(--transition-time-02);\"\r\n        >\r\n          <ElScrollbar\r\n            v-loading={pageLoading.value}\r\n            class={[\r\n              `${prefixCls}-content-scrollbar`,\r\n              {\r\n                '!h-[calc(100%-var(--top-tool-height)-var(--tags-view-height))] mt-[calc(var(--top-tool-height)+var(--tags-view-height))]':\r\n                  fixedHeader.value\r\n              }\r\n            ]}\r\n          >\r\n            <div\r\n              class={[\r\n                {\r\n                  'fixed top-0 left-0 z-10': fixedHeader.value,\r\n                  'w-[calc(100%-var(--left-menu-min-width))] !left-[var(--left-menu-min-width)]':\r\n                    collapse.value && fixedHeader.value && !mobile.value,\r\n                  'w-[calc(100%-var(--left-menu-max-width))] !left-[var(--left-menu-max-width)]':\r\n                    !collapse.value && fixedHeader.value && !mobile.value,\r\n                  '!w-full !left-0': mobile.value\r\n                }\r\n              ]}\r\n              style=\"transition: all var(--transition-time-02);\"\r\n            >\r\n              <ToolHeader\r\n                class={[\r\n                  'bg-[var(--top-header-bg-color)]',\r\n                  {\r\n                    'layout-border__bottom': !tagsView.value\r\n                  }\r\n                ]}\r\n              ></ToolHeader>\r\n\r\n              {tagsView.value ? (\r\n                <TagsView class=\"layout-border__bottom layout-border__top\"></TagsView>\r\n              ) : undefined}\r\n            </div>\r\n\r\n            <AppView></AppView>\r\n          </ElScrollbar>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const renderTopLeft = () => {\r\n    return (\r\n      <>\r\n        <div class=\"flex items-center bg-[var(--top-header-bg-color)] relative layout-border__bottom dark:bg-[var(--el-bg-color)]\">\r\n          {logo.value ? <Logo class=\"custom-hover\"></Logo> : undefined}\r\n\r\n          <ToolHeader class=\"flex-1\"></ToolHeader>\r\n        </div>\r\n        <div class=\"absolute top-[var(--logo-height)+1px] left-0 w-full h-[calc(100%-1px-var(--logo-height))] flex\">\r\n          <Menu class=\"!h-full relative layout-border__right\"></Menu>\r\n          <div\r\n            class={[\r\n              `${prefixCls}-content`,\r\n              'h-[100%]',\r\n              {\r\n                'w-[calc(100%-var(--left-menu-min-width))] left-[var(--left-menu-min-width)]':\r\n                  collapse.value,\r\n                'w-[calc(100%-var(--left-menu-max-width))] left-[var(--left-menu-max-width)]':\r\n                  !collapse.value\r\n              }\r\n            ]}\r\n            style=\"transition: all var(--transition-time-02);\"\r\n          >\r\n            <ElScrollbar\r\n              v-loading={pageLoading.value}\r\n              class={[\r\n                `${prefixCls}-content-scrollbar`,\r\n                {\r\n                  '!h-[calc(100%-var(--tags-view-height))] mt-[calc(var(--tags-view-height))]':\r\n                    fixedHeader.value && tagsView.value\r\n                }\r\n              ]}\r\n            >\r\n              {tagsView.value ? (\r\n                <TagsView\r\n                  class={[\r\n                    'layout-border__bottom absolute',\r\n                    {\r\n                      '!fixed top-0 left-0 z-10': fixedHeader.value,\r\n                      'w-[calc(100%-var(--left-menu-min-width))] !left-[var(--left-menu-min-width)] mt-[calc(var(--logo-height)+1px)]':\r\n                        collapse.value && fixedHeader.value,\r\n                      'w-[calc(100%-var(--left-menu-max-width))] !left-[var(--left-menu-max-width)] mt-[calc(var(--logo-height)+1px)]':\r\n                        !collapse.value && fixedHeader.value\r\n                    }\r\n                  ]}\r\n                  style=\"transition: width var(--transition-time-02), left var(--transition-time-02);\"\r\n                ></TagsView>\r\n              ) : undefined}\r\n\r\n              <AppView></AppView>\r\n            </ElScrollbar>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const renderTop = () => {\r\n    return (\r\n      <>\r\n        <div\r\n          class={[\r\n            'flex items-center justify-between bg-[var(--top-header-bg-color)] relative',\r\n            {\r\n              'layout-border__bottom': !tagsView.value\r\n            }\r\n          ]}\r\n        >\r\n          {logo.value ? <Logo class=\"custom-hover\"></Logo> : undefined}\r\n          <Menu class=\"flex-1 px-10px h-[var(--top-tool-height)]\"></Menu>\r\n          <ToolHeader></ToolHeader>\r\n        </div>\r\n        <div\r\n          class={[\r\n            `${prefixCls}-content`,\r\n            'w-full',\r\n            {\r\n              'h-[calc(100%-var(--app-footer-height))]': !fixedHeader.value,\r\n              'h-[calc(100%-var(--tags-view-height)-var(--app-footer-height))]': fixedHeader.value\r\n            }\r\n          ]}\r\n        >\r\n          <ElScrollbar\r\n            v-loading={pageLoading.value}\r\n            class={[\r\n              `${prefixCls}-content-scrollbar`,\r\n              {\r\n                'mt-[var(--tags-view-height)] !pb-[calc(var(--tags-view-height)+var(--app-footer-height))]':\r\n                  fixedHeader.value,\r\n                'pb-[var(--app-footer-height)]': !fixedHeader.value\r\n              }\r\n            ]}\r\n          >\r\n            {tagsView.value ? (\r\n              <TagsView\r\n                class={[\r\n                  'layout-border__bottom layout-border__top relative',\r\n                  {\r\n                    '!fixed w-full top-[calc(var(--top-tool-height)+1px)] left-0': fixedHeader.value\r\n                  }\r\n                ]}\r\n                style=\"transition: width var(--transition-time-02), left var(--transition-time-02);\"\r\n              ></TagsView>\r\n            ) : undefined}\r\n\r\n            <AppView></AppView>\r\n          </ElScrollbar>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const renderCutMenu = () => {\r\n    return (\r\n      <>\r\n        <div class=\"flex items-center bg-[var(--top-header-bg-color)] relative layout-border__bottom\">\r\n          {logo.value ? <Logo class=\"custom-hover !pr-15px\"></Logo> : undefined}\r\n\r\n          <ToolHeader class=\"flex-1\"></ToolHeader>\r\n        </div>\r\n        <div class=\"absolute top-[var(--logo-height)] left-0 w-[calc(100%-2px)] h-[calc(100%-var(--logo-height))] flex\">\r\n          <TabMenu></TabMenu>\r\n          <div\r\n            class={[\r\n              `${prefixCls}-content`,\r\n              'h-[100%]',\r\n              {\r\n                'w-[calc(100%-var(--tab-menu-min-width))] left-[var(--tab-menu-min-width)]':\r\n                  collapse.value && !fixedMenu.value,\r\n                'w-[calc(100%-var(--tab-menu-max-width))] left-[var(--tab-menu-max-width)]':\r\n                  !collapse.value && !fixedMenu.value,\r\n                'w-[calc(100%-var(--tab-menu-min-width)-var(--left-menu-max-width))] ml-[var(--left-menu-max-width)]':\r\n                  collapse.value && fixedMenu.value,\r\n                'w-[calc(100%-var(--tab-menu-max-width)-var(--left-menu-max-width))] ml-[var(--left-menu-max-width)]':\r\n                  !collapse.value && fixedMenu.value\r\n              }\r\n            ]}\r\n            style=\"transition: all var(--transition-time-02);\"\r\n          >\r\n            <ElScrollbar\r\n              v-loading={pageLoading.value}\r\n              class={[\r\n                `${prefixCls}-content-scrollbar`,\r\n                {\r\n                  '!h-[calc(100%-var(--tags-view-height))] mt-[calc(var(--tags-view-height))]':\r\n                    fixedHeader.value && tagsView.value\r\n                }\r\n              ]}\r\n            >\r\n              {tagsView.value ? (\r\n                <TagsView\r\n                  class={[\r\n                    'relative layout-border__bottom layout-border__top',\r\n                    {\r\n                      '!fixed top-0 left-0 z-10': fixedHeader.value,\r\n                      'w-[calc(100%-var(--tab-menu-min-width))] !left-[var(--tab-menu-min-width)] mt-[var(--logo-height)]':\r\n                        collapse.value && fixedHeader.value,\r\n                      'w-[calc(100%-var(--tab-menu-max-width))] !left-[var(--tab-menu-max-width)] mt-[var(--logo-height)]':\r\n                        !collapse.value && fixedHeader.value,\r\n                      '!fixed top-0 !left-[var(--tab-menu-min-width)+var(--left-menu-max-width)] z-10':\r\n                        fixedHeader.value && fixedMenu.value,\r\n                      'w-[calc(100%-var(--tab-menu-min-width)-var(--left-menu-max-width))] !left-[var(--tab-menu-min-width)+var(--left-menu-max-width)] mt-[var(--logo-height)]':\r\n                        collapse.value && fixedHeader.value && fixedMenu.value,\r\n                      'w-[calc(100%-var(--tab-menu-max-width)-var(--left-menu-max-width))] !left-[var(--tab-menu-max-width)+var(--left-menu-max-width)] mt-[var(--logo-height)]':\r\n                        !collapse.value && fixedHeader.value && fixedMenu.value\r\n                    }\r\n                  ]}\r\n                  style=\"transition: width var(--transition-time-02), left var(--transition-time-02);\"\r\n                ></TagsView>\r\n              ) : undefined}\r\n\r\n              <AppView></AppView>\r\n            </ElScrollbar>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return {\r\n    renderClassic,\r\n    renderTopLeft,\r\n    renderTop,\r\n    renderCutMenu\r\n  }\r\n}\r\n","<script lang=\"tsx\">\r\nimport { computed, defineComponent, unref } from 'vue'\r\nimport { useAppStore } from '@/store/modules/app'\r\nimport { Backtop } from '@/components/Backtop'\r\nimport { Setting } from '@/components/Setting'\r\nimport { useRenderLayout } from './components/useRenderLayout'\r\nimport { useDesign } from '@/hooks/web/useDesign'\r\n\r\nconst { getPrefixCls } = useDesign()\r\n\r\nconst prefixCls = getPrefixCls('layout')\r\n\r\nconst appStore = useAppStore()\r\n\r\n// 是否是移动端\r\nconst mobile = computed(() => appStore.getMobile)\r\n\r\n// 菜单折叠\r\nconst collapse = computed(() => appStore.getCollapse)\r\n\r\nconst layout = computed(() => appStore.getLayout)\r\n\r\nconst handleClickOutside = () => {\r\n  appStore.setCollapse(true)\r\n}\r\n\r\nconst renderLayout = () => {\r\n  switch (unref(layout)) {\r\n    case 'classic':\r\n      const { renderClassic } = useRenderLayout()\r\n      return renderClassic()\r\n    case 'topLeft':\r\n      const { renderTopLeft } = useRenderLayout()\r\n      return renderTopLeft()\r\n    case 'top':\r\n      const { renderTop } = useRenderLayout()\r\n      return renderTop()\r\n    case 'cutMenu':\r\n      const { renderCutMenu } = useRenderLayout()\r\n      return renderCutMenu()\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\nexport default defineComponent({\r\n  name: 'Layout',\r\n  setup() {\r\n    return () => (\r\n      <section class={[prefixCls, `${prefixCls}__${layout.value}`, 'w-[100%] h-[100%] relative']}>\r\n        {mobile.value && !collapse.value ? (\r\n          <div\r\n            class=\"absolute top-0 left-0 w-full h-full opacity-30 z-99 bg-[var(--el-color-black)]\"\r\n            onClick={handleClickOutside}\r\n          ></div>\r\n        ) : undefined}\r\n\r\n        {renderLayout()}\r\n\r\n        <Backtop></Backtop>\r\n\r\n        <Setting></Setting>\r\n      </section>\r\n    )\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-layout';\r\n\r\n.@{prefix-cls} {\r\n  background-color: var(--app-content-bg-color);\r\n  .@{prefix-cls}-content-scrollbar {\r\n    & > :deep(.el-scrollbar__wrap) {\r\n      & > .@{elNamespace}-scrollbar__view {\r\n        display: flex;\r\n        height: 100% !important;\r\n        flex-direction: column;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["getPrefixCls","variables","useDesign","prefixCls","props","__props","emit","__emit","colorVal","ref","watch","val","unref","appStore","useAppStore","useI18n","breadcrumb","breadcrumbChange","show","breadcrumbIcon","breadcrumbIconChange","hamburger","hamburgerChange","screenfull","screenfullChange","size","sizeChange","locale","localeChange","tagsView","tagsViewChange","setCssVar","tagsViewIcon","tagsViewIconChange","logo","logoChange","uniqueOpened","uniqueOpenedChange","fixedHeader","fixedHeaderChange","footer","footerChange","greyMode","greyModeChange","dynamicRouter","dynamicRouterChange","ElMessage","serverDynamicRouter","serverDynamicRouterChange","fixedMenu","fixedMenuChange","layout","computed","n","storageClear","useStorage","t","drawer","systemTheme","setSystemTheme","color","leftMenuBgColor","useCssVar","setMenuTheme","trim","headerTheme","setHeaderTheme","menuTheme","copyConfig","__async","copy","copied","isSupported","useClipboard","clear","themeChange","getCssVar","DEFAULT_CONFIG","getConfig","config","treeToList","tree","children","result","i","findPath","func","path","list","visitedSet","node","filter","listFilter","__spreadValues","getAllParentPath","treeData","item","hasOneShowingChild","parent","onlyOneChild","showingChildren","v","_a","__spreadProps","useRenderMenuTitle","renderMenuTitle","meta","title","icon","_createVNode","_Fragment","Icon","useRenderMenuItem","renderMenuItem","routers","parentPath","hidden","map","oneShowingChild","fullPath","isUrl","pathResolve","noShowingChildren","alwaysShow","ElMenuItem","default","ElSubMenu","_isSlot","s","Object","prototype","toString","call","_isVNode","defineComponent","name","menuSelect","type","Function","undefined","setup","getLayout","push","currentRoute","useRouter","permissionStore","usePermissionStore","menuMode","includes","getMenuTabRouters","getRouters","collapse","getCollapse","getUniqueOpened","activeMenu","index","window","open","renderMenuWrap","renderMenu","_slot","ElScrollbar","ElMenu","tabPathMap","reactive","initTabMap","routes","filterMenusPath","allRoutes","res","data","allParentPath","cloneDeep","getFixedMenu","tabRouters","setCollapse","onMounted","split","find","length","tabActive","value","setMenuTabRouters","immediate","deep","showTitle","setTimeout","showMenu","tabClick","newPath","oldPath","isActive","currentPath","mouseleave","namespace","onClick","Menu","filterAffixTags","tags","route","tagPath","tempTags","command","visibleChange","visible","elDropdownMenuRef","__expose","easeInOutQuad","b","c","d","move","el","position","amount","useScrollTo","to","duration","callback","isActiveRef","start","change","increment","currentTime","animateScroll","run","stop","useTagsView","tagsViewStore","useTagsViewStoreWithOut","replace","selectedTag","view","query","nextTick","closeAll","closeLeft","closeRight","closeOther","closeCurrent","refreshPage","useTagsViewStore","visitedViews","affixTagArr","setSelectTag","isDark","initTags","tag","addTags","closeSelectedTag","toLastView","latestView","closeAllTags","closeOthersTags","refreshSelectedTag","closeLeftTags","closeRightTags","moveToCurrentTag","moveToTarget","tagLinksRefs","useTemplateRefsList","currentTag","wrap$","scrollbarRef","firstTag","lastTag","tagList","currentIndex","tgsRefs","prevTag","nextTag","afterNextTagOffsetLeft","beforePrevTagOffsetLeft","scrollLeftNumber","itemRefs","tagItem","scroll","scrollLeft","getCaches","toggleCollapse","collapsed","sizeMap","setCurrentSize","_imports_0","slots","useSlots","getBindValue","delArr","attrs","useAttrs","obj","key","isFullscreen","toggleFull","dialogHeight","isNumber","windowHeight","dialogStyle","useLockStore","defineStore","lockInfo","password","useUser","useUserStore","required","useValidator","lockStore","dialogVisible","dialogTitle","rules","schema","formRegister","formMethods","useForm","getFormData","getElFormExpose","handleLock","formExpose","valid","formData","dateUtil","dayjs","useNow","timer","state","update","now","h","m","tryOnMounted","tryOnUnmounted","toRefs","loading","errMsg","showDate","hour","month","minute","meridiem","year","day","week","unLock","pwd","goLogin","loginOutApi","resetRouter","handleShowForm","userStore","getIsLock","_b","loginOut","lockScreen","toggle","useFullscreen","toggleFullscreen","filterBreadcrumb","getBreadcrumbIcon","levelList","menuRouters","getBreadcrumb","matched","slice","renderBreadcrumb","disabled","redirect","ElBreadcrumbItem","_createTextVNode","startsWith","ElBreadcrumb","TransitionGroup","getHamburger","getScreenfull","getSize","getLocale","Breadcrumb","SizeDropdown","LocaleDropdown","UserInfo","pageLoading","getPageLoading","getTagsView","getFixedHeader","mobile","getMobile","useRenderLayout","renderClassic","Logo","_withDirectives","ToolHeader","TagsView","AppView","_resolveDirective","renderTopLeft","renderTop","renderCutMenu","TabMenu","handleClickOutside","renderLayout","Backtop","Setting"],"mappings":"yrDAIA,KAAM,CAAE,aAAAA,EAAc,UAAAC,CAAU,EAAIC,EAAU,EAExCC,EAAYH,EAAa,SAAS,gWCDlC,KAAA,CAAE,aAAAA,GAAiBE,IAEnBC,EAAYH,EAAa,oBAAoB,EAE7CI,EAAQC,EAQRC,EAAOC,EAEPC,EAAWC,EAAIL,EAAM,UAAU,EAErC,OAAAM,GACE,IAAMN,EAAM,WACXO,GAAgB,CACXA,IAAQC,EAAMJ,CAAQ,IAC1BA,EAAS,MAAQG,EACnB,CAAA,EAIFD,GACE,IAAMF,EAAS,MACdG,GAAgB,CACfL,EAAK,oBAAqBK,CAAG,EAC7BL,EAAK,SAAUK,CAAG,CACpB,CAAA,soDC3BI,KAAA,CAAE,aAAAX,GAAiBE,IAEnBC,EAAYH,EAAa,mBAAmB,EAE5Ca,EAAWC,IAEX,CAAE,GAAMC,KAGRC,EAAaP,EAAII,EAAS,aAAa,EAEvCI,EAAoBC,GAAkB,CAC1CL,EAAS,cAAcK,CAAI,CAAA,EAIvBC,EAAiBV,EAAII,EAAS,iBAAiB,EAE/CO,EAAwBF,GAAkB,CAC9CL,EAAS,kBAAkBK,CAAI,CAAA,EAI3BG,EAAYZ,EAAII,EAAS,YAAY,EAErCS,EAAmBJ,GAAkB,CACzCL,EAAS,aAAaK,CAAI,CAAA,EAItBK,EAAad,EAAII,EAAS,aAAa,EAEvCW,EAAoBN,GAAkB,CAC1CL,EAAS,cAAcK,CAAI,CAAA,EAIvBO,EAAOhB,EAAII,EAAS,OAAO,EAE3Ba,EAAcR,GAAkB,CACpCL,EAAS,QAAQK,CAAI,CAAA,EAIjBS,EAASlB,EAAII,EAAS,SAAS,EAE/Be,EAAgBV,GAAkB,CACtCL,EAAS,UAAUK,CAAI,CAAA,EAInBW,EAAWpB,EAAII,EAAS,WAAW,EAEnCiB,EAAkBZ,GAAkB,CAE9Ba,GAAA,qBAAsBb,EAAO,OAAS,KAAK,EACrDL,EAAS,YAAYK,CAAI,CAAA,EAIrBc,EAAevB,EAAII,EAAS,eAAe,EAE3CoB,EAAsBf,GAAkB,CAC5CL,EAAS,gBAAgBK,CAAI,CAAA,EAIzBgB,EAAOzB,EAAII,EAAS,OAAO,EAE3BsB,EAAcjB,GAAkB,CACpCL,EAAS,QAAQK,CAAI,CAAA,EAIjBkB,EAAe3B,EAAII,EAAS,eAAe,EAE3CwB,EAAsBD,GAA0B,CACpDvB,EAAS,gBAAgBuB,CAAY,CAAA,EAIjCE,GAAc7B,EAAII,EAAS,cAAc,EAEzC0B,GAAqBrB,GAAkB,CAC3CL,EAAS,eAAeK,CAAI,CAAA,EAIxBsB,GAAS/B,EAAII,EAAS,SAAS,EAE/B4B,GAAgBvB,GAAkB,CACtCL,EAAS,UAAUK,CAAI,CAAA,EAInBwB,GAAWjC,EAAII,EAAS,WAAW,EAEnC8B,GAAkBzB,GAAkB,CACxCL,EAAS,YAAYK,CAAI,CAAA,EAIrB0B,GAAgBnC,EAAI,CAAC,CAACI,EAAS,gBAAgB,EAE/CgC,GAAuB3B,GAAkB,CACnC4B,GAAA,KAAK,EAAE,uBAAuB,CAAC,EACzCjC,EAAS,iBAAiBK,CAAI,CAAA,EAI1B6B,GAAsBtC,EAAII,EAAS,sBAAsB,EAEzDmC,GAA6B9B,GAAkB,CACzC4B,GAAA,KAAK,EAAE,uBAAuB,CAAC,EACzCjC,EAAS,uBAAuBK,CAAI,CAAA,EAIhC+B,GAAYxC,EAAII,EAAS,YAAY,EAErCqC,GAAmBhC,GAAkB,CACzCL,EAAS,aAAaK,CAAI,CAAA,EAGtBiC,GAASC,EAAS,IAAMvC,EAAS,SAAS,EAEhD,OAAAH,GACE,IAAMyC,GAAO,MACZE,GAAM,CACDA,IAAM,OACRxC,EAAS,YAAY,EAAK,CAE9B,CAAA,g6FCvII,KAAA,CAAE,aAAAb,GAAiBE,IAEnBC,EAAYH,EAAa,qBAAqB,EAE9Ca,EAAWC,IAEXqC,EAASC,EAAS,IAAMvC,EAAS,SAAS,i8BCIhD,KAAM,CAAE,MAAOyC,CAAa,EAAIC,GAAW,cAAc,EAEnD,CAAE,aAAAvD,GAAiBE,IAEnBC,EAAYH,EAAa,SAAS,EAElCa,EAAWC,IAEX,CAAE,EAAA0C,GAAMzC,KAER0C,EAAShD,EAAI,EAAK,EAGlBiD,EAAcjD,EAAII,EAAS,SAAS,cAAc,EAElD8C,EAAkBC,GAAkB,CACxC7B,GAAU,qBAAsB6B,CAAK,EACrC/C,EAAS,SAAS,CAAE,eAAgB+C,CAAO,CAAA,EAC3C,MAAMC,EAAkBC,GAAU,uBAAwB,SAAS,eAAe,EAClFC,EAAaC,GAAKpD,EAAMiD,CAAe,CAAC,CAAC,CAAA,EAIrCI,EAAcxD,EAAII,EAAS,SAAS,kBAAoB,EAAE,EAE1DqD,EAAkBN,GAAkB,CACxC/C,EAAS,eAAe+C,CAAK,CAAA,EAIzBO,EAAY1D,EAAII,EAAS,SAAS,iBAAmB,EAAE,EAEvDkD,EAAgBH,GAAkB,CACtC/C,EAAS,aAAa+C,CAAK,CAAA,EAiBvBQ,EAAa,IAAYC,GAAA,sBAC7B,KAAM,CAAE,KAAAC,EAAM,OAAAC,EAAQ,YAAAC,CAAA,EAAgBC,GAAa,CACjD,OAAQ;AAAA;AAAA,oBAEQ5D,EAAS,aAAa;AAAA;AAAA,wBAElBA,EAAS,iBAAiB;AAAA;AAAA,mBAE/BA,EAAS,YAAY;AAAA;AAAA,oBAEpBA,EAAS,aAAa;AAAA;AAAA,cAE5BA,EAAS,OAAO;AAAA;AAAA,gBAEdA,EAAS,SAAS;AAAA;AAAA,kBAEhBA,EAAS,WAAW;AAAA;AAAA,yBAEbA,EAAS,eAAe;AAAA;AAAA,cAEnCA,EAAS,OAAO;AAAA;AAAA,sBAERA,EAAS,eAAe;AAAA;AAAA,qBAEzBA,EAAS,cAAc;AAAA;AAAA,gBAE5BA,EAAS,SAAS;AAAA;AAAA,kBAEhBA,EAAS,WAAW;AAAA;AAAA,iBAErBA,EAAS,SAAS;AAAA;AAAA,gBAEnBA,EAAS,SAAS;AAAA;AAAA,sBAEZA,EAAS,cAAc;AAAA;AAAA;AAAA;AAAA,2BAIlBA,EAAS,SAAS,cAAc;AAAA;AAAA,gCAE3BA,EAAS,SAAS,mBAAmB;AAAA;AAAA,4BAEzCA,EAAS,SAAS,eAAe;AAAA;AAAA,iCAE5BA,EAAS,SAAS,oBAAoB;AAAA;AAAA,kCAErCA,EAAS,SAAS,qBAAqB;AAAA;AAAA,0CAE/BA,EAAS,SAAS,6BAA6B;AAAA;AAAA,8BAE3DA,EAAS,SAAS,iBAAiB;AAAA;AAAA,oCAE7BA,EAAS,SAAS,uBAAuB;AAAA;AAAA,+BAE9CA,EAAS,SAAS,kBAAkB;AAAA;AAAA,4BAEvCA,EAAS,SAAS,eAAe;AAAA;AAAA,6BAEhCA,EAAS,SAAS,gBAAgB;AAAA;AAAA,+BAEhCA,EAAS,SAAS,kBAAkB;AAAA;AAAA,gCAEnCA,EAAS,SAAS,mBAAmB;AAAA;AAAA,+BAEtCA,EAAS,SAAS,kBAAkB;AAAA;AAAA,MAG/D,OAAQ,EAAA,CACT,EACI2D,GAGH,MAAMF,EAAK,EACP1D,EAAM2D,CAAM,GACJzB,GAAA,QAAQU,EAAE,qBAAqB,CAAC,GAJlCV,GAAA,MAAMU,EAAE,oBAAoB,CAAC,CAMzC,GAIIkB,EAAQ,IAAM,CACLpB,IACb,OAAO,SAAS,QAAO,EAGnBqB,EAAc,IAAM,CAClB,MAAAf,EAAQgB,GAAU,eAAe,EACvCb,EAAaH,CAAK,EAClBM,EAAeN,CAAK,CAAA,g3DCpJhBiB,GAAmC,CACvC,GAAI,KACJ,SAAU,WACV,IAAK,KACP,EAEMC,GAAaC,GAAsC,OAAO,OAAO,GAAIF,GAAgBE,CAAM,EAoBpFC,GAAa,CAAUC,EAAWF,EAAoC,KAAU,CAC3FA,EAASD,GAAUC,CAAM,EACnB,KAAA,CAAE,SAAAG,CAAa,EAAAH,EACfI,EAAc,CAAC,GAAGF,CAAI,EAC5B,QAASG,EAAI,EAAGA,EAAID,EAAO,OAAQC,IAC5BD,EAAOC,CAAC,EAAEF,CAAS,GACjBC,EAAA,OAAOC,EAAI,EAAG,EAAG,GAAGD,EAAOC,CAAC,EAAEF,CAAS,CAAC,EAE1C,OAAAC,CACT,EAiCaE,GAAW,CACtBJ,EACAK,EACAP,EAAoC,CAAA,IACjB,CACnBA,EAASD,GAAUC,CAAM,EACzB,MAAMQ,EAAY,CAAA,EACZC,EAAO,CAAC,GAAGP,CAAI,EACfQ,MAAiB,IACjB,CAAE,SAAAP,CAAa,EAAAH,EACrB,KAAOS,EAAK,QAAQ,CACZ,MAAAE,EAAOF,EAAK,CAAC,EACf,GAAAC,EAAW,IAAIC,CAAI,EACrBH,EAAK,IAAI,EACTC,EAAK,MAAM,UAEXC,EAAW,IAAIC,CAAI,EACnBA,EAAKR,CAAS,GAAKM,EAAK,QAAQ,GAAGE,EAAKR,CAAS,CAAC,EAClDK,EAAK,KAAKG,CAAI,EACVJ,EAAKI,CAAI,EACJ,OAAAH,CAGb,CACO,OAAA,IACT,EAwBaI,GAAS,CACpBV,EACAK,EACAP,EAAoC,CAAA,IAC5B,CACRA,EAASD,GAAUC,CAAM,EACzB,MAAMG,EAAWH,EAAO,SACxB,SAASa,EAAWJ,EAAW,CACtB,OAAAA,EACJ,IAAKE,GAAeG,EAAA,GAAKH,EAAO,EAChC,OAAQA,IACFA,EAAAR,CAAQ,EAAIQ,EAAKR,CAAQ,GAAKU,EAAWF,EAAKR,CAAQ,CAAC,EACrDI,EAAKI,CAAI,GAAMA,EAAKR,CAAQ,GAAKQ,EAAKR,CAAQ,EAAE,OACxD,CACL,CACA,OAAOU,EAAWX,CAAI,CACxB,EChIaa,GAAmB,CAAiBC,EAAeR,KAC7CF,GAASU,EAAW1C,GAAMA,EAAE,OAASkC,CAAI,GACtC,IAAI,IAAKS,GAASA,EAAK,IAAI,EAGpCC,GAAqB,CAChCf,EAAgC,GAChCgB,IACuB,CACvB,MAAMC,EAAe1F,IAEf2F,EAAkBlB,EAAS,OAAQmB,GAAM,OAE7C,QADaC,EAAAD,EAAE,OAAF,KAAAC,EAAU,IACd,OACA,IAGPH,EAAa,MAAQE,EACd,GACT,CACD,EAGG,OAAAD,EAAgB,SAAW,EACtB,CACL,gBAAiB,GACjB,aAAcxF,EAAMuF,CAAY,CAAA,EAK/BC,EAAgB,OAQd,CACL,gBAAiB,GACjB,aAAcxF,EAAMuF,CAAY,CAAA,GAThCA,EAAa,MAAQI,GAAAV,EAAA,GAAKK,GAAL,CAAa,KAAM,GAAI,kBAAmB,KACxD,CACL,gBAAiB,GACjB,aAActF,EAAMuF,CAAY,CAAA,EAQtC,ECjDaK,GAAqBA,KAmBzB,CACLC,gBAnBuBC,GAAoB,CAC3C,KAAM,CAAElD,EAAAA,CAAG,EAAGzC,GAAO,EACf,CAAE4F,MAAAA,EAAQ,mBAAoBC,KAAAA,CAAM,EAAGF,EAE7C,OAAOE,EAAIC,EAAAC,EAAAD,KAAAA,CAAAA,EAAAE,GAAA,CAAA,KAEKL,EAAKE,IAAI,EAAA,IAAA,EAAAC,EAAA,OAAA,CAAA,MAAA,mEAAA,EAAA,CAElBrD,EAAEmD,CAAe,CAAC,KAAAE,EAAA,OAAA,CAAA,MAAA,mEAAA,EAAA,CAKpBrD,EAAEmD,CAAe,CAAC,CAEtB,KCdC,CAAEF,gBAAAA,EAAgB,EAAID,GAAkB,EAEjCQ,GAAoBA,IAE/B,CACE,MAAMC,EAAiBA,CAACC,EAA8BC,EAAa,MAC1DD,EACJvB,OAAQU,UAAM,SAACA,EAAAA,EAAEK,OAAFL,MAAAA,EAAQe,QAAM,EAC7BC,IAAKhB,GAAM,OACV,MAAMK,GAAOL,EAAAA,EAAEK,OAAFL,KAAAA,EAAU,GACjB,CAAEiB,gBAAAA,EAAiBnB,aAAAA,CAAc,EAAGF,GAAmBI,EAAEnB,SAAUmB,CAAC,EACpEkB,EAAWC,GAAMnB,EAAEd,IAAI,EAAIc,EAAEd,KAAOkC,GAAYN,EAAYd,EAAEd,IAAI,EAExE,OACE+B,IACC,EAACnB,GAAAA,MAAAA,EAAcjB,WAAYiB,GAAAA,MAAAA,EAAcuB,oBAC1C,EAAChB,GAAAA,MAAAA,EAAMiB,YAEPd,EAAAe,GAAA,CAAA,MAEWzB,EAAesB,GAAYF,EAAUpB,EAAaZ,IAAI,EAAIgC,CAAQ,EAAA,CAGvEM,QAASA,IAAMpB,GAAgBN,EAAeA,GAAAA,YAAAA,EAAcO,KAAOA,CAAI,CAAC,CAAA,EAK9EG,EAAAiB,GAAA,CAAA,MACoBP,CAAQ,EAAA,CAEtBZ,MAAOA,IAAMF,GAAgBC,CAAI,EACjCmB,QAASA,IAAMZ,EAAeZ,EAAEnB,SAAWqC,CAAQ,CAAC,CAAA,CAK9D,CAAC,EAGL,MAAO,CACLN,eAAAA,EAEJ,ECzC8C,SAAAc,GAAAC,EAAA,CAAA,OAAA,OAAAA,GAAA,YAAAC,OAAAC,UAAAC,SAAAC,KAAAJ,CAAA,IAAAK,mBAAAA,CAAAA,GAAAL,CAAA,CAAA,CAEhD,KAAM,CAAEhI,aAAAA,EAAa,EAAIE,EAAS,EAE5BC,GAAYH,GAAa,MAAM,EAEtBsI,KAAgB,CAC7BC,KAAM,OACNnI,MAAO,CACLoI,WAAY,CACVC,KAAMC,SACNb,QAASc,MACX,CACD,EACDC,MAAMxI,EAAO,CACX,MAAMS,EAAWC,IAEXqC,EAASC,EAAS,IAAMvC,EAASgI,SAAS,EAE1C,CAAEC,KAAAA,EAAMC,aAAAA,GAAiBC,GAAS,EAElCC,EAAkBC,KAElBC,EAAW/F,EAAS,IAEO,CAAC,UAAW,UAAW,SAAS,EAElDgG,SAASxI,EAAMuC,CAAM,CAAC,EAC1B,WAEA,YAEV,EAEK+D,EAAU9D,EAAS,IACvBxC,EAAMuC,CAAM,IAAM,UAAY8F,EAAgBI,kBAAoBJ,EAAgBK,UACpF,EAEMC,EAAWnG,EAAS,IAAMvC,EAAS2I,WAAW,EAE9CpH,EAAegB,EAAS,IAAMvC,EAAS4I,eAAe,EAEtDC,EAAatG,EAAS,IAAM,CAChC,KAAM,CAAEsD,KAAAA,EAAMnB,KAAAA,CAAK,EAAI3E,EAAMmI,CAAY,EAEzC,OAAIrC,EAAKgD,WACAhD,EAAKgD,WAEPnE,CACT,CAAC,EAEKiD,EAAcmB,GAAkB,CAChCvJ,EAAMoI,YACRpI,EAAMoI,WAAWmB,CAAK,EAGpBnC,GAAMmC,CAAK,EACbC,OAAOC,KAAKF,CAAK,EAEjBb,EAAKa,CAAK,GAIRG,EAAiBA,IAAM,CAC3B,GAAIlJ,EAAMuC,CAAM,IAAM,MACpB,OAAO4G,EAAU,EACZ,CAAA,IAAAC,EACL,OAAAnD,EAAAoD,GAAA,KAAAlC,GAAAiC,EAAqBD,EAAU,CAAE,EAAAC,EAAA,CAAAnC,QAAAA,IAAA,CAAAmC,CAAA,CAAA,CAAA,CACnC,GAGID,EAAaA,IACjBlD,EAAAqD,GAAA,CAAA,cAEmBtJ,EAAM8I,CAAU,EAAC,KAC1B9I,EAAMuI,CAAQ,EAAC,SAEnBvI,EAAMuC,CAAM,IAAM,OAASvC,EAAMuC,CAAM,IAAM,UAAY,GAAQvC,EAAM2I,CAAQ,EAAA,aAEnE3I,EAAMuC,CAAM,IAAM,MAAQ,GAAQvC,EAAMwB,CAAY,EAAC,gBAAA,4BAAA,UAAA,8BAAA,gBAAA,qCAAA,YAKjExB,EAAMuI,CAAQ,IAAM,WACf,GAAEhJ,EAAU,oBACZ,GAAEA,EAAU,sBAAmB,SAE5BqI,CAAU,EAAA,CAGlBX,QAASA,IAAM,CACb,KAAM,CAAEZ,eAAAA,CAAiB,EAAED,GAAiB,EAC5C,OAAOC,EAAerG,EAAMsG,CAAO,CAAC,CACtC,CAAA,CAAA,EAMR,MAAO,IAAAL,EAAA,MAAA,CAAA,GAEC1G,GAAS,MACN,CACJ,GAAEA,EAAW,IAAEA,EAAU,KAAIS,EAAMuI,CAAQ,CAAE,GAC9C,mEACA,CACE,iCAAkCvI,EAAM2I,CAAQ,GAAK3I,EAAMuC,CAAM,IAAM,UACvE,iCAAkC,CAACvC,EAAM2I,CAAQ,GAAK3I,EAAMuC,CAAM,IAAM,UAC1E,GAGD2G,CAAAA,EAAgB,CAAA,CAErB,CACF,CACF,CAAC,6CClHYK,GAAaC,GAAsB,CAAA,CAAE,EAErCC,GAAcC,GAAgC,OACzD,UAAWjE,KAAKiE,EAAQ,CAChB,MAAA5D,GAAQJ,EAAAD,EAAE,OAAF,KAAAC,EAAU,GACnBI,GAAA,MAAAA,EAAM,SACEyD,GAAA9D,EAAE,IAAI,EAAI,GAEzB,CACF,EAEakE,GAAkB,CAC7BD,EACAE,IACwB,OACxB,MAAMC,EAA2B,CAAA,EACjC,UAAWpE,KAAKiE,EAAQ,CACtB,IAAII,EAAoC,KAClC,MAAAhE,GAAQJ,EAAAD,EAAE,OAAF,KAAAC,EAAU,GACxB,GAAI,CAACI,EAAK,QAAUA,EAAK,MAAO,CAC9B,MAAMiE,EAAgB7E,GAAoC0E,EAAWnE,EAAE,IAAI,EAErEkB,EAAWC,GAAMnB,EAAE,IAAI,EAAIA,EAAE,KAAOsE,EAAc,KAAK,GAAG,EAEhED,EAAOE,GAAUvE,CAAC,EAClBqE,EAAK,KAAOnD,EACRlB,EAAE,UAAYqE,IAChBA,EAAK,SAAWH,GAAgBlE,EAAE,SAAUmE,CAAS,GAGnDE,GACFD,EAAI,KAAKC,CAAI,EAGXC,EAAc,QAAU,QAAQ,IAAIR,GAAYQ,EAAc,CAAC,CAAC,GAClER,GAAWQ,EAAc,CAAC,CAAC,EAAE,KAAKpD,CAAQ,CAE9C,CACF,CAEO,OAAAkD,CACT,ECpCM,cAAEzK,GAAcC,UAAAA,EAAU,EAAIC,EAAS,EAEvCC,GAAYH,GAAa,UAAU,EAE1BsI,KAAgB,CAC7BC,KAAM,UACNK,OAAQ,CACN,KAAM,CAAEE,KAAAA,EAAMC,aAAAA,GAAiBC,GAAS,EAElC,CAAExF,EAAAA,CAAE,EAAIzC,GAAO,EAEfF,EAAWC,IAEXyI,EAAWnG,EAAS,IAAMvC,EAAS2I,WAAW,EAE9CvG,EAAYG,EAAS,IAAMvC,EAASgK,YAAY,EAEhD5B,EAAkBC,KAElBhC,EAAU9D,EAAS,IAAM6F,EAAgBK,UAAU,EAEnDwB,EAAa1H,EAAS,IAAMxC,EAAMsG,CAAO,EAAEvB,OAAQU,GAAM,OAAA,SAACA,EAAAA,GAAAA,YAAAA,EAAGK,OAAHL,MAAAA,EAASe,QAAM,CAAC,EAE1E2D,EAAcA,IAAM,CACxBlK,EAASkK,YAAY,CAACnK,EAAM2I,CAAQ,CAAC,GAGvCyB,GAAU,IAAM,OACd,GAAIpK,EAAMqC,CAAS,EAAG,CACpB,MAAMsC,EAAQ,IAAG3E,EAAMmI,CAAY,EAAExD,KAAK0F,MAAM,GAAG,EAAE,CAAC,CAAE,GAClD/F,GAAWtE,EAAAA,EAAMkK,CAAU,EAAEI,KAChC7E,cACEA,SAAAA,EAAAA,EAAEK,OAAFL,YAAAA,EAAQsB,eAAetB,EAAAA,GAAAA,YAAAA,EAAGnB,WAAHmB,YAAAA,EAAa8E,WAAU9E,EAAAA,GAAAA,YAAAA,EAAGnB,WAAHmB,YAAAA,EAAa8E,QAAS,IACrE9E,EAAEd,OAASA,EACf,IAJiB3E,YAAAA,EAIdsE,SAEHkG,EAAUC,MAAQ9F,EACdL,GACF+D,EAAgBqC,kBACdV,GAAU1F,CAAQ,EAAEmC,IAAKhB,IACvBA,EAAEd,KAAOkC,GAAY7G,EAAMwK,CAAS,EAAG/E,EAAEd,IAAI,EACtCc,EACR,CACH,CAEJ,CACF,CAAC,EAED3F,GACE,IAAMwG,EAAQmE,MACbnE,GAAiC,CAChCmD,GAAWnD,CAAO,EAClBqD,GAAgBrD,EAASA,CAAO,CAClC,EACA,CACEqE,UAAW,GACXC,KAAM,EACR,CACF,EAEA,MAAMC,EAAYhL,EAAI,EAAI,EAE1BC,GACE,IAAM6I,EAAS8B,MACd9B,GAAsB,CAChBA,EAKHkC,EAAUJ,MAAQ,CAAC9B,EAJnBmC,WAAW,IAAM,CACfD,EAAUJ,MAAQ,CAAC9B,CACpB,EAAE,GAAG,CAIV,EACA,CACEgC,UAAW,EACb,CACF,EAGA,MAAMI,EAAWlL,EAAIG,EAAAA,EAAMqC,CAAS,CAAgB,EAG9CmI,EAAY3K,EAAI,EAAE,EAGlBmL,EAAY5F,GAA4B,CAC5C,GAAIwB,GAAMxB,EAAKT,IAAI,EAAG,CACpBqE,OAAOC,KAAK7D,EAAKT,IAAI,EACrB,MACF,CACA,MAAMsG,EAAU7F,EAAKd,SAAWc,EAAKT,KAAOS,EAAKT,KAAK0F,MAAM,GAAG,EAAE,CAAC,EAC5Da,EAAUlL,EAAMwK,CAAS,EAC/BA,EAAUC,MAAQrF,EAAKd,SAAWc,EAAKT,KAAOS,EAAKT,KAAK0F,MAAM,GAAG,EAAE,CAAC,EAChEjF,EAAKd,WACH2G,IAAYC,GAAW,CAAClL,EAAM+K,CAAQ,KACxCA,EAASN,MAAQzK,EAAMqC,CAAS,EAAI,GAAO,CAACrC,EAAM+K,CAAQ,GAExD/K,EAAM+K,CAAQ,GAChB1C,EAAgBqC,kBACdV,GAAU5E,EAAKd,QAAQ,EAAEmC,IAAKhB,IAC5BA,EAAEd,KAAOkC,GAAY7G,EAAMwK,CAAS,EAAG/E,EAAEd,IAAI,EACtCc,EACR,CACH,IAGFyC,EAAK9C,EAAKT,IAAI,EACd0D,EAAgBqC,kBAAkB,CAAA,CAAE,EACpCK,EAASN,MAAQ,KAKfU,EAAYC,GAAwB,CACxC,KAAM,CAAEzG,KAAAA,CAAK,EAAI3E,EAAMmI,CAAY,EACnC,MAAIoB,EAAAA,GAAW6B,CAAW,EAAE5C,SAAS7D,CAAI,GAMrC0G,EAAaA,IAAM,CACnB,CAACrL,EAAM+K,CAAQ,GAAK/K,EAAMqC,CAAS,IACvC0I,EAASN,MAAQ,KAGnB,MAAO,IAAAxE,EAAA,MAAA,CAAA,GAEE,GAAE5G,GAAUiM,SAAU,QAAM,MAC1B,CACL/L,GACA,8EACA,CACE,gCAAiC,CAACS,EAAM2I,CAAQ,EAChD,gCAAiC3I,EAAM2I,CAAQ,CACjD,CAAA,EACD,aACa0C,GAAUpF,CAAAA,EAAAoD,GAAA,CAAA,MAAA,qDAAA,EAAA,CAAApC,QAAAA,IAAA,CAAAhB,EAAA,MAAA,KAAA,CAAAgB,QAInBA,IACQjH,EAAMkK,CAAU,EAAEzD,IAAKhB,GAAM,iBAClC,MAAML,GACJK,EAAAA,EAAEK,OAAFL,MAAAA,EAAQsB,aAAetB,EAAAA,GAAAA,YAAAA,EAAGnB,WAAHmB,MAAAA,EAAa8E,UAAU9E,EAAAA,GAAAA,YAAAA,EAAGnB,WAAHmB,YAAAA,EAAa8E,QAAS,EAChE9E,EACAE,GAAAV,EAAA,IACMQ,GAAAA,YAAAA,EAAGnB,YAAYmB,GAAAA,YAAAA,EAAGnB,SAAS,KADjC,CAEEK,KAAMkC,GAAYpB,EAAEd,MAAOc,GAAAA,GAAAA,YAAAA,EAAGnB,YAAYmB,GAAAA,YAAAA,EAAGnB,SAAS,MAA3BmB,YAAAA,EAAgCd,IAAc,IAGjF,OAAAsB,EAAA,MAAA,CAAA,MAEW,CACJ,GAAE1G,EAAU,SACb,wDACA,CACE,YAAa4L,EAAS1F,EAAEd,IAAI,CAC9B,CAAA,EACD,QACQ4G,IAAM,CACbP,EAAS5F,CAAI,CACf,CAAC,EAAA,CAAAa,EAAA,MAAA,KAAA,CAAAA,EAAAE,GAAA,CAAA,MAGaf,EAAAA,GAAAA,YAAAA,EAAMU,OAANV,YAAAA,EAAYY,MAEzB,IAAA,CAAA,CAAA,EAAChG,EAAM6K,CAAS,EAAY5E,EAAA,IAAA,CAAA,MAAA,6BACWrD,CAAAA,GAAEwC,EAAAA,EAAKU,OAALV,YAAAA,EAAWW,KAAK,CAAC,CAC1D,EAFoBgC,MAEpB,CAAA,CAGP,CAAC,CACF,CAAA,CAAA,CAAA,CAAA,EAAA9B,EAAA,MAAA,CAAA,MAII,CACJ,GAAE1G,EAAU,aACb,0GAAyG,EAC1G,QACQ4K,GAAWlE,CAAAA,EAAAE,GAAA,CAAA,KAERnG,EAAM2I,CAAQ,EAAI,mBAAqB,iBAAiB1C,EAAAA,IAAAA,CAAAA,CAAAA,EAAAA,EAAAuF,GAAA,CAAA,MAG7D,CACL,yBACA,CACE,oCAAqCxL,EAAM2I,CAAQ,EACnD,oCAAqC,CAAC3I,EAAM2I,CAAQ,EACpD,4FACE3I,EAAM+K,CAAQ,GAAK/K,EAAMqC,CAAS,EACpC,OAAQ,CAACrC,EAAM+K,CAAQ,GAAK,CAAC/K,EAAMqC,CAAS,CAC9C,CAAA,EACD,MAAA,gFAIP,IAAA,CAAA,CAAA,CACF,CACF,CAAC,6CCrNYoJ,GAAkB,CAAC/B,EAA6BnD,EAAa,KAAO,CAC/E,IAAImF,EAAwC,CAAA,EACrC,OAAAhC,EAAA,QAASiC,GAAU,CACxB,MAAM7F,EAAO6F,EAAM,KACbC,EAAU/E,GAAYN,EAAYoF,EAAM,IAAI,EAIlD,GAHI7F,GAAA,MAAAA,EAAM,OACH4F,EAAA,KAAK/F,GAAAV,EAAA,GAAK0G,GAAL,CAAY,KAAMC,EAAS,SAAUA,GAA0C,EAEvFD,EAAM,SAAU,CAClB,MAAME,EAA4CJ,GAAgBE,EAAM,SAAUC,CAAO,EACrFC,EAAS,QAAU,IACrBH,EAAO,CAAC,GAAGA,EAAM,GAAGG,CAAQ,EAEhC,CAAA,CACD,EAEMH,CACT,8MCbM,KAAA,CAAE,aAAAtM,GAAiBE,IAEnBC,EAAYH,EAAa,cAAc,EAEvC,CAAE,EAAAwD,GAAMzC,KAERT,EAAOC,EAEPH,EAAQC,EAeRqM,EAAW1G,GAA4B,CACtCA,EAAA,SAAWA,EAAK,QAAQA,CAAI,CAAA,EAG7B2G,EAAiBC,GAAqB,CACrCtM,EAAA,gBAAiBsM,EAASxM,EAAM,OAAO,CAAA,EAGxCyM,EAAoBpM,IAEb,OAAAqM,EAAA,CACX,kBAAAD,EACA,QAASzM,EAAM,OAAA,CAChB,0kBCjCK2M,GAAgB,CAACvJ,EAAWwJ,EAAWC,EAAWC,KACtD1J,GAAK0J,EAAI,EACL1J,EAAI,EACEyJ,EAAI,EAAKzJ,EAAIA,EAAIwJ,GAE3BxJ,IACQ,CAACyJ,EAAI,GAAMzJ,GAAKA,EAAI,GAAK,GAAKwJ,IAElCG,GAAO,CAACC,EAAiBC,EAAkBC,IAAmB,CAClEF,EAAGC,CAAQ,EAAIC,CACjB,EAEO,SAASC,GAAY,CAC1B,GAAAH,EACA,SAAAC,EAAW,aACX,GAAAG,EACA,SAAAC,EAAW,IACX,SAAAC,CACF,EAAmB,CACX,MAAAC,EAAclN,EAAI,EAAK,EACvBmN,EAAQR,EAAGC,CAAQ,EACnBQ,EAASL,EAAKI,EACdE,EAAY,GAClB,IAAIC,EAAc,EAElB,SAASC,GAAgB,CACnB,GAAA,CAACpN,EAAM+M,CAAW,EACpB,OAEaI,GAAAD,EACf,MAAMnN,EAAMoM,GAAcgB,EAAaH,EAAOC,EAAQJ,CAAQ,EACzDN,GAAAC,EAAIC,EAAU1M,CAAG,EAClBoN,EAAcN,GAAY7M,EAAM+M,CAAW,EAC7C,sBAAsBK,CAAa,EAE/BN,GACOA,GAGf,CAEA,SAASO,GAAM,CACbN,EAAY,MAAQ,GACNK,GAChB,CAEA,SAASE,GAAO,CACdP,EAAY,MAAQ,EACtB,CAEO,MAAA,CAAE,MAAOM,EAAK,KAAAC,EACvB,CCzDO,MAAMC,GAAc,IAAM,CAC/B,MAAMC,EAAgBC,KAEhB,CAAE,QAAAC,EAAS,aAAAvF,CAAa,EAAIC,GAAU,EAEtCuF,EAAcnL,EAAS,IAAMgL,EAAc,cAAc,EA4CxD,MAAA,CACL,SA3CgBV,GAAkB,CAClCU,EAAc,YAAY,EACfV,GAAA,MAAAA,GAAA,EA0CX,UAvCiBA,GAAkB,CACrBU,EAAA,aAAaxN,EAAM2N,CAAW,CAAkC,EACnEb,GAAA,MAAAA,GAAA,EAsCX,WAnCkBA,GAAkB,CACtBU,EAAA,cAAcxN,EAAM2N,CAAW,CAAkC,EACpEb,GAAA,MAAAA,GAAA,EAkCX,WA/BkBA,GAAkB,CACtBU,EAAA,eAAexN,EAAM2N,CAAW,CAAkC,EACrEb,GAAA,MAAAA,GAAA,EA8BX,aA3BmB,CAACc,EAAsCd,IAAkB,QACxEpH,EAAAkI,GAAA,YAAAA,EAAM,OAAN,MAAAlI,EAAY,QAChB8H,EAAc,QAAQI,GAAQ5N,EAAMmI,CAAY,CAAC,EAEtC2E,GAAA,MAAAA,IAAA,EAwBX,YArBkB,CAAOc,EAAsCd,IAAkBrJ,GAAA,wBACjF+J,EAAc,cAAc,EAC5B,KAAM,CAAE,KAAA7I,EAAM,MAAAkJ,CAAA,EAAUD,GAAQ5N,EAAMmI,CAAY,EAClD,MAAM2F,GAAS,EACPJ,EAAA,CACN,KAAM,YAAc/I,EACpB,MAAAkJ,CAAA,CACD,EACUf,GAAA,MAAAA,GAAA,GAcX,SAXe,CAAC/G,EAAepB,IAAkB,CACnC6I,EAAA,SAASzH,EAAOpB,CAAI,CAAA,CAUlC,CAEJ,yHC7CM,KAAA,CAAE,aAAAvF,GAAiBE,IAEnBC,EAAYH,EAAa,WAAW,EAEpC,CAAE,EAAAwD,GAAMzC,KAER,CAAE,aAAAgI,EAAc,KAAAD,CAAK,EAAIE,GAAU,EAEnC,CAAE,SAAA2F,EAAU,UAAAC,EAAW,WAAAC,EAAY,WAAAC,EAAY,aAAAC,EAAc,YAAAC,GAAgBb,KAE7ElF,EAAkBC,KAElBhC,EAAU9D,EAAS,IAAM6F,EAAgB,UAAU,EAEnDmF,EAAgBa,KAEhBC,EAAe9L,EAAS,IAAMgL,EAAc,eAAe,EAE3De,EAAc1O,EAAqC,CAAA,CAAE,EAErD8N,EAAcnL,EAAS,IAAMgL,EAAc,cAAc,EAEzDgB,EAAehB,EAAc,eAE7BvN,EAAWC,IAEXkB,EAAeoB,EAAS,IAAMvC,EAAS,eAAe,EAEtDwO,EAASjM,EAAS,IAAMvC,EAAS,SAAS,EAG1CyO,EAAW,IAAM,CACrBH,EAAY,MAAQ9C,GAAgBzL,EAAMsG,CAAO,CAAC,EACvC,UAAAqI,KAAO3O,EAAMuO,CAAW,EAE7BI,EAAI,MACQnB,EAAA,eAAexD,GAAU2E,CAAG,CAAC,CAE/C,EAIIC,EAAU,IAAM,CACpB,KAAM,CAAE,KAAAjH,CAAA,EAAS3H,EAAMmI,CAAY,EAC/BR,IACW6G,EAAAxO,EAAMmI,CAAY,CAAC,EAClBqF,EAAA,QAAQxN,EAAMmI,CAAY,CAAC,EAC3C,EAII0G,EAAoBjB,GAAwC,CAChEO,EAAaP,EAAM,IAAM,CACnBzC,GAASyC,CAAI,GACJkB,IACb,CACD,CAAA,EAIGA,GAAa,IAAM,CAEvB,MAAMC,EADevB,EAAc,gBACH,MAAM,EAAE,EAAE,CAAC,EAC3C,GAAIuB,EACF7G,EAAK6G,CAAU,MACV,CACL,GACE/O,EAAMmI,CAAY,EAAE,OAASE,EAAgB,cAAc,CAAC,EAAE,MAC9DrI,EAAMmI,CAAY,EAAE,OAASE,EAAgB,cAAc,CAAC,EAAE,SAC9D,CACQuG,IACR,MACF,CAEA1G,EAAKG,EAAgB,cAAc,CAAC,EAAE,IAAI,CAC5C,CAAA,EAII2G,GAAe,IAAM,CACzBjB,EAAS,IAAM,CACFe,IAAA,CACZ,CAAA,EAIGG,GAAkB,IAAM,CACjBf,GAAA,EAIPgB,GAA4BtB,GAAyCnK,GAAA,sBACzE2K,EAAYR,CAAI,CAAA,GAIZuB,GAAgB,IAAM,CAChBnB,GAAA,EAINoB,GAAiB,IAAM,CAChBnB,GAAA,EAIPoB,GAAmB,IAAY5L,GAAA,sBACnC,MAAMqK,GAAS,EACJ,UAAArI,KAAKzF,EAAMsO,CAAY,EAChC,GAAI7I,EAAE,WAAazF,EAAMmI,CAAY,EAAE,KAAM,CAC3CmH,GAAa7J,CAAC,EACVA,EAAE,WAAazF,EAAMmI,CAAY,EAAE,UACvBqF,EAAA,kBAAkBxN,EAAMmI,CAAY,CAAC,EAGrD,KACF,CACF,GAGIoH,GAAeC,KAEfF,GAAgBG,GAA8C,QAC5D,MAAAC,GAAQhK,GAAA1F,EAAM2P,EAAY,IAAlB,YAAAjK,GAAqB,QACnC,IAAIkK,EAAsC,KACtCC,EAAqC,KAEnC,MAAAC,GAAU9P,EAAMuP,EAAY,EAMlC,GAJIO,GAAQ,OAAS,IACnBF,EAAWE,GAAQ,CAAC,EACVD,EAAAC,GAAQA,GAAQ,OAAS,CAAC,IAEjCF,GAAA,YAAAA,EAAU,IAAqC,WAAaH,EAAW,SAAU,CAE9E,KAAA,CAAE,MAAAzC,EAAM,EAAIL,GAAY,CAC5B,GAAI+C,EACJ,SAAU,aACV,GAAI,EACJ,SAAU,GAAA,CACX,EACK1C,IAAA,UACI6C,GAAA,YAAAA,EAAS,IAAqC,WAAaJ,EAAW,SAAU,CAEpF,KAAA,CAAE,MAAAzC,EAAM,EAAIL,GAAY,CAC5B,GAAI+C,EACJ,SAAU,aACV,GAAIA,EAAO,YAAcA,EAAO,YAChC,SAAU,GAAA,CACX,EACK1C,IAAA,KACD,CAEL,MAAM+C,GAAuBD,GAAQ,UAClC1K,KAAUA,IAAA,YAAAA,GAAM,IAAqC,WAAaqK,EAAW,QAAA,EAE1EO,GAAU,SAAS,uBAAuB,GAAGzQ,CAAS,QAAQ,EAE9D0Q,GAAUD,GAAQD,GAAe,CAAC,EAClCG,GAAUF,GAAQD,GAAe,CAAC,EAGlCI,EAAyBD,GAAQ,WAAaA,GAAQ,YAAc,EAGpEE,GAA0BH,GAAQ,WAAa,EAErD,GAAIE,EAAyBnQ,EAAMqQ,CAAgB,EAAIX,EAAO,YAAa,CACnE,KAAA,CAAE,MAAA1C,EAAM,EAAIL,GAAY,CAC5B,GAAI+C,EACJ,SAAU,aACV,GAAIS,EAAyBT,EAAO,YACpC,SAAU,GAAA,CACX,EACK1C,IACG,SAAAoD,GAA0BpQ,EAAMqQ,CAAgB,EAAG,CACtD,KAAA,CAAE,MAAArD,EAAM,EAAIL,GAAY,CAC5B,GAAI+C,EACJ,SAAU,aACV,GAAIU,GACJ,SAAU,GAAA,CACX,EACKpD,IACR,CACF,CAAA,EAII7B,GAAYQ,GACTA,EAAM,OAAS3L,EAAMmI,CAAY,EAAE,KAItCmI,GAAWd,KAGXzD,GAAgB,CAACC,EAAkBuE,IAA2C,CAClF,GAAIvE,EACS,UAAAvG,KAAKzF,EAAMsQ,EAAQ,EAAG,CAC/B,MAAMrE,EAAoBxG,EAAE,kBACxB8K,EAAQ,WAAa9K,EAAE,QAAQ,WACjCwG,GAAA,MAAAA,EAAmB,cACnBuC,EAAa+B,CAAO,EAExB,CACF,EAIIZ,GAAe9P,IAGfwQ,EAAmBxQ,EAAI,CAAC,EAExB2Q,EAAS,CAAC,CAAE,WAAAC,KAAiB,CACjCJ,EAAiB,MAAQI,CAAA,EAIrBlE,EAAQK,GAAe,OACrB,MAAA8C,GAAQhK,EAAA1F,EAAM2P,EAAY,IAAlB,YAAAjK,EAAqB,QAC7B,CAAE,MAAAsH,CAAM,EAAIL,GAAY,CAC5B,GAAI+C,EACJ,SAAU,aACV,GAAI1P,EAAMqQ,CAAgB,EAAIzD,EAC9B,SAAU,GAAA,CACX,EACKI,GAAA,EAGR,OAAA5C,GAAU,IAAM,CACLsE,IACDE,GAAA,CACT,EAED9O,GACE,IAAMqI,EAAa,MACnB,IAAM,CACIyG,IACSS,IACnB,CAAA,k0JC5PI,KAAA,CAAE,aAAAjQ,GAAiBE,IAEnBC,EAAYH,EAAa,MAAM,EAE/Ba,EAAWC,IAEXI,EAAOT,EAAI,EAAI,EAEfkG,EAAQvD,EAAS,IAAMvC,EAAS,QAAQ,EAExCsC,EAASC,EAAS,IAAMvC,EAAS,SAAS,EAE1C0I,EAAWnG,EAAS,IAAMvC,EAAS,WAAW,EAEpD,OAAAmK,GAAU,IAAM,CACVpK,EAAM2I,CAAQ,IAAGrI,EAAK,MAAQ,GAAA,CACnC,EAEDR,GACE,IAAM6I,EAAS,MACdA,GAAsB,CACrB,GAAI3I,EAAMuC,CAAM,IAAM,WAAavC,EAAMuC,CAAM,IAAM,UAAW,CAC9DjC,EAAK,MAAQ,GACb,MACF,CACKqI,EAKHrI,EAAK,MAAQ,CAACqI,EAJd,WAAW,IAAM,CACfrI,EAAK,MAAQ,CAACqI,GACb,GAAG,CAIV,CAAA,EAGF7I,GACE,IAAMyC,EAAO,MACZA,GAAW,CACNA,IAAW,OAASA,IAAW,UACjCjC,EAAK,MAAQ,GAETN,EAAM2I,CAAQ,EAChBrI,EAAK,MAAQ,GAEbA,EAAK,MAAQ,EAGnB,CAAA,ijBC/CI,KAAA,CAAE,aAAAlB,GAAiBE,IAEnBC,EAAYH,EAAa,QAAQ,EAEjCa,EAAWC,IAEX6F,EAAQvD,EAAS,IAAMvC,EAAS,QAAQ,yTCL9C,MAAMA,EAAWC,IAEX0B,EAASY,EAAS,IAAMvC,EAAS,SAAS,EAE1CuN,EAAgBa,KAEhBqC,EAAYlO,EAAS,IAClBgL,EAAc,cACtB,kgBCRK,KAAA,CAAE,aAAApO,GAAiBE,IAEnBC,EAAYH,EAAa,UAAU,EAMnCa,EAAWC,IAEXyI,EAAWnG,EAAS,IAAMvC,EAAS,WAAW,EAE9C0Q,EAAiB,IAAM,CACrB,MAAAC,EAAY5Q,EAAM2I,CAAQ,EACvB1I,EAAA,YAAY,CAAC2Q,CAAS,CAAA,yTCZ3B,KAAA,CAAE,aAAAxR,GAAiBE,IAEnBC,EAAYH,EAAa,eAAe,EAMxC,CAAE,EAAAwD,GAAMzC,KAERF,EAAWC,IAEX2Q,EAAUrO,EAAS,IAAMvC,EAAS,OAAO,EAEzC6Q,EAAkBjQ,GAAwB,CAC9CZ,EAAS,eAAeY,CAAI,CAAA,qaCvBfkQ,GAAA,oYCMf,MAAMC,EAAQC,KAERzR,EAAQC,EAORyR,EAAe1O,EAAS,IAAM,CAClC,MAAM2O,EAAmB,CAAC,aAAc,QAAS,WAAW,EACtDC,EAAQC,KACRC,EAAMrM,IAAA,GAAKmM,GAAU5R,GAC3B,UAAW+R,KAAOD,EACZH,EAAO,QAAQI,CAAG,IAAM,IAC1B,OAAOD,EAAIC,CAAG,EAGX,OAAAD,CAAA,CACR,EAEKE,EAAe3R,EAAI,EAAK,EAExB4R,EAAa,IAAM,CACVD,EAAA,MAAQ,CAACxR,EAAMwR,CAAY,CAAA,EAGpCE,EAAe7R,EAAI8R,GAASnS,EAAM,SAAS,EAAI,GAAGA,EAAM,SAAS,KAAOA,EAAM,SAAS,EAE7FM,GACE,IAAM0R,EAAa,MACZzR,GAAiB0D,GAAA,sBAEtB,GADA,MAAMqK,GAAS,EACX/N,EAAK,CACD,MAAA6R,EAAe,SAAS,gBAAgB,aACjCF,EAAA,MAAQ,GAAGE,EAAe,GAAK,IAAMZ,EAAM,OAAS,GAAK,EAAE,IAAA,MAE3DU,EAAA,MAAQC,GAASnS,EAAM,SAAS,EAAI,GAAGA,EAAM,SAAS,KAAOA,EAAM,SAEpF,GACA,CACE,UAAW,EACb,CAAA,EAGI,MAAAqS,EAAcrP,EAAS,KACpB,CACL,OAAQxC,EAAM0R,CAAY,CAAA,EAE7B,g6BC3CYI,GAAeC,GAAY,OAAQ,CAC9C,MAAO,KACE,CACL,SAAU,CAGV,CAAA,GAGJ,QAAS,CACP,aAAwB,CACtB,OAAO,KAAK,QACd,CACF,EACA,QAAS,CACP,YAAYC,EAAoB,CAC9B,KAAK,SAAWA,CAClB,EACA,eAAgB,CACd,KAAK,SAAW,EAClB,EACA,OAAOC,EAAkB,OACnB,QAAAvM,EAAA,KAAK,WAAL,YAAAA,EAAe,YAAauM,GAC9B,KAAK,cAAc,EACZ,IAEA,EAEX,CACF,EACA,QAAS,EACX,CAAC,kVC7BD,MAAMC,EAAUC,KAEV,CAAE,aAAA/S,GAAiBE,IACnBC,EAAYH,EAAa,aAAa,EAEtC,CAAE,SAAAgT,GAAaC,KAEf,CAAE,EAAAzP,GAAMzC,KAERmS,EAAYR,KAEZtS,EAAQC,EAMRC,EAAOC,EAEP4S,EAAgB/P,EAAS,CAC7B,IAAK,IAAMhD,EAAM,WACjB,IAAMO,GAAQ,CACJ,QAAA,IAAI,QAASA,CAAG,EACxBL,EAAK,oBAAqBK,CAAG,CAC/B,CAAA,CACD,EAEKyS,EAAc3S,EAAI+C,EAAE,iBAAiB,CAAC,EAEtC6P,EAAQjJ,GAAS,CACrB,SAAU,CAAC4I,GAAU,CAAA,CACtB,EAEKM,EAAuBlJ,GAAS,CACpC,CACE,MAAO5G,EAAE,mBAAmB,EAC5B,MAAO,WACP,UAAW,QACX,eAAgB,CACd,KAAM,WACN,aAAc,EAChB,CACF,CAAA,CACD,EAEK,CAAE,aAAA+P,EAAc,YAAAC,CAAY,EAAIC,GAAQ,EAExC,CAAE,YAAAC,EAAa,gBAAAC,CAAoB,EAAAH,EAEnCI,EAAa,IAAYvP,GAAA,sBACvB,MAAAwP,EAAa,MAAMF,IACbE,GAAA,MAAAA,EAAA,SAAgBC,GAAUzP,GAAA,sBACpC,GAAIyP,EAAO,CACTX,EAAc,MAAQ,GAChB,MAAAY,EAAW,MAAML,IACvBR,EAAU,YAAYrN,EAAA,CACpB,OAAQ,IACLkO,EACJ,CACH,CAAA,GACD,ikBC1DUC,GAAWC,GCZXC,GAAS,CAAC3I,EAAY,KAAS,CACtC,IAAA4I,EAEJ,MAAMC,EAAQhK,GAAS,CACrB,KAAM,EACN,MAAO,EACP,KAAM,GACN,IAAK,EACL,KAAM,GACN,OAAQ,GACR,OAAQ,EACR,SAAU,EAAA,CACX,EAEKiK,EAAS,IAAM,CACnB,MAAMC,EAAMN,KAENO,EAAID,EAAI,OAAO,IAAI,EACnBE,EAAIF,EAAI,OAAO,IAAI,EACnBtM,EAAIsM,EAAI,IAAI,GAAG,EAEfF,EAAA,KAAOE,EAAI,IAAI,GAAG,EACxBF,EAAM,MAAQE,EAAI,IAAI,GAAG,EAAI,EAC7BF,EAAM,KAAO,KAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAG,EAAEE,EAAI,IAAK,CAAA,EAC3DF,EAAA,IAAME,EAAI,IAAI,MAAM,EAC1BF,EAAM,KAAOG,EACbH,EAAM,OAASI,EACfJ,EAAM,OAASpM,EAEToM,EAAA,SAAWE,EAAI,OAAO,GAAG,CAAA,EAGjC,SAAS1G,GAAQ,CACRyG,IACP,cAAcF,CAAK,EACnBA,EAAQ,YAAY,IAAME,EAAO,EAAG,GAAI,CAC1C,CAEA,SAASnG,GAAO,CACd,cAAciG,CAAK,CACrB,CAEA,OAAAM,GAAa,IAAM,CACjBlJ,GAAaqC,EAAM,CAAA,CACpB,EAED8G,GAAe,IAAM,CACdxG,GAAA,CACN,EAEM3H,GAAAV,EAAA,GACF8O,GAAOP,CAAK,GADV,CAEL,MAAAxG,EACA,KAAAM,CAAA,EAEJ,wfC5CA,MAAM4E,EAAUC,KACV3E,EAAgBa,KAEhB,CAAE,MAAAvK,GAAUnB,KAEZ,CAAE,QAAA+K,GAAYtF,KAEd6J,EAAWpS,EAAI,EAAE,EACjBmU,EAAUnU,EAAI,EAAK,EACnBoU,EAASpU,EAAI,EAAK,EAClBqU,EAAWrU,EAAI,EAAI,EAEnB,CAAE,aAAAT,GAAiBE,IACnBC,EAAYH,EAAa,WAAW,EAEpCkT,EAAYR,KAEZ,CAAE,KAAAqC,EAAM,MAAAC,EAAO,OAAAC,EAAQ,SAAAC,EAAU,KAAAC,EAAM,IAAAC,EAAK,KAAAC,CAAA,EAASnB,GAAO,EAAI,EAEhE,CAAE,EAAA1Q,GAAMzC,KAGd,SAAeuU,GAAS,QAAAjR,GAAA,sBAClB,GAAA,CAACwO,EAAS,MACZ,OAEF,IAAI0C,EAAM1C,EAAS,MACf,GAAA,CACF+B,EAAQ,MAAQ,GAChB,MAAMnK,EAAM,MAAMyI,EAAU,OAAOqC,CAAG,EACtCV,EAAO,MAAQ,CAACpK,CAAA,QAChB,CACAmK,EAAQ,MAAQ,EAClB,CACF,GAGA,SAAeY,GAAU,QAAAnR,GAAA,uBACX,MAAMoR,GAAY,EAAE,MAAM,IAAM,CAAA,CAAE,KAEtC/Q,IACN0J,EAAc,YAAY,EACdsH,KACZxC,EAAU,cAAc,EACxB5E,EAAQ,QAAQ,EAEpB,GAES,SAAAqH,EAAezU,EAAO,GAAO,CACpC4T,EAAS,MAAQ5T,CACnB,i2ECvDA,MAAM0U,EAAY7C,KAEZG,EAAYR,KAEZmD,EAAYzS,EAAS,IAAM,SAAA,OAAA0S,GAAAxP,EAAA4M,EAAU,cAAV,YAAA5M,EAAuB,SAAvB,KAAAwP,EAAiC,GAAK,EAEjE,CAAE,aAAA9V,GAAiBE,IAEnBC,EAAYH,EAAa,WAAW,EAEpC,CAAE,EAAAwD,GAAMzC,KAERgV,EAAW,IAAM,CACrBH,EAAU,cAAc,CAAA,EAGpBzC,EAAgB1S,EAAa,EAAK,EAGlCuV,EAAa,IAAM,CACvB7C,EAAc,MAAQ,EAAA,4zBCxBlB,KAAA,CAAE,aAAAnT,GAAiBE,IAEnBC,EAAYH,EAAa,YAAY,EAMrC,CAAE,OAAAiW,EAAQ,aAAA7D,CAAa,EAAI8D,GAAc,EAEzCC,EAAmB,IAAM,CACtBF,GAAA,2KCdIG,GAAmB,CAC9B9L,EACAnD,EAAa,KACW,OACxB,MAAMsD,EAA2B,CAAA,EAEjC,UAAW8B,KAASjC,EAAQ,CAC1B,MAAM5D,EAAO6F,GAAA,YAAAA,EAAO,KACpB,GAAI7F,EAAK,QAAU,CAACA,EAAK,MACvB,SAGI,MAAAgE,EACJ,CAAChE,EAAK,cAAcJ,EAAAiG,EAAM,WAAN,YAAAjG,EAAgB,UAAW,EAC3CC,GAAAV,EAAA,GAAK0G,EAAM,SAAS,CAAC,GAArB,CAAwB,KAAM9E,GAAY8E,EAAM,KAAMA,EAAM,SAAS,CAAC,EAAE,IAAI,CAAE,GAC9E1G,EAAA,GAAK0G,GAEX7B,EAAK,KAAOjD,GAAYN,EAAYuD,EAAK,IAAI,EAEzCA,EAAK,WACPA,EAAK,SAAW0L,GAAiB1L,EAAK,SAAUA,EAAK,IAAI,GAEvDA,GACFD,EAAI,KAAKC,CAAI,CAEjB,CACO,OAAAD,CACT,ECnBgD,SAAA1C,GAAAC,EAAA,CAAA,OAAA,OAAAA,GAAA,YAAAC,OAAAC,UAAAC,SAAAC,KAAAJ,CAAA,IAAAK,mBAAAA,CAAAA,GAAAL,CAAA,CAAA,CAEhD,KAAM,CAAEhI,aAAAA,EAAa,EAAIE,EAAS,EAE5BC,GAAYH,GAAa,YAAY,EAErCa,GAAWC,EAAW,EAGtBK,GAAiBiC,EAAS,IAAMvC,GAASwV,iBAAiB,EAEjD/N,KAAgB,CAC7BC,KAAM,aACNK,OAAQ,CACN,KAAM,CAAEG,aAAAA,CAAa,EAAIC,GAAS,EAE5B,CAAExF,EAAAA,CAAE,EAAIzC,GAAO,EAEfuV,EAAY7V,EAAyB,CAAA,CAAE,EAEvCwI,EAAkBC,KAElBqN,EAAcnT,EAAS,IAAM,CACjC,MAAM8D,EAAU+B,EAAgBK,WAChC,OAAO8M,GAAiBlP,CAAO,CACjC,CAAC,EAEKsP,EAAgBA,IAAM,CAC1B,MAAMxK,EAAcjD,EAAasC,MAAMoL,QAAQC,MAAM,EAAE,EAAE,CAAC,EAAEnR,KAC5D+Q,EAAUjL,MAAQ1F,GAA0B/E,EAAM2V,CAAW,EAAI7Q,GACxDA,EAAKH,OAASyG,CACtB,GAGG2K,EAAmBA,IACA3R,GAAgCpE,EAAM0V,CAAS,CAAC,EACjDjP,IAAKhB,GAAM,CAC/B,MAAMuQ,EAAW,CAACvQ,EAAEwQ,UAAYxQ,EAAEwQ,WAAa,aACzCnQ,EAAOL,EAAEK,KACf,OAAAG,EAAAiQ,GAAA,CAAA,GACwB,CAAEvR,KAAMqR,EAAW,GAAKvQ,EAAEd,IAAM,EAAA,IAAOc,EAAEkC,IAAI,EAAA,CAAAV,QAAAA,IAAA,SAAA,OAChEnB,GAAAA,MAAAA,EAAME,MAAQzF,GAAekK,2BAEd3E,EAAKE,KAAI,MAAA,UAAA,EAAA,IAAA,EAAAmQ,EAA4BvT,GAAAA,EAAAA,GAAE6C,EAAAA,GAAAA,YAAAA,EAAGK,OAAHL,YAAAA,EAASM,KAAK,CAAC,CAAA,EAGpEnD,GAAE6C,EAAAA,GAAAA,YAAAA,EAAGK,OAAHL,YAAAA,EAASM,KAAK,CACjB,EAAA,CAAA,CAGP,CAAC,EAGHjG,OAAAA,GACE,IAAMqI,EAAasC,MAClBkB,GAAyC,CACpCA,EAAMhH,KAAKyR,WAAW,YAAY,GAGtCR,GACF,EACA,CACEjL,UAAW,EACb,CACF,EAEO,IAAA,CAAA,IAAAvB,EAAA,OAAAnD,EAAAoQ,GAAA,CAAA,UAAA,IAAA,MAC+B,GAAE9W,EAAS,qCAAqC,EAAA,CAAA0H,QAAAA,IAAAhB,CAAAA,EAAAqQ,GAAA,CAAA,OAAA,GAAA,qBAAA,wCAAAnP,EAAAA,GAAAiC,EAE/E2M,EAAkB,CAAA,EAAA3M,EAAA,CAAAnC,QAAAA,IAAA,CAAAmC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAI3B,CACF,CAAC,6CC1EK,cAAEhK,GAAcC,UAAAA,EAAU,EAAIC,EAAS,EAEvCC,GAAYH,GAAa,aAAa,EAEtCa,GAAWC,EAAW,EAGtBE,GAAaoC,EAAS,IAAMvC,GAAS2V,aAAa,EAGlDnV,GAAY+B,EAAS,IAAMvC,GAASsW,YAAY,EAGhD5V,GAAa6B,EAAS,IAAMvC,GAASuW,aAAa,EAGlD3V,GAAO2B,EAAS,IAAMvC,GAASwW,OAAO,EAGtClU,GAASC,EAAS,IAAMvC,GAASgI,SAAS,EAG1ClH,GAASyB,EAAS,IAAMvC,GAASyW,SAAS,EAEjChP,KAAgB,CAC7BC,KAAM,aACNK,OAAQ,CACN,MAAO,IAAA/B,EAAA,MAAA,CAAA,GAEE,GAAE5G,GAAUiM,SAAU,eAAa,MACjC,CACL/L,GACA,gGAA+F,CAChG,EAAA,CAEAgD,GAAOkI,QAAU,kDAEbhK,GAAUgK,OAASlI,GAAOkI,QAAU,2EAEjC1C,IAAAA,EAAAA,OACH3H,GAAWqK,MAAIxE,EAAA0Q,GAAA,CAAA,MAAA,YAAA,EAAA,IAAA,EAAmD5O,MAAS,CAAA,EAE5EA,OAAS9B,EAAA,MAAA,CAAA,MAAA,0BAAA,EAAA,CAEVtF,GAAW8J,uEAER1C,IAAAA,EAAAA,OACHlH,GAAK4J,MAAIxE,EAAA2Q,GAAA,CAAA,MAAA,eAAA,MAAA,gCAEN7O,IAAAA,EAAAA,OACHhH,GAAO0J,MAAIxE,EAAA4Q,GAAA,CAAA,MAAA,eAAA,MAAA,8BAAA,EAAA,IAAA,EAKR9O,OAAS9B,EAAA6Q,GAInB,KAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CACF,CACF,CAAC,6CC7DK,CAAE1X,aAAAA,EAAa,EAAIE,EAAS,EAE5BC,GAAYH,GAAa,QAAQ,EAEjCa,GAAWC,EAAW,EAEtB6W,GAAcvU,EAAS,IAAMvC,GAAS+W,cAAc,EAGpD/V,GAAWuB,EAAS,IAAMvC,GAASgX,WAAW,EAG9CtO,EAAWnG,EAAS,IAAMvC,GAAS2I,WAAW,EAG9CtH,GAAOkB,EAAS,IAAMvC,GAASqB,IAAI,EAGnCI,EAAcc,EAAS,IAAMvC,GAASiX,cAAc,EAGpDC,GAAS3U,EAAS,IAAMvC,GAASmX,SAAS,EAG1C/U,GAAYG,EAAS,IAAMvC,GAASgK,YAAY,EAEzCoN,GAAkBA,KAsQtB,CACLC,cAtQoBA,IACpBrR,EAAAC,EAAA,KAAA,CAAAD,EAAA,MAAA,CAAA,MAGa,CACL,oDACA,CAAE,gBAAiBkR,GAAO1M,MAAO,CAClC,EAAA,CAEAnJ,GAAKmJ,MAAKxE,EAAAsR,GAAA,CAAA,MAEA,CACL,0CACA,CACE,QAASJ,GAAO1M,OAAS9B,EAAS8B,MAClC,iCAAkCxK,GAAS2I,YAC3C,iCAAkC,CAAC3I,GAAS2I,WAC9C,CAAC,EACF,MAAA,4CAAA,EAAA,IAAA,EAGDb,OAAS9B,EAAAuF,GAAA,CAAA,MACA,CAAC,CAAE,qCAAsClK,GAAKmJ,MAAO,CAAC,EAAA,IAAA,CAAA,CAAA,EAAAxE,EAAA,MAAA,CAAA,MAG5D,CACJ,GAAE1G,EAAU,WACb,0BACA,CACE,8EACEoJ,EAAS8B,OAAS,CAAC0M,GAAO1M,OAAS,CAAC0M,GAAO1M,MAC7C,8EACE,CAAC9B,EAAS8B,OAAS,CAAC0M,GAAO1M,OAAS,CAAC0M,GAAO1M,MAC9C,wBAAyB0M,GAAO1M,KAClC,CAAC,EACF,MAAA,4CAAA,EAAA,CAAA+M,GAAAvR,EAAAoD,GAAA,CAAA,MAKQ,CACJ,GAAE9J,EAAU,qBACb,CACE,2HACEmC,EAAY+I,MACf,CACF,EAAA,CAAAxD,QAAAA,IAAA,CAAAhB,EAAA,MAAA,CAAA,MAGQ,CACL,CACE,0BAA2BvE,EAAY+I,MACvC,+EACE9B,EAAS8B,OAAS/I,EAAY+I,OAAS,CAAC0M,GAAO1M,MACjD,+EACE,CAAC9B,EAAS8B,OAAS/I,EAAY+I,OAAS,CAAC0M,GAAO1M,MAClD,kBAAmB0M,GAAO1M,KAC5B,CAAC,EACF,MAAA,8CAAAxE,CAAAA,EAAAwR,GAAA,CAAA,MAIQ,CACL,kCACA,CACE,wBAAyB,CAACxW,GAASwJ,MACpC,CACF,EAAA,IAAA,EAGFxJ,GAASwJ,MAAKxE,EAAAyR,GAAA,CAAA,MAAA,0CAAA,EAAA,IAAA,EAEX3P,MAAS,CAAA,EAAA9B,EAAA0R,GAAA,KAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAAC,GAAA,SAAA,EAjCJb,GAAYtM,KAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAgOpCoN,cArLoBA,IACpB5R,EAAAC,EAAA,KAAA,CAAAD,EAAA,MAAA,CAAA,MAAA,+GAAA,EAAA,CAGO3E,GAAKmJ,MAAKxE,EAAAsR,GAAA,CAAA,MAAA,cAAA,EAAA,IAAA,EAAwCxP,OAAS9B,EAAAwR,GAAA,CAAA,MAAA,QAAA,EAAA,IAAA,CAAA,CAAA,EAAAxR,EAAA,MAAA,CAAA,MAAA,kGAAAA,CAAAA,EAAAuF,GAAA,CAAA,MAAA,uCAAA,EAAA,IAAA,EAAAvF,EAAA,MAAA,CAAA,MAOnD,CACJ,GAAE1G,EAAU,WACb,WACA,CACE,8EACEoJ,EAAS8B,MACX,8EACE,CAAC9B,EAAS8B,KACd,CAAC,EACF,MAAA,4CAAA,EAAA,CAAA+M,GAAAvR,EAAAoD,GAAA,CAAA,MAKQ,CACJ,GAAE9J,EAAU,qBACb,CACE,6EACEmC,EAAY+I,OAASxJ,GAASwJ,MACjC,CACF,EAAA,CAAAxD,QAAAA,IAEAhG,CAAAA,GAASwJ,MAAKxE,EAAAyR,GAAA,CAAA,MAEJ,CACL,iCACA,CACE,2BAA4BhW,EAAY+I,MACxC,iHACE9B,EAAS8B,OAAS/I,EAAY+I,MAChC,iHACE,CAAC9B,EAAS8B,OAAS/I,EAAY+I,KACnC,CAAC,EACF,MAAA,8EAAA,EAAA,IAAA,EAGD1C,OAAS9B,EAAA0R,GAAA,KAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAAC,GAAA,SAAA,EAvBFb,GAAYtM,KAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EA8JtCqN,UA7HgBA,IAChB7R,EAAAC,EAAA,KAAA,CAAAD,EAAA,MAAA,CAAA,MAGa,CACL,6EACA,CACE,wBAAyB,CAAChF,GAASwJ,MACpC,CACF,EAAA,CAEAnJ,GAAKmJ,MAAKxE,EAAAsR,GAAA,CAAA,MAAA,cAAA,EAAA,IAAA,EAAwCxP,OAAS9B,EAAAuF,GAAA,CAAA,MAAA,2CAAA,EAAA,IAAA,EAAAvF,EAAAwR,GAAA,KAAA,IAAA,CAAA,CAAA,EAAAxR,EAAA,MAAA,CAAA,MAKrD,CACJ,GAAE1G,EAAU,WACb,SACA,CACE,0CAA2C,CAACmC,EAAY+I,MACxD,kEAAmE/I,EAAY+I,MAChF,CACF,EAAA,CAAA+M,GAAAvR,EAAAoD,GAAA,CAAA,MAIQ,CACJ,GAAE9J,EAAU,qBACb,CACE,4FACEmC,EAAY+I,MACd,gCAAiC,CAAC/I,EAAY+I,MAC/C,CACF,EAAA,CAAAxD,QAAAA,IAEAhG,CAAAA,GAASwJ,MAAKxE,EAAAyR,GAAA,CAAA,MAEJ,CACL,oDACA,CACE,8DAA+DhW,EAAY+I,KAC7E,CAAC,EACF,MAAA,8EAAA,EAAA,IAAA,EAGD1C,OAAS9B,EAAA0R,GAAA,KAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAAC,GAAA,SAAA,EApBFb,GAAYtM,KAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAoGpCsN,cAvEoBA,IACpB9R,EAAAC,EAAA,KAAA,CAAAD,EAAA,MAAA,CAAA,MAAA,kFAAA,EAAA,CAGO3E,GAAKmJ,MAAKxE,EAAAsR,GAAA,CAAA,MAAA,uBAAA,EAAA,IAAA,EAAiDxP,OAAS9B,EAAAwR,GAAA,CAAA,MAAA,QAAA,EAAA,IAAA,CAAA,CAAA,EAAAxR,EAAA,MAAA,CAAA,MAAA,oGAAA,EAAA,CAAAA,EAAA+R,GAAA,KAAA,IAAA,EAAA/R,EAAA,MAAA,CAAA,MAO5D,CACJ,GAAE1G,EAAU,WACb,WACA,CACE,4EACEoJ,EAAS8B,OAAS,CAACpI,GAAUoI,MAC/B,4EACE,CAAC9B,EAAS8B,OAAS,CAACpI,GAAUoI,MAChC,sGACE9B,EAAS8B,OAASpI,GAAUoI,MAC9B,sGACE,CAAC9B,EAAS8B,OAASpI,GAAUoI,KACjC,CAAC,EACF,MAAA,4CAAA,EAAA,CAAA+M,GAAAvR,EAAAoD,GAAA,CAAA,MAKQ,CACJ,GAAE9J,EAAU,qBACb,CACE,6EACEmC,EAAY+I,OAASxJ,GAASwJ,MACjC,CACF,EAAA,CAAAxD,QAAAA,IAEAhG,CAAAA,GAASwJ,MAAKxE,EAAAyR,GAAA,CAAA,MAEJ,CACL,oDACA,CACE,2BAA4BhW,EAAY+I,MACxC,qGACE9B,EAAS8B,OAAS/I,EAAY+I,MAChC,qGACE,CAAC9B,EAAS8B,OAAS/I,EAAY+I,MACjC,iFACE/I,EAAY+I,OAASpI,GAAUoI,MACjC,2JACE9B,EAAS8B,OAAS/I,EAAY+I,OAASpI,GAAUoI,MACnD,2JACE,CAAC9B,EAAS8B,OAAS/I,EAAY+I,OAASpI,GAAUoI,KACtD,CAAC,EACF,MAAA,8EAAA,EAAA,IAAA,EAGD1C,OAAS9B,EAAA0R,GAAA,KAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAAC,GAAA,SAAA,EA7BFb,GAAYtM,KAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IC5PpC,CAAErL,aAAAA,EAAa,EAAIE,EAAS,EAE5BC,GAAYH,GAAa,QAAQ,EAEjCa,GAAWC,EAAW,EAGtBiX,GAAS3U,EAAS,IAAMvC,GAASmX,SAAS,EAG1CzO,GAAWnG,EAAS,IAAMvC,GAAS2I,WAAW,EAE9CrG,GAASC,EAAS,IAAMvC,GAASgI,SAAS,EAE1CgQ,GAAqBA,IAAM,CAC/BhY,GAASkK,YAAY,EAAI,CAC3B,EAEM+N,GAAeA,IAAM,CACzB,OAAQlY,EAAMuC,EAAM,EAAC,CACnB,IAAK,UACH,KAAM,CAAE+U,cAAAA,CAAc,EAAID,GAAe,EACzC,OAAOC,EAAa,EACtB,IAAK,UACH,KAAM,CAAEO,cAAAA,CAAc,EAAIR,GAAe,EACzC,OAAOQ,EAAa,EACtB,IAAK,MACH,KAAM,CAAEC,UAAAA,CAAU,EAAIT,GAAe,EACrC,OAAOS,EAAS,EAClB,IAAK,UACH,KAAM,CAAEC,cAAAA,CAAc,EAAIV,GAAe,EACzC,OAAOU,EAAa,CAGxB,CACF,EAEerQ,KAAgB,CAC7BC,KAAM,SACNK,OAAQ,CACN,MAAO,IAAA/B,EAAA,UAAA,CAAA,MACW,CAAC1G,GAAY,GAAEA,EAAU,KAAIgD,GAAOkI,KAAM,GAAG,4BAA4B,GACtF0M,CAAAA,GAAO1M,OAAS,CAAC9B,GAAS8B,8GAGdwN,EAAkB,EAAA,IAAA,EAE3BlQ,OAEHmQ,GAAY,EAAEjS,EAAAkS,GAAA,KAAA,IAAA,EAAAlS,EAAAmS,GAMnB,KAAA,IAAA,CAAA,CAAA,CACF,CACF,CAAC"}